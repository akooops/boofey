import{s as Fe,f as c,a as g,l as de,g as f,h as b,z as U,c as w,d as u,m as ce,j as r,E as Qe,W as Ke,k as Je,B as He,i as V,C as i,F as me,n as we,A as Ee,T as qe,y as xe,p as Pe,o as Ht,G as Ye,K as Me,I as tt,Q as rt,e as lt,D as xt,S as jt}from"./scheduler.726ac76d.js";import{S as Ge,i as ze,b as Se,d as Ae,m as De,a as he,g as Xe,t as be,c as Ze,e as Le,h as Rt}from"./index.8a5ed380.js";import{e as ot}from"./each.381f634d.js";import{S as Bt,T as Ut,U as qt,V as Ft,W as Gt}from"./paths.29c5142d.js";import{t as at}from"./toast.aca1940a.js";import{i as it,f as st,g as nt}from"./utils.5f096ebf.js";import{a as We}from"./auth.82ff8344.js";import{Q as Pt,p as Ot}from"./print.92311ca4.js";import{V as Oe}from"./ViewRow.487fb326.js";import{n as zt}from"./stores.1008b3f8.js";import"./paths.7846b4ff.js";import{S as Jt}from"./SchoolsTableCollapse.54a8e5ef.js";function dt(n){let e,t='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1ei7695"&&(e.innerHTML=t),this.h()},h(){r(e,"class","mt-2")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function Kt(n){let e,t,l,s,a,o='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',m,p,h,d,v,C,I,D="Are you Sure ?",E,j,L,k,M=`${n[2].name} #${n[2].id}`,T,ae,_,S,R,H="Close",J,A,F="Delete",$,G,Y=n[1]&&dt();return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),a=c("div"),a.innerHTML=o,m=g(),Y&&Y.c(),p=g(),h=c("div"),d=c("lord-icon"),C=g(),I=c("h4"),I.textContent=D,E=g(),j=c("p"),L=de("Are you Sure You want to Delete "),k=c("span"),T=de(M),ae=de(" ?"),_=g(),S=c("div"),R=c("button"),R.textContent=H,J=g(),A=c("button"),A.textContent=F,this.h()},l(N){e=f(N,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var y=b(e);t=f(y,"DIV",{class:!0});var pe=b(t);l=f(pe,"DIV",{class:!0});var ue=b(l);s=f(ue,"DIV",{class:!0});var X=b(s);a=f(X,"DIV",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-3pipod"&&(a.innerHTML=o),m=w(X),Y&&Y.l(X),p=w(X),h=f(X,"DIV",{class:!0});var ne=b(h);d=f(ne,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),b(d).forEach(u),C=w(ne),I=f(ne,"H4",{class:!0,"data-svelte-h":!0}),U(I)!=="svelte-1s07vlj"&&(I.textContent=D),E=w(ne),j=f(ne,"P",{class:!0});var _e=b(j);L=ce(_e,"Are you Sure You want to Delete "),k=f(_e,"SPAN",{class:!0});var K=b(k);T=ce(K,M),K.forEach(u),ae=ce(_e," ?"),_e.forEach(u),_=w(ne),S=f(ne,"DIV",{class:!0});var se=b(S);R=f(se,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),U(R)!=="svelte-1h5uvws"&&(R.textContent=H),J=w(se),A=f(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(A)!=="svelte-iuig3c"&&(A.textContent=F),se.forEach(u),ne.forEach(u),X.forEach(u),ue.forEach(u),pe.forEach(u),y.forEach(u),this.h()},h(){r(a,"class","text-end"),Qe(d.src,v="https://cdn.lordicon.com/gsqxdxog.json")||Ke(d,"src",v),Ke(d,"trigger","loop"),Ke(d,"colors","primary:#f7b84b,secondary:#f06548"),Je(d,"width","100px"),Je(d,"height","100px"),r(I,"class","mb-3 mt-4"),r(k,"class","text-primary"),r(j,"class","text-muted fs-15 mb-4"),r(R,"type","button"),r(R,"class","btn btn-light fw-light"),r(R,"data-bs-dismiss","modal"),r(A,"type","button"),r(A,"class","btn btn-danger waves-effect waves-light"),r(S,"class","hstack gap-2 justify-content-center"),r(h,"class","mt-2"),He(h,"d-none",n[1]),r(s,"class","modal-body text-center p-5"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered"),r(e,"id","deleteCanteenModal"),r(e,"class","modal fade"),r(e,"tabindex","-1"),r(e,"aria-hidden","true"),Je(e,"display","none")},m(N,y){V(N,e,y),i(e,t),i(t,l),i(l,s),i(s,a),i(s,m),Y&&Y.m(s,null),i(s,p),i(s,h),i(h,d),i(h,C),i(h,I),i(h,E),i(h,j),i(j,L),i(j,k),i(k,T),i(j,ae),i(h,_),i(h,S),i(S,R),n[5](R),i(S,J),i(S,A),$||(G=me(A,"click",n[4]),$=!0)},p(N,[y]){N[1]?Y||(Y=dt(),Y.c(),Y.m(s,p)):Y&&(Y.d(1),Y=null),y&4&&M!==(M=`${N[2].name} #${N[2].id}`)&&we(T,M),y&2&&He(h,"d-none",N[1])},i:Ee,o:Ee,d(N){N&&u(e),Y&&Y.d(),n[5](null),$=!1,G()}}}function Qt(n,e,t){let l,s,a=!1,{canteenStore:o}=qe("canteenStore");xe(n,o,h=>t(2,l=h));async function m(){t(1,a=!0);let h=await fetch(Bt(l.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"DELETE"});if(We(h),h=await h.json(),t(1,a=!1),h.status=="success"){s.click();let d=`Deleted ${l.name} #${l.id}`;at(d,"success"),it("canteens:refresh")}}function p(h){Pe[h?"unshift":"push"](()=>{s=h,t(0,s)})}return[s,a,l,o,m,p]}class Yt extends Ge{constructor(e){super(),ze(this,e,Qt,Kt,Fe,{})}}function Xt(n){let e,t,l=n[5].name+"",s;return{c(){e=de("Name : "),t=c("span"),s=de(l),this.h()},l(a){e=ce(a,"Name : "),t=f(a,"SPAN",{class:!0});var o=b(t);s=ce(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){V(a,e,o),V(a,t,o),i(t,s)},p(a,o){o&32&&l!==(l=a[5].name+"")&&we(s,l)},d(a){a&&(u(e),u(t))}}}function Zt(n){let e,t,l=n[5].name_ar+"",s;return{c(){e=de("Arabic Name : "),t=c("span"),s=de(l),this.h()},l(a){e=ce(a,"Arabic Name : "),t=f(a,"SPAN",{class:!0});var o=b(t);s=ce(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){V(a,e,o),V(a,t,o),i(t,s)},p(a,o){o&32&&l!==(l=a[5].name_ar+"")&&we(s,l)},d(a){a&&(u(e),u(t))}}}function ct(n){let e,t;return e=new Oe({props:{$$slots:{default:[Wt]},$$scope:{ctx:n}}}),{c(){Se(e.$$.fragment)},l(l){Ae(e.$$.fragment,l)},m(l,s){De(e,l,s),t=!0},p(l,s){const a={};s&32800&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){t||(he(e.$$.fragment,l),t=!0)},o(l){be(e.$$.fragment,l),t=!1},d(l){Le(e,l)}}}function Wt(n){var m,p;let e,t,l,s,a=((p=(m=n[5])==null?void 0:m.school)==null?void 0:p.name)+"",o;return{c(){e=de(`School :      
                        `),t=c("img"),s=g(),o=de(a),this.h()},l(h){e=ce(h,`School :      
                        `),t=f(h,"IMG",{src:!0,alt:!0,class:!0}),s=w(h),o=ce(h,a),this.h()},h(){var h,d,v;Qe(t.src,l=(v=(d=(h=n[5])==null?void 0:h.school)==null?void 0:d.logo)==null?void 0:v.full_path)||r(t,"src",l),r(t,"alt",""),r(t,"class","avatar-xs rounded-circle")},m(h,d){V(h,e,d),V(h,t,d),V(h,s,d),V(h,o,d)},p(h,d){var v,C,I,D,E;d&32&&!Qe(t.src,l=(I=(C=(v=h[5])==null?void 0:v.school)==null?void 0:C.logo)==null?void 0:I.full_path)&&r(t,"src",l),d&32&&a!==(a=((E=(D=h[5])==null?void 0:D.school)==null?void 0:E.name)+"")&&we(o,a)},d(h){h&&(u(e),u(t),u(s),u(o))}}}function el(n){let e,t,l=n[5].address+"",s;return{c(){e=de("Address : "),t=c("span"),s=de(l),this.h()},l(a){e=ce(a,"Address : "),t=f(a,"SPAN",{class:!0});var o=b(t);s=ce(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){V(a,e,o),V(a,t,o),i(t,s)},p(a,o){o&32&&l!==(l=a[5].address+"")&&we(s,l)},d(a){a&&(u(e),u(t))}}}function tl(n){let e,t,l=n[5].address_ar+"",s;return{c(){e=de("Arabic Address : "),t=c("span"),s=de(l),this.h()},l(a){e=ce(a,"Arabic Address : "),t=f(a,"SPAN",{class:!0});var o=b(t);s=ce(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){V(a,e,o),V(a,t,o),i(t,s)},p(a,o){o&32&&l!==(l=a[5].address_ar+"")&&we(s,l)},d(a){a&&(u(e),u(t))}}}function ft(n){let e,t,l,s,a,o,m,p,h,d,v="",C,I,D,E="Download",j,L,k="Print",M,T,ae;return e=new Oe({props:{$$slots:{default:[ll]},$$scope:{ctx:n}}}),s=new Oe({props:{$$slots:{default:[nl]},$$scope:{ctx:n}}}),m=new Oe({props:{$$slots:{default:[rl]},$$scope:{ctx:n}}}),{c(){Se(e.$$.fragment),t=g(),l=c("div"),Se(s.$$.fragment),a=g(),o=c("span"),Se(m.$$.fragment),p=g(),h=c("span"),d=c("div"),d.innerHTML=v,C=g(),I=c("div"),D=c("button"),D.textContent=E,j=g(),L=c("button"),L.textContent=k,this.h()},l(_){Ae(e.$$.fragment,_),t=w(_),l=f(_,"DIV",{class:!0});var S=b(l);Ae(s.$$.fragment,S),a=w(S),o=f(S,"SPAN",{});var R=b(o);Ae(m.$$.fragment,R),R.forEach(u),p=w(S),h=f(S,"SPAN",{});var H=b(h);d=f(H,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),U(d)!=="svelte-1kvxcwl"&&(d.innerHTML=v),C=w(H),I=f(H,"DIV",{class:!0});var J=b(I);D=f(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(D)!=="svelte-6n7v8c"&&(D.textContent=E),j=w(J),L=f(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(L)!=="svelte-19so32g"&&(L.textContent=k),J.forEach(u),H.forEach(u),S.forEach(u),this.h()},h(){He(o,"d-none",n[4]),r(d,"class","text-center"),r(d,"id","qrImage"),r(D,"type","button"),r(D,"class","btn btn-primary waves-effect waves-light"),r(L,"type","button"),r(L,"class","btn btn-primary waves-effect waves-light"),r(I,"class","text-center hstack gap-2 justify-content-center mb-2"),He(h,"d-none",n[4]==!1),r(l,"class","ps-3")},m(_,S){De(e,_,S),V(_,t,S),V(_,l,S),De(s,l,null),i(l,a),i(l,o),De(m,o,null),i(l,p),i(l,h),i(h,d),n[13](d),i(h,C),i(h,I),i(I,D),i(I,j),i(I,L),M=!0,T||(ae=[me(D,"click",n[8]),me(L,"click",n[9])],T=!0)},p(_,S){const R={};S&32768&&(R.$$scope={dirty:S,ctx:_}),e.$set(R);const H={};S&32808&&(H.$$scope={dirty:S,ctx:_}),s.$set(H);const J={};S&32784&&(J.$$scope={dirty:S,ctx:_}),m.$set(J),(!M||S&16)&&He(o,"d-none",_[4]),(!M||S&16)&&He(h,"d-none",_[4]==!1)},i(_){M||(he(e.$$.fragment,_),he(s.$$.fragment,_),he(m.$$.fragment,_),M=!0)},o(_){be(e.$$.fragment,_),be(s.$$.fragment,_),be(m.$$.fragment,_),M=!1},d(_){_&&(u(t),u(l)),Le(e,_),Le(s),Le(m),n[13](null),T=!1,Ye(ae)}}}function ll(n){let e;return{c(){e=de("APi Key")},l(t){e=ce(t,"APi Key")},m(t,l){V(t,e,l)},d(t){t&&u(e)}}}function sl(n){let e;return{c(){e=c("i"),this.h()},l(t){e=f(t,"I",{class:!0}),b(e).forEach(u),this.h()},h(){r(e,"class","ri-file-copy-line")},m(t,l){V(t,e,l)},d(t){t&&u(e)}}}function al(n){let e;return{c(){e=c("i"),this.h()},l(t){e=f(t,"I",{class:!0}),b(e).forEach(u),this.h()},h(){r(e,"class","ri-check-double-line")},m(t,l){V(t,e,l)},d(t){t&&u(e)}}}function nl(n){let e,t,l,s,a,o,m;function p(v,C){return v[3]?al:sl}let h=p(n),d=h(n);return{c(){e=c("div"),t=c("input"),l=g(),s=c("button"),d.c(),this.h()},l(v){e=f(v,"DIV",{class:!0});var C=b(e);t=f(C,"INPUT",{type:!0,class:!0,"aria-label":!0,role:!0}),l=w(C),s=f(C,"BUTTON",{type:!0,class:!0});var I=b(s);d.l(I),I.forEach(u),C.forEach(u),this.h()},h(){r(t,"type","text"),r(t,"class","form-control blur svelte-n6xcfj"),r(t,"aria-label","APi key"),t.readOnly=!0,r(t,"role","button"),r(s,"type","button"),r(s,"class",a="btn btn-icon waves-effect waves-light "+(n[3]?"btn-success":"btn-primary")),r(e,"class","input-group")},m(v,C){V(v,e,C),i(e,t),Me(t,n[5].api_key),i(e,l),i(e,s),d.m(s,null),o||(m=[me(t,"input",n[11]),me(t,"click",n[7]),me(s,"click",n[7])],o=!0)},p(v,C){C&32&&t.value!==v[5].api_key&&Me(t,v[5].api_key),h!==(h=p(v))&&(d.d(1),d=h(v),d&&(d.c(),d.m(s,null))),C&8&&a!==(a="btn btn-icon waves-effect waves-light "+(v[3]?"btn-success":"btn-primary"))&&r(s,"class",a)},d(v){v&&u(e),d.d(),o=!1,Ye(m)}}}function rl(n){let e,t="Generate Qr",l,s;return{c(){e=c("button"),e.textContent=t,this.h()},l(a){e=f(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1wqdv19"&&(e.textContent=t),this.h()},h(){r(e,"type","button"),r(e,"class","btn btn-primary waves-effect waves-light")},m(a,o){V(a,e,o),l||(s=me(e,"click",n[12]),l=!0)},p:Ee,d(a){a&&u(e),l=!1,s()}}}function il(n){let e,t,l=st(n[5].created_at)+"",s;return{c(){e=de("Created at : "),t=c("span"),s=de(l),this.h()},l(a){e=ce(a,"Created at : "),t=f(a,"SPAN",{class:!0});var o=b(t);s=ce(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){V(a,e,o),V(a,t,o),i(t,s)},p(a,o){o&32&&l!==(l=st(a[5].created_at)+"")&&we(s,l)},d(a){a&&(u(e),u(t))}}}function ol(n){let e,t,l=st(n[5].updated_at)+"",s;return{c(){e=de("Updated at : "),t=c("span"),s=de(l),this.h()},l(a){e=ce(a,"Updated at : "),t=f(a,"SPAN",{class:!0});var o=b(t);s=ce(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){V(a,e,o),V(a,t,o),i(t,s)},p(a,o){o&32&&l!==(l=st(a[5].updated_at)+"")&&we(s,l)},d(a){a&&(u(e),u(t))}}}function dl(n){let e,t,l,s,a='<h5 class="modal-title" id="exampleModalgridLabel">View Canteen</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,m,p,h,d,v,C,I,D,E,j,L,k,M,T,ae,_,S='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>',R,H,J;p=new Oe({props:{$$slots:{default:[Xt]},$$scope:{ctx:n}}}),d=new Oe({props:{$$slots:{default:[Zt]},$$scope:{ctx:n}}});let A=n[0]&&ct(n);I=new Oe({props:{$$slots:{default:[el]},$$scope:{ctx:n}}}),E=new Oe({props:{$$slots:{default:[tl]},$$scope:{ctx:n}}});let F=n[1]==!1&&ft(n);return k=new Oe({props:{$$slots:{default:[il]},$$scope:{ctx:n}}}),T=new Oe({props:{$$slots:{default:[ol]},$$scope:{ctx:n}}}),{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),s.innerHTML=a,o=g(),m=c("div"),Se(p.$$.fragment),h=g(),Se(d.$$.fragment),v=g(),A&&A.c(),C=g(),Se(I.$$.fragment),D=g(),Se(E.$$.fragment),j=g(),F&&F.c(),L=g(),Se(k.$$.fragment),M=g(),Se(T.$$.fragment),ae=g(),_=c("div"),_.innerHTML=S,this.h()},l($){e=f($,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var G=b(e);t=f(G,"DIV",{class:!0});var Y=b(t);l=f(Y,"DIV",{class:!0});var N=b(l);s=f(N,"DIV",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-1kqagam"&&(s.innerHTML=a),o=w(N),m=f(N,"DIV",{class:!0});var y=b(m);Ae(p.$$.fragment,y),h=w(y),Ae(d.$$.fragment,y),v=w(y),A&&A.l(y),C=w(y),Ae(I.$$.fragment,y),D=w(y),Ae(E.$$.fragment,y),j=w(y),F&&F.l(y),L=w(y),Ae(k.$$.fragment,y),M=w(y),Ae(T.$$.fragment,y),ae=w(y),_=f(y,"DIV",{class:!0,"data-svelte-h":!0}),U(_)!=="svelte-1vrqtk3"&&(_.innerHTML=S),y.forEach(u),N.forEach(u),Y.forEach(u),G.forEach(u),this.h()},h(){r(s,"class","modal-header"),r(_,"class","hstack gap-2 justify-content-end"),r(m,"class","modal-body p-4"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered "),r(e,"class","modal fade"),r(e,"id","viewCanteenModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m($,G){V($,e,G),i(e,t),i(t,l),i(l,s),i(l,o),i(l,m),De(p,m,null),i(m,h),De(d,m,null),i(m,v),A&&A.m(m,null),i(m,C),De(I,m,null),i(m,D),De(E,m,null),i(m,j),F&&F.m(m,null),i(m,L),De(k,m,null),i(m,M),De(T,m,null),i(m,ae),i(m,_),R=!0,H||(J=me(e,"hidden.bs.modal",n[10]),H=!0)},p($,[G]){const Y={};G&32800&&(Y.$$scope={dirty:G,ctx:$}),p.$set(Y);const N={};G&32800&&(N.$$scope={dirty:G,ctx:$}),d.$set(N),$[0]?A?(A.p($,G),G&1&&he(A,1)):(A=ct($),A.c(),he(A,1),A.m(m,C)):A&&(Xe(),be(A,1,1,()=>{A=null}),Ze());const y={};G&32800&&(y.$$scope={dirty:G,ctx:$}),I.$set(y);const pe={};G&32800&&(pe.$$scope={dirty:G,ctx:$}),E.$set(pe),$[1]==!1?F?(F.p($,G),G&2&&he(F,1)):(F=ft($),F.c(),he(F,1),F.m(m,L)):F&&(Xe(),be(F,1,1,()=>{F=null}),Ze());const ue={};G&32800&&(ue.$$scope={dirty:G,ctx:$}),k.$set(ue);const X={};G&32800&&(X.$$scope={dirty:G,ctx:$}),T.$set(X)},i($){R||(he(p.$$.fragment,$),he(d.$$.fragment,$),he(A),he(I.$$.fragment,$),he(E.$$.fragment,$),he(F),he(k.$$.fragment,$),he(T.$$.fragment,$),R=!0)},o($){be(p.$$.fragment,$),be(d.$$.fragment,$),be(A),be(I.$$.fragment,$),be(E.$$.fragment,$),be(F),be(k.$$.fragment,$),be(T.$$.fragment,$),R=!1},d($){$&&u(e),Le(p),Le(d),A&&A.d(),Le(I),Le(E),F&&F.d(),Le(k),Le(T),H=!1,J()}}}let ut=200,ht=200;function cl(n,e,t){let l,{canteenStore:s}=qe("canteenStore");xe(n,s,k=>t(5,l=k));let{general:a}=e,{simple:o=!1}=e,m,p,h=!1,d=!1;function v(){h||(navigator.clipboard.writeText(l.api_key),t(3,h=!0),setTimeout(()=>{t(3,h=!1)},1e3))}s.subscribe(()=>{p&&p.update({width:ut,height:ht,type:"png",data:l.api_key})}),Ht(()=>{p=new Pt({width:ut,height:ht,type:"png"}),p.append(m)});async function C(){await p.download({name:l.name,extension:"png"})}async function I(){Ot({printable:"qrImage",type:"html",header:`Boofey - ${l.name}`})}function D(){t(4,d=!1)}function E(){l.api_key=this.value,s.set(l)}const j=()=>t(4,d=!0);function L(k){Pe[k?"unshift":"push"](()=>{m=k,t(2,m)})}return n.$$set=k=>{"general"in k&&t(0,a=k.general),"simple"in k&&t(1,o=k.simple)},[a,o,m,h,d,l,s,v,C,I,D,E,j,L]}class fl extends Ge{constructor(e){super(),ze(this,e,cl,dl,Fe,{general:0,simple:1})}}function ul(n){let e,t,l;return{c(){e=c("input"),this.h()},l(s){e=f(s,"INPUT",{type:!0,class:!0,"aria-label":!0}),this.h()},h(){r(e,"type","text"),r(e,"class","form-control"),r(e,"aria-label","APi key"),e.readOnly=!0},m(s,a){V(s,e,a),Me(e,n[3]),t||(l=me(e,"input",n[12]),t=!0)},p(s,a){a&8&&e.value!==s[3]&&Me(e,s[3])},d(s){s&&u(e),t=!1,l()}}}function hl(n){let e,t,l;return{c(){e=c("input"),this.h()},l(s){e=f(s,"INPUT",{type:!0,class:!0,"aria-label":!0}),this.h()},h(){r(e,"type","text"),r(e,"class","form-control text-primary"),r(e,"aria-label","APi key"),e.disabled=!0},m(s,a){V(s,e,a),Me(e,n[2]),t||(l=me(e,"input",n[11]),t=!0)},p(s,a){a&4&&e.value!==s[2]&&Me(e,s[2])},d(s){s&&u(e),t=!1,l()}}}function ml(n){let e;return{c(){e=c("i"),this.h()},l(t){e=f(t,"I",{class:!0}),b(e).forEach(u),this.h()},h(){r(e,"class","ri-file-copy-line")},m(t,l){V(t,e,l)},d(t){t&&u(e)}}}function pl(n){let e;return{c(){e=c("i"),this.h()},l(t){e=f(t,"I",{class:!0}),b(e).forEach(u),this.h()},h(){r(e,"class","ri-check-double-line")},m(t,l){V(t,e,l)},d(t){t&&u(e)}}}function vl(n){let e,t,l,s,a='<h5 class="modal-title" id="exampleModalgridLabel">Canteen&#39;s API Key</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,m,p,h,d,v,C="Canteen API key",I,D,E,j,L,k,M,T,ae="",_,S,R,H="Download",J,A,F="Print",$,G,Y=`<div class="alert alert-warning alert-border-left alert-dismissible fade show" role="alert"><i class="ri-alert-line me-3 align-middle"></i>Please note that this API key cannot be retrieved once generated, so it&#39;s crucial to store it securely, preferably within an environment variable. Failing to do so may pose a risk of data leaks or unauthorized access to your sensitive information. Protect your API key like a digital key to your home.
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>`,N,y,pe='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>',ue,X;function ne(P,fe){return P[3]==""?hl:ul}let _e=ne(n),K=_e(n);function se(P,fe){return P[0]?pl:ml}let le=se(n),W=le(n);return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),s.innerHTML=a,o=g(),m=c("div"),p=c("form"),h=c("div"),d=c("div"),v=c("label"),v.textContent=C,I=g(),D=c("div"),K.c(),E=g(),j=c("button"),W.c(),M=g(),T=c("div"),T.innerHTML=ae,_=g(),S=c("div"),R=c("button"),R.textContent=H,J=g(),A=c("button"),A.textContent=F,$=g(),G=c("div"),G.innerHTML=Y,N=g(),y=c("div"),y.innerHTML=pe,this.h()},l(P){e=f(P,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var fe=b(e);t=f(fe,"DIV",{class:!0});var Ce=b(t);l=f(Ce,"DIV",{class:!0});var ee=b(l);s=f(ee,"DIV",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-1ndu0ny"&&(s.innerHTML=a),o=w(ee),m=f(ee,"DIV",{class:!0});var re=b(m);p=f(re,"FORM",{});var oe=b(p);h=f(oe,"DIV",{class:!0});var te=b(h);d=f(te,"DIV",{});var z=b(d);v=f(z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1h1ngyq"&&(v.textContent=C),I=w(z),D=f(z,"DIV",{class:!0});var ie=b(D);K.l(ie),E=w(ie),j=f(ie,"BUTTON",{type:!0,class:!0});var Q=b(j);W.l(Q),Q.forEach(u),ie.forEach(u),z.forEach(u),M=w(te),T=f(te,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),U(T)!=="svelte-v72knf"&&(T.innerHTML=ae),_=w(te),S=f(te,"DIV",{class:!0});var O=b(S);R=f(O,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(R)!=="svelte-6n7v8c"&&(R.textContent=H),J=w(O),A=f(O,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(A)!=="svelte-19so32g"&&(A.textContent=F),O.forEach(u),$=w(te),G=f(te,"DIV",{"data-svelte-h":!0}),U(G)!=="svelte-wdqe76"&&(G.innerHTML=Y),N=w(te),y=f(te,"DIV",{class:!0,"data-svelte-h":!0}),U(y)!=="svelte-ogmzhf"&&(y.innerHTML=pe),te.forEach(u),oe.forEach(u),re.forEach(u),ee.forEach(u),Ce.forEach(u),fe.forEach(u),this.h()},h(){r(s,"class","modal-header"),r(v,"for","canteenName"),r(v,"class","form-label"),r(j,"type","button"),r(j,"class",L="btn btn-icon waves-effect waves-light "+(n[0]?"btn-success":"btn-primary")),j.disabled=k=n[3]=="",r(D,"class","input-group"),r(T,"class","text-center"),r(T,"id","qrImage"),r(R,"type","button"),r(R,"class","btn btn-primary waves-effect waves-light"),r(A,"type","button"),r(A,"class","btn btn-primary waves-effect waves-light"),r(S,"class","text-center hstack gap-2 justify-content-center"),r(y,"class","hstack gap-2 justify-content-end"),r(h,"class","row g-3"),r(m,"class","modal-body"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","ApiModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(P,fe){V(P,e,fe),i(e,t),i(t,l),i(l,s),i(l,o),i(l,m),i(m,p),i(p,h),i(h,d),i(d,v),i(d,I),i(d,D),K.m(D,null),i(D,E),i(D,j),W.m(j,null),i(h,M),i(h,T),n[13](T),i(h,_),i(h,S),i(S,R),i(S,J),i(S,A),i(h,$),i(h,G),i(h,N),i(h,y),ue||(X=[me(j,"click",n[6]),me(R,"click",n[9]),me(A,"click",n[10]),me(e,"hidden.bs.modal",n[7]),me(e,"show.bs.modal",n[8])],ue=!0)},p(P,[fe]){_e===(_e=ne(P))&&K?K.p(P,fe):(K.d(1),K=_e(P),K&&(K.c(),K.m(D,E))),le!==(le=se(P))&&(W.d(1),W=le(P),W&&(W.c(),W.m(j,null))),fe&1&&L!==(L="btn btn-icon waves-effect waves-light "+(P[0]?"btn-success":"btn-primary"))&&r(j,"class",L),fe&8&&k!==(k=P[3]=="")&&(j.disabled=k)},i:Ee,o:Ee,d(P){P&&u(e),K.d(),W.d(),n[13](null),ue=!1,Ye(X)}}}let mt=200,pt=200;function _l(n,e,t){let l,s,a=!1,{apiStore:o}=qe("apiStore");xe(n,o,S=>t(3,s=S));let{canteenStore:m}=qe("canteenStore");xe(n,m,S=>t(17,l=S));let p,h,d="iOwqS7PMGO2kNNRh9UE8wvOWbZTmoMYAblxqVOfxCHweUaVKrXwucPa24LR7iQLu";function v(){a||(navigator.clipboard.writeText(s),t(0,a=!0),setTimeout(()=>{t(0,a=!1)},1e3))}function C(){tt(o,s="",s)}let I=0;function D(){s!=""&&clearInterval(j),t(2,d=E[I]),I=(I+1)%E.length}let E=["6uRnGDARwml6k1PAEQHANUy8uIdUCPDno4qwmHWsCOcbxdR8wnx5TXKBFD2IZHW3","37rE1nuNhGvWdmZrQBLCL4SMmvwyb1EtQU14olT7YbRI3fCncTkaeeL4quRuJepZ","kVt5RQY9U36YaK7o13B1eSRLxL0MkM3E3GqMarI5T2KIErnl7B2jAQfDQdyRPphv","GddXC74VlhTYS2jURTEYD5cmZ06YYGDnutAOeLL38FbtgOFn4RJuboEkvT7687vT","6FkgVZruKZXIathOhd8XPWIvkJAXskKCgM1dPhuRSXAEJjKSJcWXejLb0y1uxcRg","xiz0V9pJAimbVBK1Qc7nZsWgeoHK8YrDhPIQlNQefU222Lzr4uPLfCvLBgBTunmB","d83Lo4u4pKxJ1SScxkketuKlif2IPmZ9ijOk1Hv90LaIaxUZyjLdXGfwiZ3AfsUl","tP7CKy75ewajzAON7geWgVIgMVsjz8JPz7B3vGL9evmeixZvNsYd74ZYzyxRpYVv","HRvB4x4Al8Fz49U8HWnvyEIl81jAFidgD6XJROqfmCn0gj9cpwHGeM1B8RVvXAG8"],j;function L(){s==""&&(j=setInterval(D,1))}o.subscribe(()=>{h&&h.update({width:mt,height:pt,type:"png",data:s})}),Ht(()=>{h=new Pt({width:mt,height:pt,type:"png"}),h.append(p)});async function k(){await h.download({name:l.name,extension:"png"})}async function M(){Ot({printable:"qrImage",type:"html",header:`Boofey - ${l.name}`})}function T(){d=this.value,t(2,d)}function ae(){s=this.value,o.set(s)}function _(S){Pe[S?"unshift":"push"](()=>{p=S,t(1,p)})}return[a,p,d,s,o,m,v,C,L,k,M,T,ae,_]}class bl extends Ge{constructor(e){super(),ze(this,e,_l,vl,Fe,{})}}function vt(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-dxv6g9"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function _t(n){let e,t=n[2].name[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&4&&t!==(t=s[2].name[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function bt(n){let e,t=n[2].name_ar[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&4&&t!==(t=s[2].name_ar[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function gt(n){let e,t=n[2].address[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&4&&t!==(t=s[2].address[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function wt(n){let e,t=n[2].address_ar[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&4&&t!==(t=s[2].address_ar[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function gl(n){var ie,Q,O,ge;let e,t,l,s,a='<h5 class="modal-title" id="exampleModalgridLabel">Edit Canteen</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,m,p,h,d,v,C,I="Canteen Name",D,E,j,L,k,M,T="Arabic Name",ae,_,S,R,H,J,A="Canteen Address",F,$,G,Y,N,y,pe="Arabic Address",ue,X,ne,_e,K,se,le="Close",W,P,fe,Ce,ee=n[3]&&vt(),re=((ie=n[2])==null?void 0:ie.name)&&_t(n),oe=((Q=n[2])==null?void 0:Q.name_ar)&&bt(n),te=((O=n[2])==null?void 0:O.address)&&gt(n),z=((ge=n[2])==null?void 0:ge.address_ar)&&wt(n);return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),s.innerHTML=a,o=g(),m=c("div"),ee&&ee.c(),p=g(),h=c("form"),d=c("div"),v=c("div"),C=c("label"),C.textContent=I,D=g(),E=c("input"),j=g(),re&&re.c(),L=g(),k=c("div"),M=c("label"),M.textContent=T,ae=g(),_=c("input"),S=g(),oe&&oe.c(),R=g(),H=c("div"),J=c("label"),J.textContent=A,F=g(),$=c("textarea"),G=g(),te&&te.c(),Y=g(),N=c("div"),y=c("label"),y.textContent=pe,ue=g(),X=c("textarea"),ne=g(),z&&z.c(),_e=g(),K=c("div"),se=c("button"),se.textContent=le,W=g(),P=c("input"),this.h()},l(q){e=f(q,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var B=b(e);t=f(B,"DIV",{class:!0});var ke=b(t);l=f(ke,"DIV",{class:!0});var ve=b(l);s=f(ve,"DIV",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-147s2wb"&&(s.innerHTML=a),o=w(ve),m=f(ve,"DIV",{class:!0});var Te=b(m);ee&&ee.l(Te),p=w(Te),h=f(Te,"FORM",{});var x=b(h);d=f(x,"DIV",{class:!0});var Z=b(d);v=f(Z,"DIV",{});var Ne=b(v);C=f(Ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(C)!=="svelte-wiyfp8"&&(C.textContent=I),D=w(Ne),E=f(Ne,"INPUT",{type:!0,class:!0,id:!0,name:!0,placeholder:!0}),j=w(Ne),re&&re.l(Ne),Ne.forEach(u),L=w(Z),k=f(Z,"DIV",{});var Ie=b(k);M=f(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(M)!=="svelte-1nwxuze"&&(M.textContent=T),ae=w(Ie),_=f(Ie,"INPUT",{type:!0,class:!0,id:!0,name:!0,dir:!0,placeholder:!0}),S=w(Ie),oe&&oe.l(Ie),Ie.forEach(u),R=w(Z),H=f(Z,"DIV",{});var $e=b(H);J=f($e,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(J)!=="svelte-1hqr47e"&&(J.textContent=A),F=w($e),$=f($e,"TEXTAREA",{class:!0,name:!0,id:!0,placeholder:!0,rows:!0}),b($).forEach(u),G=w($e),te&&te.l($e),$e.forEach(u),Y=w(Z),N=f(Z,"DIV",{});var Ve=b(N);y=f(Ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(y)!=="svelte-dj2fbf"&&(y.textContent=pe),ue=w(Ve),X=f(Ve,"TEXTAREA",{class:!0,name:!0,id:!0,dir:!0,placeholder:!0,rows:!0}),b(X).forEach(u),ne=w(Ve),z&&z.l(Ve),Ve.forEach(u),_e=w(Z),K=f(Z,"DIV",{class:!0});var ye=b(K);se=f(ye,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),U(se)!=="svelte-1h5uvws"&&(se.textContent=le),W=w(ye),P=f(ye,"INPUT",{type:!0,class:!0}),ye.forEach(u),Z.forEach(u),x.forEach(u),Te.forEach(u),ve.forEach(u),ke.forEach(u),B.forEach(u),this.h()},h(){r(s,"class","modal-header"),r(C,"for","canteenName"),r(C,"class","form-label"),r(E,"type","text"),r(E,"class","form-control"),r(E,"id","canteenName"),r(E,"name","name"),r(E,"placeholder","Enter canteen name"),r(M,"for","productarName"),r(M,"class","form-label"),r(_,"type","text"),r(_,"class","form-control"),r(_,"id","productName"),r(_,"name","name_ar"),r(_,"dir","rtl"),r(_,"placeholder","ادخل اسم المقصف"),r(J,"for","exampleFormControlTextarea5"),r(J,"class","form-label"),r($,"class","form-control"),r($,"name","address"),r($,"id","exampleFormControlTextarea5"),r($,"placeholder","Enter canteen address"),r($,"rows","3"),r(y,"for","productarName"),r(y,"class","form-label"),r(X,"class","form-control"),r(X,"name","address_ar"),r(X,"id","exampleFormControlTextarea5"),r(X,"dir","rtl"),r(X,"placeholder","ادخل عنوان المقصف"),r(X,"rows","3"),r(se,"type","button"),r(se,"class","btn btn-light fw-light"),r(se,"data-bs-dismiss","modal"),r(P,"type","submit"),r(P,"class","btn btn-primary waves-effect waves-light"),P.value="Save",r(K,"class","hstack gap-2 justify-content-end"),r(d,"class","row g-3"),He(h,"d-none",n[3]),r(m,"class","modal-body"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","editCanteenModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(q,B){V(q,e,B),i(e,t),i(t,l),i(l,s),i(l,o),i(l,m),ee&&ee.m(m,null),i(m,p),i(m,h),i(h,d),i(d,v),i(v,C),i(v,D),i(v,E),Me(E,n[4].name),i(v,j),re&&re.m(v,null),i(d,L),i(d,k),i(k,M),i(k,ae),i(k,_),Me(_,n[4].name_ar),i(k,S),oe&&oe.m(k,null),i(d,R),i(d,H),i(H,J),i(H,F),i(H,$),Me($,n[4].address),i(H,G),te&&te.m(H,null),i(d,Y),i(d,N),i(N,y),i(N,ue),i(N,X),Me(X,n[4].address_ar),i(N,ne),z&&z.m(N,null),i(d,_e),i(d,K),i(K,se),n[11](se),i(K,W),i(K,P),n[12](h),fe||(Ce=[me(E,"input",n[7]),me(_,"input",n[8]),me($,"input",n[9]),me(X,"input",n[10]),me(h,"submit",rt(n[6]))],fe=!0)},p(q,[B]){var ke,ve,Te,x;q[3]?ee||(ee=vt(),ee.c(),ee.m(m,p)):ee&&(ee.d(1),ee=null),B&16&&E.value!==q[4].name&&Me(E,q[4].name),(ke=q[2])!=null&&ke.name?re?re.p(q,B):(re=_t(q),re.c(),re.m(v,null)):re&&(re.d(1),re=null),B&16&&_.value!==q[4].name_ar&&Me(_,q[4].name_ar),(ve=q[2])!=null&&ve.name_ar?oe?oe.p(q,B):(oe=bt(q),oe.c(),oe.m(k,null)):oe&&(oe.d(1),oe=null),B&16&&Me($,q[4].address),(Te=q[2])!=null&&Te.address?te?te.p(q,B):(te=gt(q),te.c(),te.m(H,null)):te&&(te.d(1),te=null),B&16&&Me(X,q[4].address_ar),(x=q[2])!=null&&x.address_ar?z?z.p(q,B):(z=wt(q),z.c(),z.m(N,null)):z&&(z.d(1),z=null),B&8&&He(h,"d-none",q[3])},i:Ee,o:Ee,d(q){q&&u(e),ee&&ee.d(),re&&re.d(),oe&&oe.d(),te&&te.d(),z&&z.d(),n[11](null),n[12](null),fe=!1,Ye(Ce)}}}function wl(n,e,t){let l,{canteenStore:s}=qe("canteenStore");xe(n,s,L=>t(4,l=L));let a,o,m,p=!1;async function h(){t(3,p=!0),t(3,p=!0),t(2,m={});let L=new FormData(o),k=await fetch(Ut(l.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:L});if(We(k),k=await k.json(),t(3,p=!1),k.status=="success"){a.click();let M=`Edited #${l.id} to ${l.name}`;at(M,"success"),it("canteens:refresh"),d()}else t(2,m=k.errors)}function d(){t(2,m={})}function v(){l.name=this.value,s.set(l)}function C(){l.name_ar=this.value,s.set(l)}function I(){l.address=this.value,s.set(l)}function D(){l.address_ar=this.value,s.set(l)}function E(L){Pe[L?"unshift":"push"](()=>{a=L,t(0,a)})}function j(L){Pe[L?"unshift":"push"](()=>{o=L,t(1,o)})}return[a,o,m,p,l,s,h,v,C,I,D,E,j]}class Cl extends Ge{constructor(e){super(),ze(this,e,wl,gl,Fe,{})}}function Ct(n){let e,t,l,s,a,o,m,p=n[0].school.name+"",h;return{c(){e=c("td"),t=c("div"),l=c("div"),s=c("img"),o=g(),m=c("div"),h=de(p),this.h()},l(d){e=f(d,"TD",{});var v=b(e);t=f(v,"DIV",{class:!0});var C=b(t);l=f(C,"DIV",{class:!0});var I=b(l);s=f(I,"IMG",{src:!0,alt:!0,class:!0}),I.forEach(u),o=w(C),m=f(C,"DIV",{class:!0});var D=b(m);h=ce(D,p),D.forEach(u),C.forEach(u),v.forEach(u),this.h()},h(){Qe(s.src,a=n[0].school.logo.full_path)||r(s,"src",a),r(s,"alt",""),r(s,"class","avatar-xs rounded-circle"),r(l,"class","flex-shrink-0"),r(m,"class","flex-grow-1"),r(t,"class","d-flex gap-2 align-items-center")},m(d,v){V(d,e,v),i(e,t),i(t,l),i(l,s),i(t,o),i(t,m),i(m,h)},p(d,v){v&1&&!Qe(s.src,a=d[0].school.logo.full_path)&&r(s,"src",a),v&1&&p!==(p=d[0].school.name+"")&&we(h,p)},d(d){d&&u(e)}}}function kl(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Orders"><i class="ri-survey-line"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t},l(a){e=f(a,"SPAN",{"data-svelte-h":!0}),U(e)!=="svelte-au3gk"&&(e.innerHTML=t)},m(a,o){V(a,e,o),n[12](e),l||(s=me(e,"click",n[11]),l=!0)},p:Ee,d(a){a&&u(e),n[12](null),l=!1,s()}}}function Tl(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Qr Exit"><i class="ri-qr-code-line"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t},l(a){e=f(a,"SPAN",{"data-svelte-h":!0}),U(e)!=="svelte-tv2fb1"&&(e.innerHTML=t)},m(a,o){V(a,e,o),n[13](e),l||(s=me(e,"click",n[10]),l=!0)},p:Ee,d(a){a&&u(e),n[13](null),l=!1,s()}}}function yl(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Queues"><i class="ri-team-line"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t},l(a){e=f(a,"SPAN",{"data-svelte-h":!0}),U(e)!=="svelte-chqxv3"&&(e.innerHTML=t)},m(a,o){V(a,e,o),n[14](e),l||(s=me(e,"click",n[9]),l=!0)},p:Ee,d(a){a&&u(e),n[14](null),l=!1,s()}}}function El(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Revoke API Key"><i class="ri-eraser-line"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=f(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),U(e)!=="svelte-aggpe0"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#RevokeApiModal")},m(a,o){V(a,e,o),l||(s=me(e,"click",n[7]),l=!0)},p:Ee,d(a){a&&u(e),l=!1,s()}}}function Il(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Generate API Key"><i class="ri-refresh-line"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=f(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),U(e)!=="svelte-vg9d8m"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#ApiModal")},m(a,o){V(a,e,o),l||(s=me(e,"click",n[8]),l=!0)},p:Ee,d(a){a&&u(e),l=!1,s()}}}function $l(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="View"><i class="ri-eye-fill"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=f(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),U(e)!=="svelte-hl3m7z"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#viewCanteenModal")},m(a,o){V(a,e,o),l||(s=me(e,"click",n[7]),l=!0)},p:Ee,d(a){a&&u(e),l=!1,s()}}}function Sl(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Edit"><i class="ri-edit-2-line"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=f(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),U(e)!=="svelte-1n6amly"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#editCanteenModal")},m(a,o){V(a,e,o),l||(s=me(e,"click",n[7]),l=!0)},p:Ee,d(a){a&&u(e),l=!1,s()}}}function Al(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Delete"><i class="ri-delete-bin-line"></i></a>',l,s;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=f(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),U(e)!=="svelte-1ngmh28"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#deleteCanteenModal")},m(a,o){V(a,e,o),l||(s=me(e,"click",n[7]),l=!0)},p:Ee,d(a){a&&u(e),l=!1,s()}}}function Dl(n){let e,t,l='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',s,a,o=n[0].id+"",m,p,h,d=n[0].name+"",v,C,I,D=n[0].name_ar+"",E,j,L,k,M=n[0].address+"",T,ae,_,S=n[0].address_ar+"",R,H,J,A,F=JSON.parse(sessionStorage.getItem("permissions")).includes("orders.index"),$,G=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.exit"),Y,N=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index"),y,pe=JSON.parse(sessionStorage.getItem("permissions")).includes("canteens.revoke"),ue,X=JSON.parse(sessionStorage.getItem("permissions")).includes("canteens.generate"),ne,_e=JSON.parse(sessionStorage.getItem("permissions")).includes("canteens.show"),K,se=JSON.parse(sessionStorage.getItem("permissions")).includes("canteens.update"),le,W=JSON.parse(sessionStorage.getItem("permissions")).includes("canteens.destroy"),P=n[1]&&Ct(n),fe=F&&kl(n),Ce=G&&Tl(n),ee=N&&yl(n),re=pe&&El(n),oe=X&&Il(n),te=_e&&$l(n),z=se&&Sl(n),ie=W&&Al(n);return{c(){e=c("tr"),t=c("td"),t.innerHTML=l,s=g(),a=c("td"),m=de(o),p=g(),h=c("td"),v=de(d),C=g(),I=c("td"),E=de(D),j=g(),P&&P.c(),L=g(),k=c("td"),T=de(M),ae=g(),_=c("td"),R=de(S),H=g(),J=c("td"),A=c("div"),fe&&fe.c(),$=g(),Ce&&Ce.c(),Y=g(),ee&&ee.c(),y=g(),re&&re.c(),ue=g(),oe&&oe.c(),ne=g(),te&&te.c(),K=g(),z&&z.c(),le=g(),ie&&ie.c(),this.h()},l(Q){e=f(Q,"TR",{scope:!0});var O=b(e);t=f(O,"TD",{"data-svelte-h":!0}),U(t)!=="svelte-1z5pzi"&&(t.innerHTML=l),s=w(O),a=f(O,"TD",{});var ge=b(a);m=ce(ge,o),ge.forEach(u),p=w(O),h=f(O,"TD",{});var q=b(h);v=ce(q,d),q.forEach(u),C=w(O),I=f(O,"TD",{});var B=b(I);E=ce(B,D),B.forEach(u),j=w(O),P&&P.l(O),L=w(O),k=f(O,"TD",{});var ke=b(k);T=ce(ke,M),ke.forEach(u),ae=w(O),_=f(O,"TD",{});var ve=b(_);R=ce(ve,S),ve.forEach(u),H=w(O),J=f(O,"TD",{});var Te=b(J);A=f(Te,"DIV",{class:!0});var x=b(A);fe&&fe.l(x),$=w(x),Ce&&Ce.l(x),Y=w(x),ee&&ee.l(x),y=w(x),re&&re.l(x),ue=w(x),oe&&oe.l(x),ne=w(x),te&&te.l(x),K=w(x),z&&z.l(x),le=w(x),ie&&ie.l(x),x.forEach(u),Te.forEach(u),O.forEach(u),this.h()},h(){r(A,"class","hstack gap-3 flex-wrap"),r(e,"scope","row")},m(Q,O){V(Q,e,O),i(e,t),i(e,s),i(e,a),i(a,m),i(e,p),i(e,h),i(h,v),i(e,C),i(e,I),i(I,E),i(e,j),P&&P.m(e,null),i(e,L),i(e,k),i(k,T),i(e,ae),i(e,_),i(_,R),i(e,H),i(e,J),i(J,A),fe&&fe.m(A,null),i(A,$),Ce&&Ce.m(A,null),i(A,Y),ee&&ee.m(A,null),i(A,y),re&&re.m(A,null),i(A,ue),oe&&oe.m(A,null),i(A,ne),te&&te.m(A,null),i(A,K),z&&z.m(A,null),i(A,le),ie&&ie.m(A,null)},p(Q,[O]){O&1&&o!==(o=Q[0].id+"")&&we(m,o),O&1&&d!==(d=Q[0].name+"")&&we(v,d),O&1&&D!==(D=Q[0].name_ar+"")&&we(E,D),Q[1]?P?P.p(Q,O):(P=Ct(Q),P.c(),P.m(e,L)):P&&(P.d(1),P=null),O&1&&M!==(M=Q[0].address+"")&&we(T,M),O&1&&S!==(S=Q[0].address_ar+"")&&we(R,S),F&&fe.p(Q,O),G&&Ce.p(Q,O),N&&ee.p(Q,O),pe&&re.p(Q,O),X&&oe.p(Q,O),_e&&te.p(Q,O),se&&z.p(Q,O),W&&ie.p(Q,O)},i:Ee,o:Ee,d(Q){Q&&u(e),P&&P.d(),fe&&fe.d(),Ce&&Ce.d(),ee&&ee.d(),re&&re.d(),oe&&oe.d(),te&&te.d(),z&&z.d(),ie&&ie.d()}}}function Ll(n,e,t){let l,s,{canteen:a}=e,{general:o}=e,{canteenStore:m}=qe("canteenStore");xe(n,m,T=>t(16,s=T));let{apiStore:p}=qe("apiStore");xe(n,p,T=>t(15,l=T));let h;function d(){tt(m,s=JSON.parse(JSON.stringify(a)),s)}async function v(){let T=await fetch(qt(a.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST"});We(T),T=await T.json(),tt(p,l=T.data.api_key,l)}function C(){let T=bootstrap.Tooltip.getOrCreateInstance(h);nt(`/admin/canteens/${a.id}/queues`),T.hide()}let I;function D(){let T=bootstrap.Tooltip.getOrCreateInstance(I);nt(`/admin/canteens/${a.id}/qr-exit`),T.hide()}let E;function j(){let T=bootstrap.Tooltip.getOrCreateInstance(E);nt(`/admin/canteens/${a.id}/orders`),T.hide()}function L(T){Pe[T?"unshift":"push"](()=>{E=T,t(4,E)})}function k(T){Pe[T?"unshift":"push"](()=>{I=T,t(3,I)})}function M(T){Pe[T?"unshift":"push"](()=>{h=T,t(2,h)})}return n.$$set=T=>{"canteen"in T&&t(0,a=T.canteen),"general"in T&&t(1,o=T.general)},[a,o,h,I,E,m,p,d,v,C,D,j,L,k,M]}class Ml extends Ge{constructor(e){super(),ze(this,e,Ll,Dl,Fe,{canteen:0,general:1})}}function kt(n){let e,t='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1ei7695"&&(e.innerHTML=t),this.h()},h(){r(e,"class","mt-2")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function Nl(n){let e,t,l,s,a,o='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',m,p,h,d,v,C,I,D,E="Are you Sure ?",j,L,k,M,T=`${n[2].name} #${n[2].id}`,ae,_,S,R,H,J="Close",A,F,$="Revoke",G,Y,N=n[1]&&kt();return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),a=c("div"),a.innerHTML=o,m=g(),N&&N.c(),p=g(),h=c("div"),d=c("form"),v=c("lord-icon"),I=g(),D=c("h4"),D.textContent=E,j=g(),L=c("p"),k=de("Are you Sure You want to Revoke the Api of "),M=c("span"),ae=de(T),_=de(" ?"),S=g(),R=c("div"),H=c("button"),H.textContent=J,A=g(),F=c("button"),F.textContent=$,this.h()},l(y){e=f(y,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var pe=b(e);t=f(pe,"DIV",{class:!0});var ue=b(t);l=f(ue,"DIV",{class:!0});var X=b(l);s=f(X,"DIV",{class:!0});var ne=b(s);a=f(ne,"DIV",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-3pipod"&&(a.innerHTML=o),m=w(ne),N&&N.l(ne),p=w(ne),h=f(ne,"DIV",{class:!0});var _e=b(h);d=f(_e,"FORM",{});var K=b(d);v=f(K,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),b(v).forEach(u),I=w(K),D=f(K,"H4",{class:!0,"data-svelte-h":!0}),U(D)!=="svelte-1s07vlj"&&(D.textContent=E),j=w(K),L=f(K,"P",{class:!0});var se=b(L);k=ce(se,"Are you Sure You want to Revoke the Api of "),M=f(se,"SPAN",{class:!0});var le=b(M);ae=ce(le,T),le.forEach(u),_=ce(se," ?"),se.forEach(u),S=w(K),R=f(K,"DIV",{class:!0});var W=b(R);H=f(W,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),U(H)!=="svelte-1h5uvws"&&(H.textContent=J),A=w(W),F=f(W,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(F)!=="svelte-1w9yuys"&&(F.textContent=$),W.forEach(u),K.forEach(u),_e.forEach(u),ne.forEach(u),X.forEach(u),ue.forEach(u),pe.forEach(u),this.h()},h(){r(a,"class","text-end"),Qe(v.src,C="https://cdn.lordicon.com/tdrtiskw.json")||Ke(v,"src",C),Ke(v,"trigger","loop"),Ke(v,"colors","primary:#f7b84b,secondary:#f06548"),Je(v,"width","100px"),Je(v,"height","100px"),r(D,"class","mb-3 mt-4"),r(M,"class","text-primary"),r(L,"class","text-muted fs-15 mb-4"),r(H,"type","button"),r(H,"class","btn btn-light fw-light"),r(H,"data-bs-dismiss","modal"),r(F,"type","button"),r(F,"class","btn btn-danger waves-effect waves-light"),r(R,"class","hstack gap-2 justify-content-center"),He(d,"d-none",n[1]),r(h,"class","mt-2"),He(h,"d-none",n[1]),r(s,"class","modal-body text-center p-5"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered"),r(e,"id","RevokeApiModal"),r(e,"class","modal fade"),r(e,"tabindex","-1"),r(e,"aria-hidden","true"),Je(e,"display","none")},m(y,pe){V(y,e,pe),i(e,t),i(t,l),i(l,s),i(s,a),i(s,m),N&&N.m(s,null),i(s,p),i(s,h),i(h,d),i(d,v),i(d,I),i(d,D),i(d,j),i(d,L),i(L,k),i(L,M),i(M,ae),i(L,_),i(d,S),i(d,R),i(R,H),n[5](H),i(R,A),i(R,F),G||(Y=[me(F,"click",n[4]),me(d,"submit",rt(n[4]))],G=!0)},p(y,[pe]){y[1]?N||(N=kt(),N.c(),N.m(s,p)):N&&(N.d(1),N=null),pe&4&&T!==(T=`${y[2].name} #${y[2].id}`)&&we(ae,T),pe&2&&He(d,"d-none",y[1]),pe&2&&He(h,"d-none",y[1])},i:Ee,o:Ee,d(y){y&&u(e),N&&N.d(),n[5](null),G=!1,Ye(Y)}}}function Vl(n,e,t){let l,s,a=!1,{canteenStore:o}=qe("canteenStore");xe(n,o,h=>t(2,l=h));async function m(){t(1,a=!0);let h=await fetch(Ft(l.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST"});if(We(h),h=await h.json(),t(1,a=!1),h.status=="success"){s.click();let d=`Revoked ${l.name} #${l.id} API`;at(d,"success")}}function p(h){Pe[h?"unshift":"push"](()=>{s=h,t(0,s)})}return[s,a,l,o,m,p]}class Hl extends Ge{constructor(e){super(),ze(this,e,Vl,Nl,Fe,{})}}function Tt(n,e,t){const l=n.slice();return l[3]=e[t],l}function yt(n){let e,t="School";return{c(){e=c("th"),e.textContent=t,this.h()},l(l){e=f(l,"TH",{scope:!0,"data-svelte-h":!0}),U(e)!=="svelte-16s5zj3"&&(e.textContent=t),this.h()},h(){r(e,"scope","col")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function Et(n){let e,t,l=ot(n[0]),s=[];for(let o=0;o<l.length;o+=1)s[o]=It(Tt(n,l,o));const a=o=>be(s[o],1,1,()=>{s[o]=null});return{c(){e=c("tbody");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=f(o,"TBODY",{class:!0});var m=b(e);for(let p=0;p<s.length;p+=1)s[p].l(m);m.forEach(u),this.h()},h(){r(e,"class","list")},m(o,m){V(o,e,m);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(e,null);t=!0},p(o,m){if(m&3){l=ot(o[0]);let p;for(p=0;p<l.length;p+=1){const h=Tt(o,l,p);s[p]?(s[p].p(h,m),he(s[p],1)):(s[p]=It(h),s[p].c(),he(s[p],1),s[p].m(e,null))}for(Xe(),p=l.length;p<s.length;p+=1)a(p);Ze()}},i(o){if(!t){for(let m=0;m<l.length;m+=1)he(s[m]);t=!0}},o(o){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)be(s[m]);t=!1},d(o){o&&u(e),xt(s,o)}}}function It(n){let e,t;return e=new Ml({props:{canteen:n[3],general:n[1]}}),{c(){Se(e.$$.fragment)},l(l){Ae(e.$$.fragment,l)},m(l,s){De(e,l,s),t=!0},p(l,s){const a={};s&1&&(a.canteen=l[3]),s&2&&(a.general=l[1]),e.$set(a)},i(l){t||(he(e.$$.fragment,l),t=!0)},o(l){be(e.$$.fragment,l),t=!1},d(l){Le(e,l)}}}function $t(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-2svhwp"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function Pl(n){var fe,Ce,ee,re,oe,te,z,ie,Q,O,ge,q;let e,t,l,s,a,o,m='<div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div>',p,h,d="ID",v,C,I="Name",D,E,j="Arabic Name",L,k,M,T="Address",ae,_,S="Arabic Address",R,H,J="Action",A,F,$,G,Y,N,y,pe,ue,X,ne,_e,K,se,le=n[1]&&yt(),W=(n[2]==null||((ee=(Ce=(fe=n[2])==null?void 0:fe.from)==null?void 0:Ce.route)==null?void 0:ee.id)!=((te=(oe=(re=n[2])==null?void 0:re.to)==null?void 0:oe.route)==null?void 0:te.id))&&Et(n);$=new Cl({}),Y=new Yt({}),y=new fl({props:{general:n[1]}}),ue=new bl({}),ne=new Hl({});let P=((Q=(ie=(z=n[2])==null?void 0:z.from)==null?void 0:ie.route)==null?void 0:Q.id)==((q=(ge=(O=n[2])==null?void 0:O.to)==null?void 0:ge.route)==null?void 0:q.id)&&n[2]&&$t();return{c(){e=c("div"),t=c("div"),l=c("table"),s=c("thead"),a=c("tr"),o=c("th"),o.innerHTML=m,p=g(),h=c("th"),h.textContent=d,v=g(),C=c("th"),C.textContent=I,D=g(),E=c("th"),E.textContent=j,L=g(),le&&le.c(),k=g(),M=c("th"),M.textContent=T,ae=g(),_=c("th"),_.textContent=S,R=g(),H=c("th"),H.textContent=J,A=g(),W&&W.c(),F=g(),Se($.$$.fragment),G=g(),Se(Y.$$.fragment),N=g(),Se(y.$$.fragment),pe=g(),Se(ue.$$.fragment),X=g(),Se(ne.$$.fragment),_e=g(),P&&P.c(),K=lt(),this.h()},l(B){e=f(B,"DIV",{class:!0});var ke=b(e);t=f(ke,"DIV",{class:!0});var ve=b(t);l=f(ve,"TABLE",{class:!0});var Te=b(l);s=f(Te,"THEAD",{class:!0});var x=b(s);a=f(x,"TR",{});var Z=b(a);o=f(Z,"TH",{scope:!0,style:!0,"data-svelte-h":!0}),U(o)!=="svelte-gbrsm8"&&(o.innerHTML=m),p=w(Z),h=f(Z,"TH",{scope:!0,"data-svelte-h":!0}),U(h)!=="svelte-njzezq"&&(h.textContent=d),v=w(Z),C=f(Z,"TH",{scope:!0,"data-svelte-h":!0}),U(C)!=="svelte-z0rb3w"&&(C.textContent=I),D=w(Z),E=f(Z,"TH",{scope:!0,"data-svelte-h":!0}),U(E)!=="svelte-1sr5kji"&&(E.textContent=j),L=w(Z),le&&le.l(Z),k=w(Z),M=f(Z,"TH",{scope:!0,"data-svelte-h":!0}),U(M)!=="svelte-wjripr"&&(M.textContent=T),ae=w(Z),_=f(Z,"TH",{scope:!0,"data-svelte-h":!0}),U(_)!=="svelte-1bnvx33"&&(_.textContent=S),R=w(Z),H=f(Z,"TH",{scope:!0,"data-svelte-h":!0}),U(H)!=="svelte-13kjjst"&&(H.textContent=J),Z.forEach(u),x.forEach(u),A=w(Te),W&&W.l(Te),Te.forEach(u),F=w(ve),Ae($.$$.fragment,ve),G=w(ve),Ae(Y.$$.fragment,ve),N=w(ve),Ae(y.$$.fragment,ve),pe=w(ve),Ae(ue.$$.fragment,ve),X=w(ve),Ae(ne.$$.fragment,ve),ve.forEach(u),ke.forEach(u),_e=w(B),P&&P.l(B),K=lt(),this.h()},h(){r(o,"scope","col"),Je(o,"width","25px"),r(h,"scope","col"),r(C,"scope","col"),r(E,"scope","col"),r(M,"scope","col"),r(_,"scope","col"),r(H,"scope","col"),r(s,"class","table-light"),r(l,"class","table align-end mb-0 border-top"),r(t,"class","table-responsive"),r(e,"class","row pe-0")},m(B,ke){V(B,e,ke),i(e,t),i(t,l),i(l,s),i(s,a),i(a,o),i(a,p),i(a,h),i(a,v),i(a,C),i(a,D),i(a,E),i(a,L),le&&le.m(a,null),i(a,k),i(a,M),i(a,ae),i(a,_),i(a,R),i(a,H),i(l,A),W&&W.m(l,null),i(t,F),De($,t,null),i(t,G),De(Y,t,null),i(t,N),De(y,t,null),i(t,pe),De(ue,t,null),i(t,X),De(ne,t,null),V(B,_e,ke),P&&P.m(B,ke),V(B,K,ke),se=!0},p(B,[ke]){var Te,x,Z,Ne,Ie,$e,Ve,ye,je,Re,Be,Ue;B[1]?le||(le=yt(),le.c(),le.m(a,k)):le&&(le.d(1),le=null),B[2]==null||((Z=(x=(Te=B[2])==null?void 0:Te.from)==null?void 0:x.route)==null?void 0:Z.id)!=(($e=(Ie=(Ne=B[2])==null?void 0:Ne.to)==null?void 0:Ie.route)==null?void 0:$e.id)?W?(W.p(B,ke),ke&4&&he(W,1)):(W=Et(B),W.c(),he(W,1),W.m(l,null)):W&&(Xe(),be(W,1,1,()=>{W=null}),Ze());const ve={};ke&2&&(ve.general=B[1]),y.$set(ve),((je=(ye=(Ve=B[2])==null?void 0:Ve.from)==null?void 0:ye.route)==null?void 0:je.id)==((Ue=(Be=(Re=B[2])==null?void 0:Re.to)==null?void 0:Be.route)==null?void 0:Ue.id)&&B[2]?P||(P=$t(),P.c(),P.m(K.parentNode,K)):P&&(P.d(1),P=null)},i(B){se||(he(W),he($.$$.fragment,B),he(Y.$$.fragment,B),he(y.$$.fragment,B),he(ue.$$.fragment,B),he(ne.$$.fragment,B),se=!0)},o(B){be(W),be($.$$.fragment,B),be(Y.$$.fragment,B),be(y.$$.fragment,B),be(ue.$$.fragment,B),be(ne.$$.fragment,B),se=!1},d(B){B&&(u(e),u(_e),u(K)),le&&le.d(),W&&W.d(),Le($),Le(Y),Le(y),Le(ue),Le(ne),P&&P.d(B)}}}function Ol(n,e,t){let l;xe(n,zt,o=>t(2,l=o));let{canteensList:s}=e,{general:a=!1}=e;return n.$$set=o=>{"canteensList"in o&&t(0,s=o.canteensList),"general"in o&&t(1,a=o.general)},[s,a,l]}class Zl extends Ge{constructor(e){super(),ze(this,e,Ol,Pl,Fe,{canteensList:0,general:1})}}function St(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-dxv6g9"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function At(n){let e,t=n[7].name[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&128&&t!==(t=s[7].name[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function Dt(n){let e,t=n[7].name_ar[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&128&&t!==(t=s[7].name_ar[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function Lt(n){let e,t=n[7].address[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&128&&t!==(t=s[7].address[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function Mt(n){let e,t=n[7].address_ar[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&128&&t!==(t=s[7].address_ar[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function Nt(n){var h;let e,t,l,s,a;function o(d){n[12](d)}let m={collapse:!0,title:"Canteens's School"};n[6]!==void 0&&(m.resetSchool=n[6]),e=new Jt({props:m}),Pe.push(()=>Rt(e,"resetSchool",o)),e.$on("select",n[13]);let p=((h=n[7])==null?void 0:h.school_id)&&Vt(n);return{c(){Se(e.$$.fragment),l=g(),p&&p.c(),s=lt()},l(d){Ae(e.$$.fragment,d),l=w(d),p&&p.l(d),s=lt()},m(d,v){De(e,d,v),V(d,l,v),p&&p.m(d,v),V(d,s,v),a=!0},p(d,v){var I;const C={};!t&&v&64&&(t=!0,C.resetSchool=d[6],jt(()=>t=!1)),e.$set(C),(I=d[7])!=null&&I.school_id?p?p.p(d,v):(p=Vt(d),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null)},i(d){a||(he(e.$$.fragment,d),a=!0)},o(d){be(e.$$.fragment,d),a=!1},d(d){d&&(u(l),u(s)),Le(e,d),p&&p.d(d)}}}function Vt(n){let e,t=n[7].school_id[0]+"",l;return{c(){e=c("strong"),l=de(t),this.h()},l(s){e=f(s,"STRONG",{class:!0});var a=b(e);l=ce(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){V(s,e,a),i(e,l)},p(s,a){a&128&&t!==(t=s[7].school_id[0]+"")&&we(l,t)},d(s){s&&u(e)}}}function xl(n){var B,ke,ve,Te;let e,t,l,s,a='<h5 class="modal-title" id="exampleModalgridLabel">Add Year</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,m,p,h,d,v,C,I="Canteen Name",D,E,j,L,k,M,T="Arabic Name",ae,_,S,R,H,J,A="Canteen Address",F,$,G,Y,N,y,pe="Arabic Address",ue,X,ne,_e,K,se,le,W="Close",P,fe,Ce,ee,re,oe,te,z=n[8]&&St(),ie=((B=n[7])==null?void 0:B.name)&&At(n),Q=((ke=n[7])==null?void 0:ke.name_ar)&&Dt(n),O=((ve=n[7])==null?void 0:ve.address)&&Lt(n),ge=((Te=n[7])==null?void 0:Te.address_ar)&&Mt(n),q=n[1]&&Nt(n);return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),s.innerHTML=a,o=g(),m=c("div"),z&&z.c(),p=g(),h=c("form"),d=c("div"),v=c("div"),C=c("label"),C.textContent=I,D=g(),E=c("input"),j=g(),ie&&ie.c(),L=g(),k=c("div"),M=c("label"),M.textContent=T,ae=g(),_=c("input"),S=g(),Q&&Q.c(),R=g(),H=c("div"),J=c("label"),J.textContent=A,F=g(),$=c("textarea"),G=g(),O&&O.c(),Y=g(),N=c("div"),y=c("label"),y.textContent=pe,ue=g(),X=c("textarea"),ne=g(),ge&&ge.c(),_e=g(),q&&q.c(),K=g(),se=c("div"),le=c("button"),le.textContent=W,P=g(),fe=c("input"),Ce=g(),ee=c("span"),this.h()},l(x){e=f(x,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var Z=b(e);t=f(Z,"DIV",{class:!0});var Ne=b(t);l=f(Ne,"DIV",{class:!0});var Ie=b(l);s=f(Ie,"DIV",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-1wcxwyp"&&(s.innerHTML=a),o=w(Ie),m=f(Ie,"DIV",{class:!0});var $e=b(m);z&&z.l($e),p=w($e),h=f($e,"FORM",{});var Ve=b(h);d=f(Ve,"DIV",{class:!0});var ye=b(d);v=f(ye,"DIV",{});var je=b(v);C=f(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(C)!=="svelte-wiyfp8"&&(C.textContent=I),D=w(je),E=f(je,"INPUT",{type:!0,class:!0,id:!0,name:!0,placeholder:!0}),j=w(je),ie&&ie.l(je),je.forEach(u),L=w(ye),k=f(ye,"DIV",{});var Re=b(k);M=f(Re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(M)!=="svelte-1nwxuze"&&(M.textContent=T),ae=w(Re),_=f(Re,"INPUT",{type:!0,class:!0,id:!0,name:!0,dir:!0,placeholder:!0}),S=w(Re),Q&&Q.l(Re),Re.forEach(u),R=w(ye),H=f(ye,"DIV",{});var Be=b(H);J=f(Be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(J)!=="svelte-1hqr47e"&&(J.textContent=A),F=w(Be),$=f(Be,"TEXTAREA",{class:!0,name:!0,id:!0,placeholder:!0,rows:!0}),b($).forEach(u),G=w(Be),O&&O.l(Be),Be.forEach(u),Y=w(ye),N=f(ye,"DIV",{});var Ue=b(N);y=f(Ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(y)!=="svelte-dj2fbf"&&(y.textContent=pe),ue=w(Ue),X=f(Ue,"TEXTAREA",{class:!0,name:!0,id:!0,dir:!0,placeholder:!0,rows:!0}),b(X).forEach(u),ne=w(Ue),ge&&ge.l(Ue),Ue.forEach(u),_e=w(ye),q&&q.l(ye),K=w(ye),se=f(ye,"DIV",{class:!0});var et=b(se);le=f(et,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),U(le)!=="svelte-1h5uvws"&&(le.textContent=W),P=w(et),fe=f(et,"INPUT",{type:!0,class:!0}),et.forEach(u),ye.forEach(u),Ve.forEach(u),$e.forEach(u),Ie.forEach(u),Ne.forEach(u),Z.forEach(u),Ce=w(x),ee=f(x,"SPAN",{class:!0,"data-bs-toggle":!0,"data-bs-target":!0}),b(ee).forEach(u),this.h()},h(){r(s,"class","modal-header"),r(C,"for","canteenName"),r(C,"class","form-label"),r(E,"type","text"),r(E,"class","form-control"),r(E,"id","canteenName"),r(E,"name","name"),r(E,"placeholder","Enter canteen name"),r(M,"for","productarName"),r(M,"class","form-label"),r(_,"type","text"),r(_,"class","form-control"),r(_,"id","productName"),r(_,"name","name_ar"),r(_,"dir","rtl"),r(_,"placeholder","ادخل اسم المقصف"),r(J,"for","exampleFormControlTextarea5"),r(J,"class","form-label"),r($,"class","form-control"),r($,"name","address"),r($,"id","exampleFormControlTextarea5"),r($,"placeholder","Enter canteen address"),r($,"rows","3"),r(y,"for","productarName"),r(y,"class","form-label"),r(X,"class","form-control"),r(X,"name","address_ar"),r(X,"id","exampleFormControlTextarea5"),r(X,"dir","rtl"),r(X,"placeholder","ادخل عنوان المقصف"),r(X,"rows","3"),r(le,"type","button"),r(le,"class","btn btn-light fw-light"),r(le,"data-bs-dismiss","modal"),r(fe,"type","submit"),r(fe,"class","btn btn-primary waves-effect waves-light"),fe.value="Save",r(se,"class","hstack gap-2 justify-content-end"),r(d,"class","row g-3"),He(h,"d-none",n[8]),r(m,"class","modal-body"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","addCanteenModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true"),r(ee,"class","d-none"),r(ee,"data-bs-toggle","modal"),r(ee,"data-bs-target","#ApiModal")},m(x,Z){V(x,e,Z),i(e,t),i(t,l),i(l,s),i(l,o),i(l,m),z&&z.m(m,null),i(m,p),i(m,h),i(h,d),i(d,v),i(v,C),i(v,D),i(v,E),Me(E,n[2]),i(v,j),ie&&ie.m(v,null),i(d,L),i(d,k),i(k,M),i(k,ae),i(k,_),i(k,S),Q&&Q.m(k,null),i(d,R),i(d,H),i(H,J),i(H,F),i(H,$),i(H,G),O&&O.m(H,null),i(d,Y),i(d,N),i(N,y),i(N,ue),i(N,X),i(N,ne),ge&&ge.m(N,null),i(d,_e),q&&q.m(d,null),i(d,K),i(d,se),i(se,le),n[14](le),i(se,P),i(se,fe),n[15](h),V(x,Ce,Z),V(x,ee,Z),n[16](ee),re=!0,oe||(te=[me(E,"input",n[11]),me(h,"submit",rt(n[10]))],oe=!0)},p(x,[Z]){var Ne,Ie,$e,Ve;x[8]?z||(z=St(),z.c(),z.m(m,p)):z&&(z.d(1),z=null),Z&4&&E.value!==x[2]&&Me(E,x[2]),(Ne=x[7])!=null&&Ne.name?ie?ie.p(x,Z):(ie=At(x),ie.c(),ie.m(v,null)):ie&&(ie.d(1),ie=null),(Ie=x[7])!=null&&Ie.name_ar?Q?Q.p(x,Z):(Q=Dt(x),Q.c(),Q.m(k,null)):Q&&(Q.d(1),Q=null),($e=x[7])!=null&&$e.address?O?O.p(x,Z):(O=Lt(x),O.c(),O.m(H,null)):O&&(O.d(1),O=null),(Ve=x[7])!=null&&Ve.address_ar?ge?ge.p(x,Z):(ge=Mt(x),ge.c(),ge.m(N,null)):ge&&(ge.d(1),ge=null),x[1]?q?(q.p(x,Z),Z&2&&he(q,1)):(q=Nt(x),q.c(),he(q,1),q.m(d,K)):q&&(Xe(),be(q,1,1,()=>{q=null}),Ze()),(!re||Z&256)&&He(h,"d-none",x[8])},i(x){re||(he(q),re=!0)},o(x){be(q),re=!1},d(x){x&&(u(e),u(Ce),u(ee)),z&&z.d(),ie&&ie.d(),Q&&Q.d(),O&&O.d(),ge&&ge.d(),q&&q.d(),n[14](null),n[15](null),n[16](null),oe=!1,Ye(te)}}}function jl(n,e,t){let l,{apiStore:s}=qe("apiStore");xe(n,s,_=>t(17,l=_));let a,o,m,p,h,{general:d}=e,{schoolId:v}=e,C,I=!1;async function D(){t(8,I=!0),t(8,I=!0),t(7,C={});let _=new FormData(m);_.set("school_id",v);let S=await fetch(Gt(v,d),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:_});if(We(S),S=await S.json(),t(8,I=!1),S.status=="success"){o.click(),tt(s,l=S.data.api_key,l),p.click();let R=`Added ${a} as a new canteen`;at(R,"success"),it("canteens:refresh"),E()}else t(7,C=S.errors)}function E(){m.reset(),d&&h(),t(0,v=""),t(7,C={})}function j(){a=this.value,t(2,a)}function L(_){h=_,t(6,h)}const k=_=>t(0,v=_.detail.schoolId);function M(_){Pe[_?"unshift":"push"](()=>{o=_,t(3,o)})}function T(_){Pe[_?"unshift":"push"](()=>{m=_,t(4,m)})}function ae(_){Pe[_?"unshift":"push"](()=>{p=_,t(5,p)})}return n.$$set=_=>{"general"in _&&t(1,d=_.general),"schoolId"in _&&t(0,v=_.schoolId)},[v,d,a,o,m,p,h,C,I,s,D,j,L,k,M,T,ae]}class Wl extends Ge{constructor(e){super(),ze(this,e,jl,xl,Fe,{general:1,schoolId:0})}}export{Wl as A,Zl as C,fl as V};
