import{s as pe,a as S,f as g,c as V,g as D,h as I,d as _,B as F,i as P,P as me,l as z,m as q,z as G,j as m,C as u,F as ue,n as O,p as ve,S as be,e as oe,A as J,R as ge,D as De}from"./scheduler.726ac76d.js";import{S as ke,i as Ee,a as j,g as he,t as Q,c as _e,h as Te,b as K,d as U,m as X,e as Z}from"./index.8a5ed380.js";import{e as ne}from"./each.381f634d.js";import{g as Ie,a as we}from"./spread.8a54911c.js";import{R as Ce}from"./paths.29c5142d.js";import"./paths.7846b4ff.js";import{a as ye}from"./auth.82ff8344.js";import{M as He,a as Le}from"./ModalPagination.ba1b79f6.js";import{A as Ae}from"./Accordion.adfb252c.js";function re(s,e,t){const c=s.slice();return c[19]=e[t],c}function ce(s){let e,t,c,o,r,i,a,l,f,v=s[0].id+"",E,L,T,h=s[0].name+"",y,w,n,k=s[0].name_ar+"",C,b,A,d,p,B='<i class="ri-close-line"></i>',N,Y;return{c(){e=g("label"),t=z(s[3]),c=S(),o=g("div"),r=g("div"),i=g("table"),a=g("tbody"),l=g("tr"),f=g("th"),E=z(v),L=S(),T=g("th"),y=z(h),w=S(),n=g("th"),C=z(k),b=S(),A=g("th"),d=g("div"),p=g("a"),p.innerHTML=B,this.h()},l(H){e=D(H,"LABEL",{for:!0,class:!0});var M=I(e);t=q(M,s[3]),M.forEach(_),c=V(H),o=D(H,"DIV",{class:!0});var $=I(o);r=D($,"DIV",{class:!0});var x=I(r);i=D(x,"TABLE",{class:!0});var ee=I(i);a=D(ee,"TBODY",{class:!0});var te=I(a);l=D(te,"TR",{class:!0});var R=I(l);f=D(R,"TH",{scope:!0});var le=I(f);E=q(le,v),le.forEach(_),L=V(R),T=D(R,"TH",{});var W=I(T);y=q(W,h),w=V(W),W.forEach(_),n=D(R,"TH",{});var ae=I(n);C=q(ae,k),ae.forEach(_),b=V(R),A=D(R,"TH",{scope:!0});var se=I(A);d=D(se,"DIV",{class:!0});var ie=I(d);p=D(ie,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),G(p)!=="svelte-19ldu68"&&(p.innerHTML=B),ie.forEach(_),se.forEach(_),R.forEach(_),te.forEach(_),ee.forEach(_),x.forEach(_),$.forEach(_),this.h()},h(){m(e,"for","productarName"),m(e,"class","form-label"),m(f,"scope","col"),m(p,"href","javascript:void(0);"),m(p,"class","fs-15"),m(p,"data-bs-toggle","tooltip"),m(p,"data-bs-original-title","Select"),m(d,"class","hstack gap-3 flex-wrap"),m(A,"scope","col"),m(l,"class","bg-secondary-subtle"),m(a,"class","list align-middle"),m(i,"class","table align-middle table-nowrap mb-0 border-top"),m(r,"class","table-responsive"),m(o,"class","table-responsive mt-0")},m(H,M){P(H,e,M),u(e,t),P(H,c,M),P(H,o,M),u(o,r),u(r,i),u(i,a),u(a,l),u(l,f),u(f,E),u(l,L),u(l,T),u(T,y),u(T,w),u(l,n),u(n,C),u(l,b),u(l,A),u(A,d),u(d,p),N||(Y=ue(p,"click",s[8]),N=!0)},p(H,M){M&8&&O(t,H[3]),M&1&&v!==(v=H[0].id+"")&&O(E,v),M&1&&h!==(h=H[0].name+"")&&O(y,h),M&1&&k!==(k=H[0].name_ar+"")&&O(C,k)},d(H){H&&(_(e),_(c),_(o)),N=!1,Y()}}}function de(s){let e,t,c;function o(i){s[14](i)}let r={id:"division",title:s[3],$$slots:{default:[Ve]},$$scope:{ctx:s}};return s[6]!==void 0&&(r.openCollapse=s[6]),e=new Ae({props:r}),ve.push(()=>Te(e,"openCollapse",o)),{c(){K(e.$$.fragment)},l(i){U(e.$$.fragment,i)},m(i,a){X(e,i,a),c=!0},p(i,a){const l={};a&8&&(l.title=i[3]),a&4194355&&(l.$$scope={dirty:a,ctx:i}),!t&&a&64&&(t=!0,l.openCollapse=i[6],be(()=>t=!1)),e.$set(l)},i(i){c||(j(e.$$.fragment,i),c=!0)},o(i){Q(e.$$.fragment,i),c=!1},d(i){Z(e,i)}}}function Me(s){let e,t=`<i class="ri-alert-line me-3 align-middle"></i> <strong>Warning</strong> - Please select a school first 
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(c){e=D(c,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),G(e)!=="svelte-1opf86q"&&(e.innerHTML=t),this.h()},h(){m(e,"class","alert alert-warning alert-border-left alert-dismissible fade show"),m(e,"role","alert")},m(c,o){P(c,e,o)},p:J,i:J,o:J,d(c){c&&_(e)}}}function Se(s){let e,t,c,o,r,i,a='<tr scope="row"><td scope="col">ID</td> <td scope="col">Name</td> <td scope="col">Arabic Name</td> <td scope="col">Action</td></tr>',l,f,v,E,L;e=new He({props:{type:"Division"}}),e.$on("search",s[9]);let T=ne(s[4]),h=[];for(let n=0;n<T.length;n+=1)h[n]=fe(re(s,T,n));const y=[s[5]];let w={};for(let n=0;n<y.length;n+=1)w=ge(w,y[n]);return E=new Le({props:w}),E.$on("switchPage",s[10]),{c(){K(e.$$.fragment),t=S(),c=g("div"),o=g("div"),r=g("table"),i=g("thead"),i.innerHTML=a,l=S(),f=g("tbody");for(let n=0;n<h.length;n+=1)h[n].c();v=S(),K(E.$$.fragment),this.h()},l(n){U(e.$$.fragment,n),t=V(n),c=D(n,"DIV",{class:!0});var k=I(c);o=D(k,"DIV",{class:!0});var C=I(o);r=D(C,"TABLE",{class:!0});var b=I(r);i=D(b,"THEAD",{class:!0,"data-svelte-h":!0}),G(i)!=="svelte-1kz3tqz"&&(i.innerHTML=a),l=V(b),f=D(b,"TBODY",{class:!0});var A=I(f);for(let d=0;d<h.length;d+=1)h[d].l(A);A.forEach(_),b.forEach(_),C.forEach(_),k.forEach(_),v=V(n),U(E.$$.fragment,n),this.h()},h(){m(i,"class","table-light"),m(f,"class","list"),m(r,"class","table align-middle table-nowrap mb-0 border-top"),m(o,"class","table-responsive"),m(c,"class","row pe-0")},m(n,k){X(e,n,k),P(n,t,k),P(n,c,k),u(c,o),u(o,r),u(r,i),u(r,l),u(r,f);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(f,null);P(n,v,k),X(E,n,k),L=!0},p(n,k){if(k&145){T=ne(n[4]);let b;for(b=0;b<T.length;b+=1){const A=re(n,T,b);h[b]?h[b].p(A,k):(h[b]=fe(A),h[b].c(),h[b].m(f,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=T.length}const C=k&32?Ie(y,[we(n[5])]):{};E.$set(C)},i(n){L||(j(e.$$.fragment,n),j(E.$$.fragment,n),L=!0)},o(n){Q(e.$$.fragment,n),Q(E.$$.fragment,n),L=!1},d(n){n&&(_(t),_(c),_(v)),Z(e,n),De(h,n),Z(E,n)}}}function fe(s){let e,t,c=s[19].id+"",o,r,i,a=s[19].name+"",l,f,v,E=s[19].name_ar+"",L,T,h,y,w,n='<i class="ri-check-line"></i>',k,C,b;function A(){return s[13](s[19])}return{c(){e=g("tr"),t=g("td"),o=z(c),r=S(),i=g("td"),l=z(a),f=S(),v=g("td"),L=z(E),T=S(),h=g("td"),y=g("div"),w=g("a"),w.innerHTML=n,k=S(),this.h()},l(d){e=D(d,"TR",{scope:!0});var p=I(e);t=D(p,"TD",{});var B=I(t);o=q(B,c),B.forEach(_),r=V(p),i=D(p,"TD",{});var N=I(i);l=q(N,a),f=V(N),N.forEach(_),v=D(p,"TD",{});var Y=I(v);L=q(Y,E),Y.forEach(_),T=V(p),h=D(p,"TD",{});var H=I(h);y=D(H,"DIV",{class:!0});var M=I(y);w=D(M,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),G(w)!=="svelte-1gn18af"&&(w.innerHTML=n),M.forEach(_),H.forEach(_),k=V(p),p.forEach(_),this.h()},h(){var d;m(w,"href","javascript:void(0);"),m(w,"class","fs-15"),m(w,"data-bs-toggle","tooltip"),m(w,"data-bs-original-title","Select"),m(y,"class","hstack gap-3 flex-wrap"),m(e,"scope","row"),F(e,"bg-secondary-subtle",s[19].id==((d=s[0])==null?void 0:d.id))},m(d,p){P(d,e,p),u(e,t),u(t,o),u(e,r),u(e,i),u(i,l),u(i,f),u(e,v),u(v,L),u(e,T),u(e,h),u(h,y),u(y,w),u(e,k),C||(b=ue(w,"click",A),C=!0)},p(d,p){var B;s=d,p&16&&c!==(c=s[19].id+"")&&O(o,c),p&16&&a!==(a=s[19].name+"")&&O(l,a),p&16&&E!==(E=s[19].name_ar+"")&&O(L,E),p&17&&F(e,"bg-secondary-subtle",s[19].id==((B=s[0])==null?void 0:B.id))},d(d){d&&_(e),C=!1,b()}}}function Ve(s){let e,t,c,o;const r=[Se,Me],i=[];function a(l,f){return l[1]?0:1}return e=a(s),t=i[e]=r[e](s),{c(){t.c(),c=oe()},l(l){t.l(l),c=oe()},m(l,f){i[e].m(l,f),P(l,c,f),o=!0},p(l,f){let v=e;e=a(l),e===v?i[e].p(l,f):(he(),Q(i[v],1,1,()=>{i[v]=null}),_e(),t=i[e],t?t.p(l,f):(t=i[e]=r[e](l),t.c()),j(t,1),t.m(c.parentNode,c))},i(l){o||(j(t),o=!0)},o(l){Q(t),o=!1},d(l){l&&_(c),i[e].d(l)}}}function Pe(s){var i;let e,t,c,o=((i=s[0])==null?void 0:i.id)&&s[1]&&ce(s),r=s[2]&&de(s);return{c(){o&&o.c(),e=S(),t=g("div"),r&&r.c(),this.h()},l(a){o&&o.l(a),e=V(a),t=D(a,"DIV",{});var l=I(t);r&&r.l(l),l.forEach(_),this.h()},h(){var a;F(t,"d-none",((a=s[0])==null?void 0:a.id)!=null&&s[1]!=null&&s[1]!="")},m(a,l){o&&o.m(a,l),P(a,e,l),P(a,t,l),r&&r.m(t,null),c=!0},p(a,[l]){var f,v;(f=a[0])!=null&&f.id&&a[1]?o?o.p(a,l):(o=ce(a),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),a[2]?r?(r.p(a,l),l&4&&j(r,1)):(r=de(a),r.c(),j(r,1),r.m(t,null)):r&&(he(),Q(r,1,1,()=>{r=null}),_e()),(!c||l&3)&&F(t,"d-none",((v=a[0])==null?void 0:v.id)!=null&&a[1]!=null&&a[1]!="")},i(a){c||(j(r),c=!0)},o(a){Q(r),c=!1},d(a){a&&(_(e),_(t)),o&&o.d(a),r&&r.d()}}}function Be(s,e,t){const c=me();let{schoolId:o}=e,r=[],i,a=1,l="",{selected:f={}}=e,{type:v}=e,{collapse:E}=e,{title:L}=e,T;async function h(){let d=await fetch(Ce(o,{page:a,search:l}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});ye(d);let p=await d.json();t(4,r=p.data.divisions),t(5,i=p.pagination)}function y(d){t(0,f=d),c("select",{divisionId:f.id,division:f})}function w(){t(0,f={}),c("select",{divisionId:""}),T()}function n(d){a=1,l=d.detail.searchQuery,h()}function k(d){a=d.detail.page,h()}function C(){t(0,f={})}const b=d=>y(d);function A(d){T=d,t(6,T)}return s.$$set=d=>{"schoolId"in d&&t(1,o=d.schoolId),"selected"in d&&t(0,f=d.selected),"type"in d&&t(11,v=d.type),"collapse"in d&&t(2,E=d.collapse),"title"in d&&t(3,L=d.title)},s.$$.update=()=>{s.$$.dirty&2&&o&&h()},[f,o,E,L,r,i,T,y,w,n,k,v,C,b,A]}class Ge extends ke{constructor(e){super(),Ee(this,e,Be,Pe,pe,{schoolId:1,selected:0,type:11,collapse:2,title:3,resetDivision:12})}get resetDivision(){return this.$$.ctx[12]}}export{Ge as D};
