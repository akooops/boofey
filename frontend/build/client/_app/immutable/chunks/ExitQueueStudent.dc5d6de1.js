import{s as ut,f as o,a as k,l as B,g as n,h as b,z as H,c as V,d as m,m as M,j as s,E as dt,W as G,k as J,B as ot,i as Z,C as e,F as ct,n as ft,A as K,P as ht,T as mt,y as vt,p as pt}from"./scheduler.726ac76d.js";import{S as _t,i as bt}from"./index.8a5ed380.js";import{X as xt}from"./paths.0e30d36d.js";import{t as gt}from"./toast.aca1940a.js";import{i as yt}from"./utils.7c7f4a39.js";import{a as Et}from"./auth.660986fb.js";function nt(c){let t,a='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){t=o("div"),t.innerHTML=a,this.h()},l(r){t=n(r,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1ei7695"&&(t.innerHTML=a),this.h()},h(){s(t,"class","mt-2")},m(r,i){Z(r,t,i)},d(r){r&&m(t)}}}function St(c){let t,a,r=c[4].close[0]+"",i,u,f;return{c(){t=o("div"),a=o("i"),i=B(r),u=k(),f=o("button"),this.h()},l(p){t=n(p,"DIV",{class:!0,role:!0});var v=b(t);a=n(v,"I",{class:!0}),b(a).forEach(m),i=M(v,r),u=V(v),f=n(v,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),b(f).forEach(m),v.forEach(m),this.h()},h(){s(a,"class","ri-alert-line me-3 align-middle"),s(f,"type","button"),s(f,"class","btn-close"),s(f,"data-bs-dismiss","alert"),s(f,"aria-label","Close"),s(t,"class","alert text-start alert-danger alert-border-left alert-dismissible fade show"),s(t,"role","alert")},m(p,v){Z(p,t,v),e(t,a),e(t,i),e(t,u),e(t,f)},p:K,d(p){p&&m(t)}}}function Ct(c){var at,lt,rt;let t,a,r,i,u,f='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',p,v,l,_,L,d,w,$="Are you Sure ?",F,I,U,Q,j=((lt=(at=c[2])==null?void 0:at.student)==null?void 0:lt.fullname)+"",N,z,Y,R,D,g,tt="Cancel",W,E,et="Exit Queue",X,st,h=c[1]&&nt(),S=((rt=c[4])==null?void 0:rt.close)&&St(c);return{c(){t=o("div"),a=o("div"),r=o("div"),i=o("div"),u=o("div"),u.innerHTML=f,p=k(),h&&h.c(),v=k(),l=o("div"),_=o("lord-icon"),d=k(),w=o("h4"),w.textContent=$,F=k(),I=o("p"),U=B("Are you Sure You want "),Q=o("span"),N=B(j),z=B(" to exit the Queue ?"),Y=k(),S&&S.c(),R=k(),D=o("div"),g=o("button"),g.textContent=tt,W=k(),E=o("button"),E.textContent=et,this.h()},l(x){t=n(x,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var T=b(t);a=n(T,"DIV",{class:!0});var q=b(a);r=n(q,"DIV",{class:!0});var A=b(r);i=n(A,"DIV",{class:!0});var C=b(i);u=n(C,"DIV",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-3pipod"&&(u.innerHTML=f),p=V(C),h&&h.l(C),v=V(C),l=n(C,"DIV",{class:!0});var y=b(l);_=n(y,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),b(_).forEach(m),d=V(y),w=n(y,"H4",{class:!0,"data-svelte-h":!0}),H(w)!=="svelte-1s07vlj"&&(w.textContent=$),F=V(y),I=n(y,"P",{class:!0});var O=b(I);U=M(O,"Are you Sure You want "),Q=n(O,"SPAN",{class:!0});var it=b(Q);N=M(it,j),it.forEach(m),z=M(O," to exit the Queue ?"),O.forEach(m),Y=V(y),S&&S.l(y),R=V(y),D=n(y,"DIV",{class:!0});var P=b(D);g=n(P,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),H(g)!=="svelte-s1avm2"&&(g.textContent=tt),W=V(P),E=n(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(E)!=="svelte-m6sw5u"&&(E.textContent=et),P.forEach(m),y.forEach(m),C.forEach(m),A.forEach(m),q.forEach(m),T.forEach(m),this.h()},h(){s(u,"class","text-end"),dt(_.src,L="https://cdn.lordicon.com/gwvmctbb.json")||G(_,"src",L),G(_,"trigger","loop"),G(_,"colors","primary:#E16F28,secondary:#73dce9"),J(_,"width","100px"),J(_,"height","100px"),s(w,"class","mb-3 mt-4"),s(Q,"class","text-primary"),s(I,"class","text-muted fs-15 mb-4"),s(g,"type","button"),s(g,"class","btn btn-light fw-light"),s(g,"data-bs-dismiss","modal"),s(E,"type","button"),s(E,"class","btn btn-warning waves-effect waves-light"),s(D,"class","hstack gap-2 justify-content-center"),s(l,"class","mt-2"),ot(l,"d-none",c[1]),s(i,"class","modal-body text-center p-5"),s(r,"class","modal-content"),s(a,"class","modal-dialog modal-dialog-centered"),s(t,"id","exitQueueStudent"),s(t,"class","modal fade"),s(t,"tabindex","-1"),s(t,"aria-hidden","true"),J(t,"display","none")},m(x,T){Z(x,t,T),e(t,a),e(a,r),e(r,i),e(i,u),e(i,p),h&&h.m(i,null),e(i,v),e(i,l),e(l,_),e(l,d),e(l,w),e(l,F),e(l,I),e(I,U),e(I,Q),e(Q,N),e(I,z),e(l,Y),S&&S.m(l,null),e(l,R),e(l,D),e(D,g),c[7](g),e(D,W),e(D,E),X||(st=ct(E,"click",c[5]),X=!0)},p(x,[T]){var q,A,C;x[1]?h||(h=nt(),h.c(),h.m(i,v)):h&&(h.d(1),h=null),T&4&&j!==(j=((A=(q=x[2])==null?void 0:q.student)==null?void 0:A.fullname)+"")&&ft(N,j),(C=x[4])!=null&&C.close&&S.p(x,T),T&2&&ot(l,"d-none",x[1])},i:K,o:K,d(x){x&&m(t),h&&h.d(),S&&S.d(),c[7](null),X=!1,st()}}}function wt(c,t,a){let r;const i=ht();let u,f=!1,{queueStudentStore:p}=mt("queueStudentStore");vt(c,p,d=>a(2,r=d));let v,{route:l="queueStudents"}=t;async function _(){a(1,f=!0);let d=await fetch(xt(r.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"Post"});Et(d),d=await d.json(),a(1,f=!1),d.status=="success"&&(u.click(),gt("Student Exited Queue","success"),yt(`${l}:refresh`),i("exit"))}function L(d){pt[d?"unshift":"push"](()=>{u=d,a(0,u)})}return c.$$set=d=>{"route"in d&&a(6,l=d.route)},[u,f,r,p,v,_,l,L]}class jt extends _t{constructor(t){super(),bt(this,t,wt,Ct,ut,{route:6})}}export{jt as E};
