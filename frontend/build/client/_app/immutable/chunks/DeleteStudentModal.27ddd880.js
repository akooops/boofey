import{s as St,f as i,a as b,l as T,g as d,h as m,z as bt,c as y,d as c,m as V,j as a,E as Et,W as tt,k as et,B,i as yt,C as t,F as vt,Q as It,n as Dt,A as pt,G as xt,T as Tt,y as Vt,p as kt}from"./scheduler.726ac76d.js";import{S as wt,i as Ct}from"./index.8a5ed380.js";import{ax as Mt}from"./paths.29c5142d.js";import{t as jt}from"./toast.aca1940a.js";import{i as Lt}from"./utils.5f096ebf.js";import{a as Ht}from"./auth.82ff8344.js";import{t as j}from"./translation.098a1f9d.js";function _t(f){let e,u='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=i("div"),e.innerHTML=u,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),bt(e)!=="svelte-1ei7695"&&(e.innerHTML=u),this.h()},h(){a(e,"class","mt-2")},m(s,l){yt(s,e,l)},d(s){s&&c(e)}}}function Ot(f){let e,u,s,l,h,L='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',H,k,o,r,v,at,F,S,st=j.areYouSure[localStorage.getItem("language")]+"",P,Y,lt=j["?"][localStorage.getItem("language")]+"",z,R,p,ot=j.areYouSureYouWantToDel[localStorage.getItem("language")]+"",U,W,w,O=`${f[2].fullname} #${f[2].id}`,N,$,rt=j["?"][localStorage.getItem("language")]+"",G,Q,E,_,nt=j.close[localStorage.getItem("language")]+"",J,K,I,it=j.delete[localStorage.getItem("language")]+"",X,Z,dt,n=f[1]&&_t();return{c(){e=i("div"),u=i("div"),s=i("div"),l=i("div"),h=i("div"),h.innerHTML=L,H=b(),n&&n.c(),k=b(),o=i("div"),r=i("form"),v=i("lord-icon"),F=b(),S=i("h4"),P=T(st),Y=b(),z=T(lt),R=b(),p=i("p"),U=T(ot),W=b(),w=i("span"),N=T(O),$=b(),G=T(rt),Q=b(),E=i("div"),_=i("button"),J=T(nt),K=b(),I=i("button"),X=T(it),this.h()},l(g){e=d(g,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var D=m(e);u=d(D,"DIV",{class:!0});var ct=m(u);s=d(ct,"DIV",{class:!0});var ut=m(s);l=d(ut,"DIV",{class:!0});var C=m(l);h=d(C,"DIV",{class:!0,"data-svelte-h":!0}),bt(h)!=="svelte-3pipod"&&(h.innerHTML=L),H=y(C),n&&n.l(C),k=y(C),o=d(C,"DIV",{class:!0});var ft=m(o);r=d(ft,"FORM",{});var x=m(r);v=d(x,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),m(v).forEach(c),F=y(x),S=d(x,"H4",{class:!0});var q=m(S);P=V(q,st),Y=y(q),z=V(q,lt),q.forEach(c),R=y(x),p=d(x,"P",{class:!0});var M=m(p);U=V(M,ot),W=y(M),w=d(M,"SPAN",{class:!0});var mt=m(w);N=V(mt,O),mt.forEach(c),$=y(M),G=V(M,rt),M.forEach(c),Q=y(x),E=d(x,"DIV",{class:!0});var A=m(E);_=d(A,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var ht=m(_);J=V(ht,nt),ht.forEach(c),K=y(A),I=d(A,"BUTTON",{type:!0,class:!0});var gt=m(I);X=V(gt,it),gt.forEach(c),A.forEach(c),x.forEach(c),ft.forEach(c),C.forEach(c),ut.forEach(c),ct.forEach(c),D.forEach(c),this.h()},h(){a(h,"class","text-end"),Et(v.src,at="https://cdn.lordicon.com/gsqxdxog.json")||tt(v,"src",at),tt(v,"trigger","loop"),tt(v,"colors","primary:#f7b84b,secondary:#f06548"),et(v,"width","100px"),et(v,"height","100px"),a(S,"class","mb-3 mt-4"),a(w,"class","text-primary"),a(p,"class","text-muted fs-15 mb-4"),a(_,"type","button"),a(_,"class","btn btn-light fw-light"),a(_,"data-bs-dismiss","modal"),a(I,"type","button"),a(I,"class","btn btn-danger waves-effect waves-light"),a(E,"class","hstack gap-2 justify-content-center"),B(r,"d-none",f[1]),a(o,"class","mt-2"),B(o,"d-none",f[1]),a(l,"class","modal-body text-center p-5"),a(s,"class","modal-content"),a(u,"class","modal-dialog modal-dialog-centered"),a(e,"id","deleteStudentModal"),a(e,"class","modal fade"),a(e,"tabindex","-1"),a(e,"aria-hidden","true"),et(e,"display","none")},m(g,D){yt(g,e,D),t(e,u),t(u,s),t(s,l),t(l,h),t(l,H),n&&n.m(l,null),t(l,k),t(l,o),t(o,r),t(r,v),t(r,F),t(r,S),t(S,P),t(S,Y),t(S,z),t(r,R),t(r,p),t(p,U),t(p,W),t(p,w),t(w,N),t(p,$),t(p,G),t(r,Q),t(r,E),t(E,_),t(_,J),f[5](_),t(E,K),t(E,I),t(I,X),Z||(dt=[vt(I,"click",f[4]),vt(r,"submit",It(f[4]))],Z=!0)},p(g,[D]){g[1]?n||(n=_t(),n.c(),n.m(l,k)):n&&(n.d(1),n=null),D&4&&O!==(O=`${g[2].fullname} #${g[2].id}`)&&Dt(N,O),D&2&&B(r,"d-none",g[1]),D&2&&B(o,"d-none",g[1])},i:pt,o:pt,d(g){g&&c(e),n&&n.d(),f[5](null),Z=!1,xt(dt)}}}function Nt(f,e,u){let s,l,h=!1,{studentStore:L}=Tt("studentStore");Vt(f,L,o=>u(2,s=o));async function H(){u(1,h=!0);let o=await fetch(Mt(s.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"DELETE"});if(Ht(o),o=await o.json(),u(1,h=!1),o.status=="success"){l.click();let r=`Deleted ${s.fullname} #${s.id}`;jt(r,"success"),Lt("students:refresh")}}function k(o){kt[o?"unshift":"push"](()=>{l=o,u(0,l)})}return[l,h,s,L,H,k]}class Rt extends wt{constructor(e){super(),Ct(this,e,Nt,Ot,St,{})}}export{Rt as D};
