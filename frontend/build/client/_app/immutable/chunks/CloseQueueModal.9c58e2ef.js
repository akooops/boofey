import{s as ye,f,a as k,g as h,h as m,z as P,c as D,d as u,j as r,K as Ve,B as ve,i as Q,C as n,F as re,Q as Qe,A as oe,G as qe,l as Y,m as K,n as le,p as me,T as Le,y as Ie,H as ct,L as Ue,M as ft,E as it,W as Me,k as $e,I as ot,e as Re,D as ht}from"./scheduler.726ac76d.js";import{S as ke,i as De,b as be,d as ge,m as we,a as ue,t as ce,e as Ce,g as rt,c as dt}from"./index.8a5ed380.js";import{v as pt,r as vt,w as mt,u as _t}from"./paths.0e30d36d.js";import{t as xe}from"./toast.aca1940a.js";import{i as He,f as Ae,g as ut}from"./utils.7c7f4a39.js";import{a as Ne}from"./auth.660986fb.js";import{V as Ee}from"./ViewRow.487fb326.js";import{e as Fe}from"./each.381f634d.js";import{n as bt}from"./stores.b420ea9f.js";function Je(o){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1skq92h"&&(e.innerHTML=s),this.h()},h(){r(e,"class","text-center")},m(t,l){Q(t,e,l)},d(t){t&&u(e)}}}function ze(o){let e,s=o[1].type[0]+"",t;return{c(){e=f("strong"),t=Y(s),this.h()},l(l){e=h(l,"STRONG",{class:!0});var a=m(e);t=K(a,s),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){Q(l,e,a),n(e,t)},p(l,a){a&2&&s!==(s=l[1].type[0]+"")&&le(t,s)},d(l){l&&u(e)}}}function Ge(o){let e,s=o[1][422]+"",t;return{c(){e=f("strong"),t=Y(s),this.h()},l(l){e=h(l,"STRONG",{class:!0});var a=m(e);t=K(a,s),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){Q(l,e,a),n(e,t)},p(l,a){a&2&&s!==(s=l[1][422]+"")&&le(t,s)},d(l){l&&u(e)}}}function gt(o){var F,J;let e,s,t,l,a='<h5 class="modal-title" id="exampleModalgridLabel">Start Queue</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',i,c,p,v,d,_,C,L="Type",T,E,S,x="Main Meal",M,I="Snack",H,B,R,U,b,q="Close",W,w,y,O,V=o[2]&&Je(),g=((F=o[1])==null?void 0:F.type)&&ze(o),$=((J=o[1])==null?void 0:J["422"])&&Ge(o);return{c(){e=f("div"),s=f("div"),t=f("div"),l=f("div"),l.innerHTML=a,i=k(),c=f("div"),V&&V.c(),p=k(),v=f("form"),d=f("div"),_=f("div"),C=f("label"),C.textContent=L,T=k(),E=f("select"),S=f("option"),S.textContent=x,M=f("option"),M.textContent=I,H=k(),g&&g.c(),B=k(),$&&$.c(),R=k(),U=f("div"),b=f("button"),b.textContent=q,W=k(),w=f("input"),this.h()},l(A){e=h(A,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var G=m(e);s=h(G,"DIV",{class:!0});var N=m(s);t=h(N,"DIV",{class:!0});var X=m(t);l=h(X,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-6wsm1a"&&(l.innerHTML=a),i=D(X),c=h(X,"DIV",{class:!0});var z=m(c);V&&V.l(z),p=D(z),v=h(z,"FORM",{});var ae=m(v);d=h(ae,"DIV",{class:!0});var te=m(d);_=h(te,"DIV",{class:!0});var Z=m(_);C=h(Z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(C)!=="svelte-vk0u42"&&(C.textContent=L),T=D(Z),E=h(Z,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var se=m(E);S=h(se,"OPTION",{"data-svelte-h":!0}),P(S)!=="svelte-wki2rk"&&(S.textContent=x),M=h(se,"OPTION",{"data-svelte-h":!0}),P(M)!=="svelte-54q1vx"&&(M.textContent=I),se.forEach(u),H=D(Z),g&&g.l(Z),Z.forEach(u),B=D(te),$&&$.l(te),R=D(te),U=h(te,"DIV",{class:!0});var ne=m(U);b=h(ne,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),P(b)!=="svelte-1h5uvws"&&(b.textContent=q),W=D(ne),w=h(ne,"INPUT",{type:!0,class:!0}),ne.forEach(u),te.forEach(u),ae.forEach(u),z.forEach(u),X.forEach(u),N.forEach(u),G.forEach(u),this.h()},h(){r(l,"class","modal-header"),r(C,"for","role"),r(C,"class","form-label"),S.__value=0,Ve(S,S.__value),M.__value=1,Ve(M,M.__value),r(E,"class","form-select"),r(E,"name","type"),r(E,"id","role"),r(E,"aria-label","Default select example"),r(_,"class","col-lg-12"),r(b,"type","button"),r(b,"class","btn btn-light fw-light"),r(b,"data-bs-dismiss","modal"),r(w,"type","submit"),r(w,"class","btn btn-primary waves-effect waves-light"),w.value="Save",r(U,"class","hstack gap-2 justify-content-end"),r(d,"class","row g-3"),ve(v,"d-none",o[2]),r(c,"class","modal-body"),r(t,"class","modal-content"),r(s,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","addQueueModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(A,G){Q(A,e,G),n(e,s),n(s,t),n(t,l),n(t,i),n(t,c),V&&V.m(c,null),n(c,p),n(c,v),n(v,d),n(d,_),n(_,C),n(_,T),n(_,E),n(E,S),n(E,M),o[8](E),n(_,H),g&&g.m(_,null),n(d,B),$&&$.m(d,null),n(d,R),n(d,U),n(U,b),o[9](b),n(U,W),n(U,w),o[10](v),y||(O=[re(v,"submit",Qe(o[5])),re(e,"hidden.bs.modal",o[6])],y=!0)},p(A,[G]){var N,X;A[2]?V||(V=Je(),V.c(),V.m(c,p)):V&&(V.d(1),V=null),(N=A[1])!=null&&N.type?g?g.p(A,G):(g=ze(A),g.c(),g.m(_,null)):g&&(g.d(1),g=null),(X=A[1])!=null&&X["422"]?$?$.p(A,G):($=Ge(A),$.c(),$.m(d,R)):$&&($.d(1),$=null),G&4&&ve(v,"d-none",A[2])},i:oe,o:oe,d(A){A&&u(e),V&&V.d(),o[8](null),g&&g.d(),$&&$.d(),o[9](null),o[10](null),y=!1,qe(O)}}}function wt(o,e,s){let t,l,a=!1,{canteen:i}=e,c,p;async function v(){s(2,a=!0),s(1,l={});let T=new FormData(p),E=await fetch(pt(i.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:T});Ne(E),E=await E.json(),s(2,a=!1),E.status=="success"?(t.click(),xe("Added  a new queue","success"),He("queues:refresh"),d()):s(1,l=E.errors)}function d(){p.reset(),s(1,l={})}function _(T){me[T?"unshift":"push"](()=>{c=T,s(3,c)})}function C(T){me[T?"unshift":"push"](()=>{t=T,s(0,t)})}function L(T){me[T?"unshift":"push"](()=>{p=T,s(4,p)})}return o.$$set=T=>{"canteen"in T&&s(7,i=T.canteen)},[t,l,a,c,p,v,d,i,_,C,L]}class os extends ke{constructor(e){super(),De(this,e,wt,gt,ye,{canteen:7})}}function Ct(o){let e,s,t=o[0].type==1?"Snack":":Main Meal",l;return{c(){e=Y("Type :  "),s=f("span"),l=Y(t),this.h()},l(a){e=K(a,"Type :  "),s=h(a,"SPAN",{class:!0});var i=m(s);l=K(i,t),i.forEach(u),this.h()},h(){r(s,"class","badge bg-primary-subtle text-primary")},m(a,i){Q(a,e,i),Q(a,s,i),n(s,l)},p(a,i){i&1&&t!==(t=a[0].type==1?"Snack":":Main Meal")&&le(l,t)},d(a){a&&(u(e),u(s))}}}function Tt(o){let e,s,t=o[0].started_at+"",l;return{c(){e=Y("Started At : "),s=f("span"),l=Y(t),this.h()},l(a){e=K(a,"Started At : "),s=h(a,"SPAN",{class:!0});var i=m(s);l=K(i,t),i.forEach(u),this.h()},h(){r(s,"class","fw-normal")},m(a,i){Q(a,e,i),Q(a,s,i),n(s,l)},p(a,i){i&1&&t!==(t=a[0].started_at+"")&&le(l,t)},d(a){a&&(u(e),u(s))}}}function St(o){let e,s,t=o[0].studentsCount+"",l;return{c(){e=Y("Student Count : "),s=f("span"),l=Y(t),this.h()},l(a){e=K(a,"Student Count : "),s=h(a,"SPAN",{class:!0});var i=m(s);l=K(i,t),i.forEach(u),this.h()},h(){r(s,"class","fw-normal")},m(a,i){Q(a,e,i),Q(a,s,i),n(s,l)},p(a,i){i&1&&t!==(t=a[0].studentsCount+"")&&le(l,t)},d(a){a&&(u(e),u(s))}}}function Et(o){let e,s,t=o[0].studentsInCount+"",l;return{c(){e=Y("Students In : "),s=f("span"),l=Y(t),this.h()},l(a){e=K(a,"Students In : "),s=h(a,"SPAN",{class:!0});var i=m(s);l=K(i,t),i.forEach(u),this.h()},h(){r(s,"class","fw-normal")},m(a,i){Q(a,e,i),Q(a,s,i),n(s,l)},p(a,i){i&1&&t!==(t=a[0].studentsInCount+"")&&le(l,t)},d(a){a&&(u(e),u(s))}}}function yt(o){let e,s,t=o[0].studentsExitedCount+"",l;return{c(){e=Y("Students Exited : "),s=f("span"),l=Y(t),this.h()},l(a){e=K(a,"Students Exited : "),s=h(a,"SPAN",{class:!0});var i=m(s);l=K(i,t),i.forEach(u),this.h()},h(){r(s,"class","fw-normal")},m(a,i){Q(a,e,i),Q(a,s,i),n(s,l)},p(a,i){i&1&&t!==(t=a[0].studentsExitedCount+"")&&le(l,t)},d(a){a&&(u(e),u(s))}}}function kt(o){let e,s,t=o[0].lastSyncedAt+"",l;return{c(){e=Y("Last Synced  At : "),s=f("span"),l=Y(t),this.h()},l(a){e=K(a,"Last Synced  At : "),s=h(a,"SPAN",{class:!0});var i=m(s);l=K(i,t),i.forEach(u),this.h()},h(){r(s,"class","fw-normal")},m(a,i){Q(a,e,i),Q(a,s,i),n(s,l)},p(a,i){i&1&&t!==(t=a[0].lastSyncedAt+"")&&le(l,t)},d(a){a&&(u(e),u(s))}}}function Dt(o){var a;let e,s,t=Ae((a=o[0])==null?void 0:a.created_at)+"",l;return{c(){e=Y("Created at : "),s=f("span"),l=Y(t),this.h()},l(i){e=K(i,"Created at : "),s=h(i,"SPAN",{class:!0});var c=m(s);l=K(c,t),c.forEach(u),this.h()},h(){r(s,"class","fw-normal")},m(i,c){Q(i,e,c),Q(i,s,c),n(s,l)},p(i,c){var p;c&1&&t!==(t=Ae((p=i[0])==null?void 0:p.created_at)+"")&&le(l,t)},d(i){i&&(u(e),u(s))}}}function It(o){var a;let e,s,t=Ae((a=o[0])==null?void 0:a.updated_at)+"",l;return{c(){e=Y("Updated at : "),s=f("span"),l=Y(t),this.h()},l(i){e=K(i,"Updated at : "),s=h(i,"SPAN",{class:!0});var c=m(s);l=K(c,t),c.forEach(u),this.h()},h(){r(s,"class","fw-normal")},m(i,c){Q(i,e,c),Q(i,s,c),n(s,l)},p(i,c){var p;c&1&&t!==(t=Ae((p=i[0])==null?void 0:p.updated_at)+"")&&le(l,t)},d(i){i&&(u(e),u(s))}}}function Mt(o){let e,s,t,l,a='<h5 class="modal-title" id="exampleModalgridLabel">View Queue</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',i,c,p,v,d,_,C,L,T,E,S,x,M,I,H,B,R,U,b,q='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>',W;return p=new Ee({props:{$$slots:{default:[Ct]},$$scope:{ctx:o}}}),d=new Ee({props:{$$slots:{default:[Tt]},$$scope:{ctx:o}}}),C=new Ee({props:{$$slots:{default:[St]},$$scope:{ctx:o}}}),T=new Ee({props:{$$slots:{default:[Et]},$$scope:{ctx:o}}}),S=new Ee({props:{$$slots:{default:[yt]},$$scope:{ctx:o}}}),M=new Ee({props:{$$slots:{default:[kt]},$$scope:{ctx:o}}}),H=new Ee({props:{$$slots:{default:[Dt]},$$scope:{ctx:o}}}),R=new Ee({props:{$$slots:{default:[It]},$$scope:{ctx:o}}}),{c(){e=f("div"),s=f("div"),t=f("div"),l=f("div"),l.innerHTML=a,i=k(),c=f("div"),be(p.$$.fragment),v=k(),be(d.$$.fragment),_=k(),be(C.$$.fragment),L=k(),be(T.$$.fragment),E=k(),be(S.$$.fragment),x=k(),be(M.$$.fragment),I=k(),be(H.$$.fragment),B=k(),be(R.$$.fragment),U=k(),b=f("div"),b.innerHTML=q,this.h()},l(w){e=h(w,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var y=m(e);s=h(y,"DIV",{class:!0});var O=m(s);t=h(O,"DIV",{class:!0});var V=m(t);l=h(V,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1l5r6n3"&&(l.innerHTML=a),i=D(V),c=h(V,"DIV",{class:!0});var g=m(c);ge(p.$$.fragment,g),v=D(g),ge(d.$$.fragment,g),_=D(g),ge(C.$$.fragment,g),L=D(g),ge(T.$$.fragment,g),E=D(g),ge(S.$$.fragment,g),x=D(g),ge(M.$$.fragment,g),I=D(g),ge(H.$$.fragment,g),B=D(g),ge(R.$$.fragment,g),U=D(g),b=h(g,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-ssr3tv"&&(b.innerHTML=q),g.forEach(u),V.forEach(u),O.forEach(u),y.forEach(u),this.h()},h(){r(l,"class","modal-header"),r(b,"class","hstack gap-2 justify-content-end"),r(c,"class","modal-body p-4"),r(t,"class","modal-content"),r(s,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","viewQueueModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(w,y){Q(w,e,y),n(e,s),n(s,t),n(t,l),n(t,i),n(t,c),we(p,c,null),n(c,v),we(d,c,null),n(c,_),we(C,c,null),n(c,L),we(T,c,null),n(c,E),we(S,c,null),n(c,x),we(M,c,null),n(c,I),we(H,c,null),n(c,B),we(R,c,null),n(c,U),n(c,b),W=!0},p(w,[y]){const O={};y&5&&(O.$$scope={dirty:y,ctx:w}),p.$set(O);const V={};y&5&&(V.$$scope={dirty:y,ctx:w}),d.$set(V);const g={};y&5&&(g.$$scope={dirty:y,ctx:w}),C.$set(g);const $={};y&5&&($.$$scope={dirty:y,ctx:w}),T.$set($);const F={};y&5&&(F.$$scope={dirty:y,ctx:w}),S.$set(F);const J={};y&5&&(J.$$scope={dirty:y,ctx:w}),M.$set(J);const A={};y&5&&(A.$$scope={dirty:y,ctx:w}),H.$set(A);const G={};y&5&&(G.$$scope={dirty:y,ctx:w}),R.$set(G)},i(w){W||(ue(p.$$.fragment,w),ue(d.$$.fragment,w),ue(C.$$.fragment,w),ue(T.$$.fragment,w),ue(S.$$.fragment,w),ue(M.$$.fragment,w),ue(H.$$.fragment,w),ue(R.$$.fragment,w),W=!0)},o(w){ce(p.$$.fragment,w),ce(d.$$.fragment,w),ce(C.$$.fragment,w),ce(T.$$.fragment,w),ce(S.$$.fragment,w),ce(M.$$.fragment,w),ce(H.$$.fragment,w),ce(R.$$.fragment,w),W=!1},d(w){w&&u(e),Ce(p),Ce(d),Ce(C),Ce(T),Ce(S),Ce(M),Ce(H),Ce(R)}}}function $t(o,e,s){let t,{queueStore:l}=Le("queueStore");return Ie(o,l,a=>s(0,t=a)),[t,l]}class rs extends ke{constructor(e){super(),De(this,e,$t,Mt,ye,{})}}function Ye(o){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-dxv6g9"&&(e.innerHTML=s),this.h()},h(){r(e,"class","text-center")},m(t,l){Q(t,e,l)},d(t){t&&u(e)}}}function Ke(o){let e,s=o[1].type[0]+"",t;return{c(){e=f("strong"),t=Y(s),this.h()},l(l){e=h(l,"STRONG",{class:!0});var a=m(e);t=K(a,s),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){Q(l,e,a),n(e,t)},p(l,a){a&2&&s!==(s=l[1].type[0]+"")&&le(t,s)},d(l){l&&u(e)}}}function We(o){let e,s=o[1][422]+"",t;return{c(){e=f("strong"),t=Y(s),this.h()},l(l){e=h(l,"STRONG",{class:!0});var a=m(e);t=K(a,s),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){Q(l,e,a),n(e,t)},p(l,a){a&2&&s!==(s=l[1][422]+"")&&le(t,s)},d(l){l&&u(e)}}}function Lt(o){var ae,te;let e,s,t,l,a='<h5 class="modal-title" id="exampleModalgridLabel">Start Queue</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',i,c,p,v,d,_,C,L="Type",T,E,S,x="Main Meal",M,I="Snack",H,B,R,U,b,q,W,w,y="Close",O,V,g,$="Close",F,J,A,G,N=o[2]&&Ye(),X=((ae=o[1])==null?void 0:ae.type)&&Ke(o),z=((te=o[1])==null?void 0:te["422"])&&We(o);return{c(){e=f("div"),s=f("div"),t=f("div"),l=f("div"),l.innerHTML=a,i=k(),c=f("div"),N&&N.c(),p=k(),v=f("form"),d=f("div"),_=f("div"),C=f("label"),C.textContent=L,T=k(),E=f("select"),S=f("option"),S.textContent=x,M=f("option"),M.textContent=I,H=k(),X&&X.c(),B=k(),z&&z.c(),R=k(),U=f("div"),b=f("div"),q=f("input"),W=k(),w=f("label"),w.textContent=y,O=k(),V=f("div"),g=f("button"),g.textContent=$,F=k(),J=f("input"),this.h()},l(Z){e=h(Z,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var se=m(e);s=h(se,"DIV",{class:!0});var ne=m(s);t=h(ne,"DIV",{class:!0});var ee=m(t);l=h(ee,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-6wsm1a"&&(l.innerHTML=a),i=D(ee),c=h(ee,"DIV",{class:!0});var de=m(c);N&&N.l(de),p=D(de),v=h(de,"FORM",{});var ie=m(v);d=h(ie,"DIV",{class:!0});var j=m(d);_=h(j,"DIV",{class:!0});var fe=m(_);C=h(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(C)!=="svelte-vk0u42"&&(C.textContent=L),T=D(fe),E=h(fe,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var _e=m(E);S=h(_e,"OPTION",{"data-svelte-h":!0}),P(S)!=="svelte-wki2rk"&&(S.textContent=x),M=h(_e,"OPTION",{"data-svelte-h":!0}),P(M)!=="svelte-54q1vx"&&(M.textContent=I),_e.forEach(u),H=D(fe),X&&X.l(fe),fe.forEach(u),B=D(j),z&&z.l(j),R=D(j),U=h(j,"DIV",{class:!0});var Te=m(U);b=h(Te,"DIV",{class:!0});var he=m(b);q=h(he,"INPUT",{class:!0,type:!0,role:!0,id:!0}),W=D(he),w=h(he,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),P(w)!=="svelte-17jtgxq"&&(w.textContent=y),he.forEach(u),Te.forEach(u),O=D(j),V=h(j,"DIV",{class:!0});var pe=m(V);g=h(pe,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),P(g)!=="svelte-1h5uvws"&&(g.textContent=$),F=D(pe),J=h(pe,"INPUT",{type:!0,class:!0}),pe.forEach(u),j.forEach(u),ie.forEach(u),de.forEach(u),ee.forEach(u),ne.forEach(u),se.forEach(u),this.h()},h(){r(l,"class","modal-header"),r(C,"for","role"),r(C,"class","form-label"),S.__value=0,Ve(S,S.__value),M.__value=1,Ve(M,M.__value),r(E,"class","form-select"),r(E,"name","type"),r(E,"id","role"),r(E,"aria-label","Default select example"),o[6]===void 0&&ct(()=>o[11].call(E)),r(_,"class","col-lg-12"),r(q,"class","form-check-input"),r(q,"type","checkbox"),r(q,"role","switch"),r(q,"id","SwitchCheck1"),r(w,"class","form-check-label"),r(w,"for","SwitchCheck1"),r(b,"class","form-check form-switch col"),r(U,"class","row ps-3 g-3"),r(g,"type","button"),r(g,"class","btn btn-light fw-light"),r(g,"data-bs-dismiss","modal"),r(J,"type","submit"),r(J,"class","btn btn-primary waves-effect waves-light"),J.value="Save",r(V,"class","hstack gap-2 justify-content-end"),r(d,"class","row g-3"),ve(v,"d-none",o[2]),r(c,"class","modal-body"),r(t,"class","modal-content"),r(s,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","editQueueModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(Z,se){Q(Z,e,se),n(e,s),n(s,t),n(t,l),n(t,i),n(t,c),N&&N.m(c,null),n(c,p),n(c,v),n(v,d),n(d,_),n(_,C),n(_,T),n(_,E),n(E,S),n(E,M),o[10](E),Ue(E,o[6],!0),n(_,H),X&&X.m(_,null),n(d,B),z&&z.m(d,null),n(d,R),n(d,U),n(U,b),n(b,q),q.checked=o[5],n(b,W),n(b,w),n(d,O),n(d,V),n(V,g),o[13](g),n(V,F),n(V,J),o[14](v),A||(G=[re(E,"change",o[11]),re(q,"change",o[12]),re(v,"submit",Qe(o[8])),re(e,"hidden.bs.modal",o[9])],A=!0)},p(Z,[se]){var ne,ee;Z[2]?N||(N=Ye(),N.c(),N.m(c,p)):N&&(N.d(1),N=null),se&64&&Ue(E,Z[6]),(ne=Z[1])!=null&&ne.type?X?X.p(Z,se):(X=Ke(Z),X.c(),X.m(_,null)):X&&(X.d(1),X=null),(ee=Z[1])!=null&&ee["422"]?z?z.p(Z,se):(z=We(Z),z.c(),z.m(d,R)):z&&(z.d(1),z=null),se&32&&(q.checked=Z[5]),se&4&&ve(v,"d-none",Z[2])},i:oe,o:oe,d(Z){Z&&u(e),N&&N.d(),o[10](null),X&&X.d(),z&&z.d(),o[13](null),o[14](null),A=!1,qe(G)}}}function Vt(o,e,s){let t,{queueStore:l}=Le("queueStore");Ie(o,l,I=>s(15,t=I));let a,i,c=!1,p,v,d=!1,_=0;async function C(){s(2,c=!0),s(1,i={});let I=new FormData(v);I.set("close",d);let H=await fetch(vt(t.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:I});Ne(H),H=await H.json(),s(2,c=!1),H.status=="success"?(a.click(),xe("Successfuly Edited","success"),He("queues:refresh"),L()):s(1,i=H.errors)}function L(){v.reset(),s(1,i={})}l.subscribe(()=>{s(6,_=t.type),s(5,d=t.closed_at!=null)});function T(I){me[I?"unshift":"push"](()=>{p=I,s(3,p)})}function E(){_=ft(this),s(6,_)}function S(){d=this.checked,s(5,d)}function x(I){me[I?"unshift":"push"](()=>{a=I,s(0,a)})}function M(I){me[I?"unshift":"push"](()=>{v=I,s(4,v)})}return[a,i,c,p,v,d,_,l,C,L,T,E,S,x,M]}class ds extends ke{constructor(e){super(),De(this,e,Vt,Lt,ye,{})}}function Xe(o){let e,s='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1ei7695"&&(e.innerHTML=s),this.h()},h(){r(e,"class","mt-2")},m(t,l){Q(t,e,l)},d(t){t&&u(e)}}}function At(o){let e,s,t,l,a,i='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',c,p,v,d,_,C,L,T,E="Are you Sure ?",S,x,M,I,H=`#${o[2].id}`,B,R,U,b,q,W="Close",w,y,O="Delete",V,g,$=o[1]&&Xe();return{c(){e=f("div"),s=f("div"),t=f("div"),l=f("div"),a=f("div"),a.innerHTML=i,c=k(),$&&$.c(),p=k(),v=f("div"),d=f("form"),_=f("lord-icon"),L=k(),T=f("h4"),T.textContent=E,S=k(),x=f("p"),M=Y("Are you Sure You want to Delete "),I=f("span"),B=Y(H),R=Y(" ?"),U=k(),b=f("div"),q=f("button"),q.textContent=W,w=k(),y=f("button"),y.textContent=O,this.h()},l(F){e=h(F,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var J=m(e);s=h(J,"DIV",{class:!0});var A=m(s);t=h(A,"DIV",{class:!0});var G=m(t);l=h(G,"DIV",{class:!0});var N=m(l);a=h(N,"DIV",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-3pipod"&&(a.innerHTML=i),c=D(N),$&&$.l(N),p=D(N),v=h(N,"DIV",{class:!0});var X=m(v);d=h(X,"FORM",{});var z=m(d);_=h(z,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),m(_).forEach(u),L=D(z),T=h(z,"H4",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-1s07vlj"&&(T.textContent=E),S=D(z),x=h(z,"P",{class:!0});var ae=m(x);M=K(ae,"Are you Sure You want to Delete "),I=h(ae,"SPAN",{class:!0});var te=m(I);B=K(te,H),te.forEach(u),R=K(ae," ?"),ae.forEach(u),U=D(z),b=h(z,"DIV",{class:!0});var Z=m(b);q=h(Z,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),P(q)!=="svelte-1h5uvws"&&(q.textContent=W),w=D(Z),y=h(Z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(y)!=="svelte-iuig3c"&&(y.textContent=O),Z.forEach(u),z.forEach(u),X.forEach(u),N.forEach(u),G.forEach(u),A.forEach(u),J.forEach(u),this.h()},h(){r(a,"class","text-end"),it(_.src,C="https://cdn.lordicon.com/gsqxdxog.json")||Me(_,"src",C),Me(_,"trigger","loop"),Me(_,"colors","primary:#f7b84b,secondary:#f06548"),$e(_,"width","100px"),$e(_,"height","100px"),r(T,"class","mb-3 mt-4"),r(I,"class","text-primary"),r(x,"class","text-muted fs-15 mb-4"),r(q,"type","button"),r(q,"class","btn btn-light fw-light"),r(q,"data-bs-dismiss","modal"),r(y,"type","button"),r(y,"class","btn btn-danger waves-effect waves-light"),r(b,"class","hstack gap-2 justify-content-center"),ve(d,"d-none",o[1]),r(v,"class","mt-2"),ve(v,"d-none",o[1]),r(l,"class","modal-body text-center p-5"),r(t,"class","modal-content"),r(s,"class","modal-dialog modal-dialog-centered"),r(e,"id","deleteQueueModal"),r(e,"class","modal fade"),r(e,"tabindex","-1"),r(e,"aria-hidden","true"),$e(e,"display","none")},m(F,J){Q(F,e,J),n(e,s),n(s,t),n(t,l),n(l,a),n(l,c),$&&$.m(l,null),n(l,p),n(l,v),n(v,d),n(d,_),n(d,L),n(d,T),n(d,S),n(d,x),n(x,M),n(x,I),n(I,B),n(x,R),n(d,U),n(d,b),n(b,q),o[5](q),n(b,w),n(b,y),V||(g=[re(y,"click",o[4]),re(d,"submit",Qe(o[4]))],V=!0)},p(F,[J]){F[1]?$||($=Xe(),$.c(),$.m(l,p)):$&&($.d(1),$=null),J&4&&H!==(H=`#${F[2].id}`)&&le(B,H),J&2&&ve(d,"d-none",F[1]),J&2&&ve(v,"d-none",F[1])},i:oe,o:oe,d(F){F&&u(e),$&&$.d(),o[5](null),V=!1,qe(g)}}}function qt(o,e,s){let t,l,a=!1,{queueStore:i}=Le("queueStore");Ie(o,i,v=>s(2,t=v));async function c(){s(1,a=!0);let v=await fetch(mt(t.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"DELETE"});if(Ne(v),v=await v.json(),s(1,a=!1),v.status=="success"){l.click();let d=`Deleted  #${t.id}`;xe(d,"success"),He("queues:refresh")}}function p(v){me[v?"unshift":"push"](()=>{l=v,s(0,l)})}return[l,a,t,i,c,p]}class us extends ke{constructor(e){super(),De(this,e,qt,At,ye,{})}}function Ze(o){let e,s=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.index"),t,l=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.close"),a,i,c='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-title="View"><i class="ri-eye-fill"></i></a>',p,v,d='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-title="Edit"><i class="ri-edit-2-line"></i></a>',_,C,L='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-title="Delete"><i class="ri-delete-bin-line"></i></a>',T,E,S=s&&xt(o),x=l&&Ht(o);return{c(){e=f("div"),S&&S.c(),t=k(),x&&x.c(),a=k(),i=f("span"),i.innerHTML=c,p=k(),v=f("span"),v.innerHTML=d,_=k(),C=f("span"),C.innerHTML=L,this.h()},l(M){e=h(M,"DIV",{class:!0});var I=m(e);S&&S.l(I),t=D(I),x&&x.l(I),a=D(I),i=h(I,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),P(i)!=="svelte-1lovbnx"&&(i.innerHTML=c),p=D(I),v=h(I,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),P(v)!=="svelte-1n741yk"&&(v.innerHTML=d),_=D(I),C=h(I,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),P(C)!=="svelte-jue1yw"&&(C.innerHTML=L),I.forEach(u),this.h()},h(){r(i,"data-bs-toggle","modal"),r(i,"data-bs-target","#viewQueueModal"),r(v,"data-bs-toggle","modal"),r(v,"data-bs-target","#editQueueModal"),r(C,"data-bs-toggle","modal"),r(C,"data-bs-target","#deleteQueueModal"),r(e,"class","hstack gap-3 flex-wrap")},m(M,I){Q(M,e,I),S&&S.m(e,null),n(e,t),x&&x.m(e,null),n(e,a),n(e,i),n(e,p),n(e,v),n(e,_),n(e,C),T||(E=[re(i,"click",o[3]),re(v,"click",o[3]),re(C,"click",o[3])],T=!0)},p(M,I){s&&S.p(M,I),l&&x.p(M,I)},d(M){M&&u(e),S&&S.d(),x&&x.d(),T=!1,qe(E)}}}function xt(o){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Queues"><i class="bx bxs-graduation"></i></a>',t,l;return{c(){e=f("span"),e.innerHTML=s},l(a){e=h(a,"SPAN",{"data-svelte-h":!0}),P(e)!=="svelte-fhv47d"&&(e.innerHTML=s)},m(a,i){Q(a,e,i),o[5](e),t||(l=re(e,"click",o[4]),t=!0)},p:oe,d(a){a&&u(e),o[5](null),t=!1,l()}}}function Ht(o){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-title="Close queue"><i class="ri-stop-circle-line"></i></a>',t,l;return{c(){e=f("span"),e.innerHTML=s,this.h()},l(a){e=h(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),P(e)!=="svelte-bw4kex"&&(e.innerHTML=s),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#closeQueueModal")},m(a,i){Q(a,e,i),t||(l=re(e,"click",o[3]),t=!0)},p:oe,d(a){a&&u(e),t=!1,l()}}}function Nt(o){let e,s=`<i class="ri-airplay-line me-3 align-middle"></i> There are no <strong>Active Queues</strong> at the moment 
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`;return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=h(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),P(e)!=="svelte-f66sup"&&(e.innerHTML=s),this.h()},h(){r(e,"class","alert alert-info alert-border-left alert-dismissible fade show"),r(e,"role","alert")},m(t,l){Q(t,e,l)},p:oe,d(t){t&&u(e)}}}function Qt(o){let e,s,t,l,a='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Type</th> <th scope="col">Started At</th> <th scope="col">Students Count</th> <th scope="col">Students In</th> <th scope="col">Students Out</th> <th scope="col">Last Synced At</th></tr>',i,c,p,v,d='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',_,C,L=o[0].id+"",T,E,S,x,M=o[0].type==1?"Snack":"Main Meal",I,H,B,R=o[0].started_at+"",U,b,q,W=o[0].studentsCount+"",w,y,O,V=o[0].studentsInCount+"",g,$,F,J=o[0].studentsExitedCount+"",A,G,N,X=o[0].lastSyncedAt+"",z;return{c(){e=f("div"),s=f("div"),t=f("table"),l=f("thead"),l.innerHTML=a,i=k(),c=f("tbody"),p=f("tr"),v=f("td"),v.innerHTML=d,_=k(),C=f("td"),T=Y(L),E=k(),S=f("td"),x=f("span"),I=Y(M),H=k(),B=f("td"),U=Y(R),b=k(),q=f("td"),w=Y(W),y=k(),O=f("td"),g=Y(V),$=k(),F=f("td"),A=Y(J),G=k(),N=f("td"),z=Y(X),this.h()},l(ae){e=h(ae,"DIV",{class:!0});var te=m(e);s=h(te,"DIV",{class:!0});var Z=m(s);t=h(Z,"TABLE",{class:!0});var se=m(t);l=h(se,"THEAD",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1s5dqmm"&&(l.innerHTML=a),i=D(se),c=h(se,"TBODY",{class:!0});var ne=m(c);p=h(ne,"TR",{scope:!0});var ee=m(p);v=h(ee,"TD",{"data-svelte-h":!0}),P(v)!=="svelte-1o2rt8u"&&(v.innerHTML=d),_=D(ee),C=h(ee,"TD",{});var de=m(C);T=K(de,L),de.forEach(u),E=D(ee),S=h(ee,"TD",{});var ie=m(S);x=h(ie,"SPAN",{class:!0});var j=m(x);I=K(j,M),j.forEach(u),ie.forEach(u),H=D(ee),B=h(ee,"TD",{});var fe=m(B);U=K(fe,R),fe.forEach(u),b=D(ee),q=h(ee,"TD",{});var _e=m(q);w=K(_e,W),_e.forEach(u),y=D(ee),O=h(ee,"TD",{});var Te=m(O);g=K(Te,V),Te.forEach(u),$=D(ee),F=h(ee,"TD",{});var he=m(F);A=K(he,J),he.forEach(u),G=D(ee),N=h(ee,"TD",{});var pe=m(N);z=K(pe,X),pe.forEach(u),ee.forEach(u),ne.forEach(u),se.forEach(u),Z.forEach(u),te.forEach(u),this.h()},h(){r(l,"class","table-light"),r(x,"class","badge bg-primary-subtle text-primary"),r(p,"scope","row"),r(c,"class","list"),r(t,"class","table align-middle table-nowrap mb-0 border-top"),r(s,"class","table-responsive"),r(e,"class","row pe-0")},m(ae,te){Q(ae,e,te),n(e,s),n(s,t),n(t,l),n(t,i),n(t,c),n(c,p),n(p,v),n(p,_),n(p,C),n(C,T),n(p,E),n(p,S),n(S,x),n(x,I),n(p,H),n(p,B),n(B,U),n(p,b),n(p,q),n(q,w),n(p,y),n(p,O),n(O,g),n(p,$),n(p,F),n(F,A),n(p,G),n(p,N),n(N,z)},p(ae,te){te&1&&L!==(L=ae[0].id+"")&&le(T,L),te&1&&M!==(M=ae[0].type==1?"Snack":"Main Meal")&&le(I,M),te&1&&R!==(R=ae[0].started_at+"")&&le(U,R),te&1&&W!==(W=ae[0].studentsCount+"")&&le(w,W),te&1&&V!==(V=ae[0].studentsInCount+"")&&le(g,V),te&1&&J!==(J=ae[0].studentsExitedCount+"")&&le(A,J),te&1&&X!==(X=ae[0].lastSyncedAt+"")&&le(z,X)},d(ae){ae&&u(e)}}}function Ot(o){let e,s,t,l="Active Queue",a,i,c,p,v=o[0]&&Ze(o);function d(L,T){return L[0]?Qt:Nt}let _=d(o),C=_(o);return{c(){e=f("div"),s=f("div"),t=f("h4"),t.textContent=l,a=k(),i=f("div"),v&&v.c(),c=k(),p=f("div"),C.c(),this.h()},l(L){e=h(L,"DIV",{class:!0});var T=m(e);s=h(T,"DIV",{class:!0});var E=m(s);t=h(E,"H4",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-129c79i"&&(t.textContent=l),a=D(E),i=h(E,"DIV",{class:!0});var S=m(i);v&&v.l(S),S.forEach(u),E.forEach(u),c=D(T),p=h(T,"DIV",{class:!0});var x=m(p);C.l(x),x.forEach(u),T.forEach(u),this.h()},h(){r(t,"class","card-title mb-0 flex-grow-1"),r(i,"class","flex-shrink-0"),r(s,"class","card-header align-items-center d-flex"),r(p,"class","card-body"),r(e,"class","card")},m(L,T){Q(L,e,T),n(e,s),n(s,t),n(s,a),n(s,i),v&&v.m(i,null),n(e,c),n(e,p),C.m(p,null)},p(L,[T]){L[0]?v?v.p(L,T):(v=Ze(L),v.c(),v.m(i,null)):v&&(v.d(1),v=null),_===(_=d(L))&&C?C.p(L,T):(C.d(1),C=_(L),C&&(C.c(),C.m(p,null)))},i:oe,o:oe,d(L){L&&u(e),v&&v.d(),C.d()}}}function jt(o,e,s){let t,{activeQueue:l}=e,a,{queueStore:i}=Le("queueStore");Ie(o,i,d=>s(6,t=d));function c(){ot(i,t=JSON.parse(JSON.stringify(l)),t)}function p(){let d=bootstrap.Tooltip.getOrCreateInstance(a);ut(`queues/${l.id}/queueStudents`),d.hide()}function v(d){me[d?"unshift":"push"](()=>{a=d,s(1,a)})}return o.$$set=d=>{"activeQueue"in d&&s(0,l=d.activeQueue)},[l,a,i,c,p,v]}class cs extends ke{constructor(e){super(),De(this,e,jt,Ot,ye,{activeQueue:0})}}function Pt(o){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Queues"><i class="bx bxs-graduation"></i></a>',t,l;return{c(){e=f("span"),e.innerHTML=s},l(a){e=h(a,"SPAN",{"data-svelte-h":!0}),P(e)!=="svelte-fhv47d"&&(e.innerHTML=s)},m(a,i){Q(a,e,i),o[5](e),t||(l=re(e,"click",o[4]),t=!0)},p:oe,d(a){a&&u(e),o[5](null),t=!1,l()}}}function Bt(o){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="View"><i class="ri-eye-fill"></i></a>',t,l;return{c(){e=f("span"),e.innerHTML=s,this.h()},l(a){e=h(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),P(e)!=="svelte-1x8tq61"&&(e.innerHTML=s),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#viewQueueModal")},m(a,i){Q(a,e,i),t||(l=re(e,"click",o[3]),t=!0)},p:oe,d(a){a&&u(e),t=!1,l()}}}function Ut(o){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Edit"><i class="ri-edit-2-line"></i></a>',t,l;return{c(){e=f("span"),e.innerHTML=s,this.h()},l(a){e=h(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),P(e)!=="svelte-1xslw08"&&(e.innerHTML=s),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#editQueueModal")},m(a,i){Q(a,e,i),t||(l=re(e,"click",o[3]),t=!0)},p:oe,d(a){a&&u(e),t=!1,l()}}}function Rt(o){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Delete"><i class="ri-delete-bin-line"></i></a>',t,l;return{c(){e=f("span"),e.innerHTML=s,this.h()},l(a){e=h(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),P(e)!=="svelte-8aec02"&&(e.innerHTML=s),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#deleteQueueModal")},m(a,i){Q(a,e,i),t||(l=re(e,"click",o[3]),t=!0)},p:oe,d(a){a&&u(e),t=!1,l()}}}function Ft(o){let e,s,t='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',l,a,i=o[0].id+"",c,p,v,d,_=o[0].type==1?"Snack":"Main Meal",C,L,T,E=o[0].started_at+"",S,x,M,I=o[0].studentsCount+"",H,B,R,U=o[0].studentsInCount+"",b,q,W,w=o[0].studentsExitedCount+"",y,O,V,g=o[0].lastSyncedAt+"",$,F,J,A,G=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.index"),N,X=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.show"),z,ae=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.update"),te,Z=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.destroy"),se=G&&Pt(o),ne=X&&Bt(o),ee=ae&&Ut(o),de=Z&&Rt(o);return{c(){e=f("tr"),s=f("td"),s.innerHTML=t,l=k(),a=f("td"),c=Y(i),p=k(),v=f("td"),d=f("span"),C=Y(_),L=k(),T=f("td"),S=Y(E),x=k(),M=f("td"),H=Y(I),B=k(),R=f("td"),b=Y(U),q=k(),W=f("td"),y=Y(w),O=k(),V=f("td"),$=Y(g),F=k(),J=f("td"),A=f("div"),se&&se.c(),N=k(),ne&&ne.c(),z=k(),ee&&ee.c(),te=k(),de&&de.c(),this.h()},l(ie){e=h(ie,"TR",{scope:!0});var j=m(e);s=h(j,"TD",{"data-svelte-h":!0}),P(s)!=="svelte-1wqjv4e"&&(s.innerHTML=t),l=D(j),a=h(j,"TD",{});var fe=m(a);c=K(fe,i),fe.forEach(u),p=D(j),v=h(j,"TD",{});var _e=m(v);d=h(_e,"SPAN",{class:!0});var Te=m(d);C=K(Te,_),Te.forEach(u),_e.forEach(u),L=D(j),T=h(j,"TD",{});var he=m(T);S=K(he,E),he.forEach(u),x=D(j),M=h(j,"TD",{});var pe=m(M);H=K(pe,I),pe.forEach(u),B=D(j),R=h(j,"TD",{});var Oe=m(R);b=K(Oe,U),Oe.forEach(u),q=D(j),W=h(j,"TD",{});var je=m(W);y=K(je,w),je.forEach(u),O=D(j),V=h(j,"TD",{});var Pe=m(V);$=K(Pe,g),Pe.forEach(u),F=D(j),J=h(j,"TD",{});var Be=m(J);A=h(Be,"DIV",{class:!0});var Se=m(A);se&&se.l(Se),N=D(Se),ne&&ne.l(Se),z=D(Se),ee&&ee.l(Se),te=D(Se),de&&de.l(Se),Se.forEach(u),Be.forEach(u),j.forEach(u),this.h()},h(){r(d,"class","badge bg-primary-subtle text-primary"),r(A,"class","hstack gap-3"),r(e,"scope","row")},m(ie,j){Q(ie,e,j),n(e,s),n(e,l),n(e,a),n(a,c),n(e,p),n(e,v),n(v,d),n(d,C),n(e,L),n(e,T),n(T,S),n(e,x),n(e,M),n(M,H),n(e,B),n(e,R),n(R,b),n(e,q),n(e,W),n(W,y),n(e,O),n(e,V),n(V,$),n(e,F),n(e,J),n(J,A),se&&se.m(A,null),n(A,N),ne&&ne.m(A,null),n(A,z),ee&&ee.m(A,null),n(A,te),de&&de.m(A,null)},p(ie,[j]){j&1&&i!==(i=ie[0].id+"")&&le(c,i),j&1&&_!==(_=ie[0].type==1?"Snack":"Main Meal")&&le(C,_),j&1&&E!==(E=ie[0].started_at+"")&&le(S,E),j&1&&I!==(I=ie[0].studentsCount+"")&&le(H,I),j&1&&U!==(U=ie[0].studentsInCount+"")&&le(b,U),j&1&&w!==(w=ie[0].studentsExitedCount+"")&&le(y,w),j&1&&g!==(g=ie[0].lastSyncedAt+"")&&le($,g),G&&se.p(ie,j),X&&ne.p(ie,j),ae&&ee.p(ie,j),Z&&de.p(ie,j)},i:oe,o:oe,d(ie){ie&&u(e),se&&se.d(),ne&&ne.d(),ee&&ee.d(),de&&de.d()}}}function Jt(o,e,s){let t,{queue:l}=e,{queueStore:a}=Le("queueStore");Ie(o,a,d=>s(6,t=d));function i(){ot(a,t=JSON.parse(JSON.stringify(l)),t)}let c;function p(){let d=bootstrap.Tooltip.getOrCreateInstance(c);ut(`queues/${l.id}/queueStudents`),d.hide()}function v(d){me[d?"unshift":"push"](()=>{c=d,s(1,c)})}return o.$$set=d=>{"queue"in d&&s(0,l=d.queue)},[l,c,a,i,p,v]}class zt extends ke{constructor(e){super(),De(this,e,Jt,Ft,ye,{queue:0})}}function et(o,e,s){const t=o.slice();return t[2]=e[s],t}function tt(o){let e,s,t=Fe(o[0]),l=[];for(let i=0;i<t.length;i+=1)l[i]=st(et(o,t,i));const a=i=>ce(l[i],1,1,()=>{l[i]=null});return{c(){e=f("tbody");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=h(i,"TBODY",{class:!0});var c=m(e);for(let p=0;p<l.length;p+=1)l[p].l(c);c.forEach(u),this.h()},h(){r(e,"class","list")},m(i,c){Q(i,e,c);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);s=!0},p(i,c){if(c&1){t=Fe(i[0]);let p;for(p=0;p<t.length;p+=1){const v=et(i,t,p);l[p]?(l[p].p(v,c),ue(l[p],1)):(l[p]=st(v),l[p].c(),ue(l[p],1),l[p].m(e,null))}for(rt(),p=t.length;p<l.length;p+=1)a(p);dt()}},i(i){if(!s){for(let c=0;c<t.length;c+=1)ue(l[c]);s=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)ce(l[c]);s=!1},d(i){i&&u(e),ht(l,i)}}}function st(o){let e,s;return e=new zt({props:{queue:o[2]}}),{c(){be(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,l){we(e,t,l),s=!0},p(t,l){const a={};l&1&&(a.queue=t[2]),e.$set(a)},i(t){s||(ue(e.$$.fragment,t),s=!0)},o(t){ce(e.$$.fragment,t),s=!1},d(t){Ce(e,t)}}}function lt(o){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-2svhwp"&&(e.innerHTML=s),this.h()},h(){r(e,"class","text-center")},m(t,l){Q(t,e,l)},d(t){t&&u(e)}}}function Gt(o){var C,L,T,E,S,x,M,I,H,B,R,U;let e,s,t,l,a='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Type</th> <th scope="col">Started At</th> <th scope="col">Students Count</th> <th scope="col">Students In</th> <th scope="col">Students Out</th> <th scope="col">Last Synced At</th> <th scope="col">Actions</th></tr>',i,c,p,v,d=(o[1]==null||((T=(L=(C=o[1])==null?void 0:C.from)==null?void 0:L.route)==null?void 0:T.id)!=((x=(S=(E=o[1])==null?void 0:E.to)==null?void 0:S.route)==null?void 0:x.id))&&tt(o),_=((H=(I=(M=o[1])==null?void 0:M.from)==null?void 0:I.route)==null?void 0:H.id)==((U=(R=(B=o[1])==null?void 0:B.to)==null?void 0:R.route)==null?void 0:U.id)&&o[1]&&lt();return{c(){e=f("div"),s=f("div"),t=f("table"),l=f("thead"),l.innerHTML=a,i=k(),d&&d.c(),c=k(),_&&_.c(),p=Re(),this.h()},l(b){e=h(b,"DIV",{class:!0});var q=m(e);s=h(q,"DIV",{class:!0});var W=m(s);t=h(W,"TABLE",{class:!0});var w=m(t);l=h(w,"THEAD",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-odq5g3"&&(l.innerHTML=a),i=D(w),d&&d.l(w),w.forEach(u),W.forEach(u),q.forEach(u),c=D(b),_&&_.l(b),p=Re(),this.h()},h(){r(l,"class","table-light"),r(t,"class","table align-middle table-nowrap mb-0 border-top"),r(s,"class","table-responsive"),r(e,"class","row pe-0")},m(b,q){Q(b,e,q),n(e,s),n(s,t),n(t,l),n(t,i),d&&d.m(t,null),Q(b,c,q),_&&_.m(b,q),Q(b,p,q),v=!0},p(b,[q]){var W,w,y,O,V,g,$,F,J,A,G,N;b[1]==null||((y=(w=(W=b[1])==null?void 0:W.from)==null?void 0:w.route)==null?void 0:y.id)!=((g=(V=(O=b[1])==null?void 0:O.to)==null?void 0:V.route)==null?void 0:g.id)?d?(d.p(b,q),q&2&&ue(d,1)):(d=tt(b),d.c(),ue(d,1),d.m(t,null)):d&&(rt(),ce(d,1,1,()=>{d=null}),dt()),((J=(F=($=b[1])==null?void 0:$.from)==null?void 0:F.route)==null?void 0:J.id)==((N=(G=(A=b[1])==null?void 0:A.to)==null?void 0:G.route)==null?void 0:N.id)&&b[1]?_||(_=lt(),_.c(),_.m(p.parentNode,p)):_&&(_.d(1),_=null)},i(b){v||(ue(d),v=!0)},o(b){ce(d),v=!1},d(b){b&&(u(e),u(c),u(p)),d&&d.d(),_&&_.d(b)}}}function Yt(o,e,s){let t;Ie(o,bt,a=>s(1,t=a));let{queuesList:l}=e;return o.$$set=a=>{"queuesList"in a&&s(0,l=a.queuesList)},[l,t]}class fs extends ke{constructor(e){super(),De(this,e,Yt,Gt,ye,{queuesList:0})}}function at(o){let e,s='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1ei7695"&&(e.innerHTML=s),this.h()},h(){r(e,"class","mt-2")},m(t,l){Q(t,e,l)},d(t){t&&u(e)}}}function nt(o){let e,s,t=o[2].close[0]+"",l,a,i;return{c(){e=f("div"),s=f("i"),l=Y(t),a=k(),i=f("button"),this.h()},l(c){e=h(c,"DIV",{class:!0,role:!0});var p=m(e);s=h(p,"I",{class:!0}),m(s).forEach(u),l=K(p,t),a=D(p),i=h(p,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),m(i).forEach(u),p.forEach(u),this.h()},h(){r(s,"class","ri-alert-line me-3 align-middle"),r(i,"type","button"),r(i,"class","btn-close"),r(i,"data-bs-dismiss","alert"),r(i,"aria-label","Close"),r(e,"class","alert text-start alert-danger alert-border-left alert-dismissible fade show"),r(e,"role","alert")},m(c,p){Q(c,e,p),n(e,s),n(e,l),n(e,a),n(e,i)},p(c,p){p&4&&t!==(t=c[2].close[0]+"")&&le(l,t)},d(c){c&&u(e)}}}function Kt(o){var V;let e,s,t,l,a,i='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',c,p,v,d,_,C,L,T="Are you Sure ?",E,S,x='Are you Sure You want to close this <span class="text-primary">active Queue</span> ?',M,I,H,B,R="Cancel",U,b,q="Close Queue",W,w,y=o[1]&&at(),O=((V=o[2])==null?void 0:V.close)&&nt(o);return{c(){e=f("div"),s=f("div"),t=f("div"),l=f("div"),a=f("div"),a.innerHTML=i,c=k(),y&&y.c(),p=k(),v=f("div"),d=f("lord-icon"),C=k(),L=f("h4"),L.textContent=T,E=k(),S=f("p"),S.innerHTML=x,M=k(),O&&O.c(),I=k(),H=f("div"),B=f("button"),B.textContent=R,U=k(),b=f("button"),b.textContent=q,this.h()},l(g){e=h(g,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var $=m(e);s=h($,"DIV",{class:!0});var F=m(s);t=h(F,"DIV",{class:!0});var J=m(t);l=h(J,"DIV",{class:!0});var A=m(l);a=h(A,"DIV",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-3pipod"&&(a.innerHTML=i),c=D(A),y&&y.l(A),p=D(A),v=h(A,"DIV",{class:!0});var G=m(v);d=h(G,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),m(d).forEach(u),C=D(G),L=h(G,"H4",{class:!0,"data-svelte-h":!0}),P(L)!=="svelte-1s07vlj"&&(L.textContent=T),E=D(G),S=h(G,"P",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-tu6baa"&&(S.innerHTML=x),M=D(G),O&&O.l(G),I=D(G),H=h(G,"DIV",{class:!0});var N=m(H);B=h(N,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),P(B)!=="svelte-s1avm2"&&(B.textContent=R),U=D(N),b=h(N,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(b)!=="svelte-17dma38"&&(b.textContent=q),N.forEach(u),G.forEach(u),A.forEach(u),J.forEach(u),F.forEach(u),$.forEach(u),this.h()},h(){r(a,"class","text-end"),it(d.src,_="https://cdn.lordicon.com/crithpny.json")||Me(d,"src",_),Me(d,"trigger","loop"),Me(d,"colors","primary:#f7b84b,secondary:#f06548"),$e(d,"width","100px"),$e(d,"height","100px"),r(L,"class","mb-3 mt-4"),r(S,"class","text-muted fs-15 mb-4"),r(B,"type","button"),r(B,"class","btn btn-light fw-light"),r(B,"data-bs-dismiss","modal"),r(b,"type","button"),r(b,"class","btn btn-warning waves-effect waves-light"),r(H,"class","hstack gap-2 justify-content-center"),r(v,"class","mt-2"),ve(v,"d-none",o[1]),r(l,"class","modal-body text-center p-5"),r(t,"class","modal-content"),r(s,"class","modal-dialog modal-dialog-centered"),r(e,"id","closeQueueModal"),r(e,"class","modal fade"),r(e,"tabindex","-1"),r(e,"aria-hidden","true"),$e(e,"display","none")},m(g,$){Q(g,e,$),n(e,s),n(s,t),n(t,l),n(l,a),n(l,c),y&&y.m(l,null),n(l,p),n(l,v),n(v,d),n(v,C),n(v,L),n(v,E),n(v,S),n(v,M),O&&O.m(v,null),n(v,I),n(v,H),n(H,B),o[5](B),n(H,U),n(H,b),W||(w=re(b,"click",o[4]),W=!0)},p(g,[$]){var F;g[1]?y||(y=at(),y.c(),y.m(l,p)):y&&(y.d(1),y=null),(F=g[2])!=null&&F.close?O?O.p(g,$):(O=nt(g),O.c(),O.m(v,I)):O&&(O.d(1),O=null),$&2&&ve(v,"d-none",g[1])},i:oe,o:oe,d(g){g&&u(e),y&&y.d(),O&&O.d(),o[5](null),W=!1,w()}}}function Wt(o,e,s){let t,l,a=!1,{queueStore:i}=Le("queueStore");Ie(o,i,d=>s(6,t=d));let c;async function p(){s(1,a=!0);let d=await fetch(_t(t.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"Post"});Ne(d),d=await d.json(),s(1,a=!1),d.status=="success"?(l.click(),xe("Queue closed","success"),He("queues:refresh")):s(2,c=d.errors)}function v(d){me[d?"unshift":"push"](()=>{l=d,s(0,l)})}return[l,a,c,i,p,v]}class hs extends ke{constructor(e){super(),De(this,e,Wt,Kt,ye,{})}}export{os as A,hs as C,us as D,ds as E,fs as Q,rs as V,cs as a};
