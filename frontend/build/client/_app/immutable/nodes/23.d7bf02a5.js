import{k as z,D as A}from"../chunks/paths.0e30d36d.js";import{a as H}from"../chunks/auth.660986fb.js";import{s as G,f as b,a as T,g as $,h as y,z as x,c as E,d as h,j as v,i as L,C as g,H as J,o as N,R as q,p as F,F as Q,A as B}from"../chunks/scheduler.726ac76d.js";import{S as K,i as U,a as D,t as k,b as P,d as V,m as C,e as j,f as W}from"../chunks/index.8a5ed380.js";import{g as X,a as Y}from"../chunks/spread.8a54911c.js";import{P as Z}from"../chunks/Pagination.94643daa.js";import{S as ee}from"../chunks/SearchTable.d9fb7dc1.js";import{O as te}from"../chunks/OrdersTable.38eea6e5.js";import{i as se}from"../chunks/initToolTip.b2308c6a.js";import{f as ae}from"../chunks/index.955fed47.js";import{g as re}from"../chunks/utils.7c7f4a39.js";const ne=!1;async function ie({fetch:i,url:e,depends:t}){t("orders:refresh");let a=await i(z(A(e)),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return H(a),{ordersResponse:await a.json(),tabTitle:"Orders"}}const Se=Object.freeze(Object.defineProperty({__proto__:null,load:ie,ssr:ne},Symbol.toStringTag,{value:"Module"}));function oe(i){let e,t='<i class="ri-add-line align-bottom me-1"></i>Add Order',a,n;return{c(){e=b("a"),e.innerHTML=t,this.h()},l(s){e=$(s,"A",{type:!0,class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1fv29gz"&&(e.innerHTML=t),this.h()},h(){v(e,"type","button"),v(e,"class","btn btn-primary waves-effect waves-light")},m(s,d){L(s,e,d),a||(n=Q(e,"click",i[3]),a=!0)},p:B,d(s){s&&h(e),a=!1,n()}}}function le(i){let e,t,a,n,s,d,o,c;a=new ee({props:{type:"Order"}}),s=new te({props:{ordersList:i[2]}});const f=[i[1]];let w={};for(let r=0;r<f.length;r+=1)w=q(w,f[r]);return o=new Z({props:w}),{c(){e=b("div"),t=b("div"),P(a.$$.fragment),n=T(),P(s.$$.fragment),d=T(),P(o.$$.fragment),this.h()},l(r){e=$(r,"DIV",{class:!0});var m=y(e);t=$(m,"DIV",{class:!0});var l=y(t);V(a.$$.fragment,l),n=E(l),V(s.$$.fragment,l),d=E(l),V(o.$$.fragment,l),l.forEach(h),m.forEach(h),this.h()},h(){v(t,"class","row"),v(e,"class","card-body")},m(r,m){L(r,e,m),g(e,t),C(a,t,null),g(t,n),C(s,t,null),g(t,d),C(o,t,null),c=!0},p(r,m){const l={};m&4&&(l.ordersList=r[2]),s.$set(l);const p=m&2?X(f,[Y(r[1])]):{};o.$set(p)},i(r){c||(D(a.$$.fragment,r),D(s.$$.fragment,r),D(o.$$.fragment,r),c=!0)},o(r){k(a.$$.fragment,r),k(s.$$.fragment,r),k(o.$$.fragment,r),c=!1},d(r){r&&h(e),j(a),j(s),j(o)}}}function de(i){let e,t,a,n,s,d="Orders Managment",o,c,f=JSON.parse(sessionStorage.getItem("permissions")).includes("orders.store"),w,r=JSON.parse(sessionStorage.getItem("permissions")).includes("orders.index"),m,l,p=f&&oe(i),u=r&&le(i);return{c(){e=b("div"),t=b("div"),a=b("div"),n=b("div"),s=b("h4"),s.textContent=d,o=T(),c=b("div"),p&&p.c(),w=T(),u&&u.c(),this.h()},l(_){e=$(_,"DIV",{class:!0});var S=y(e);t=$(S,"DIV",{class:!0});var M=y(t);a=$(M,"DIV",{class:!0});var I=y(a);n=$(I,"DIV",{class:!0});var O=y(n);s=$(O,"H4",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-177umtu"&&(s.textContent=d),o=E(O),c=$(O,"DIV",{class:!0});var R=y(c);p&&p.l(R),R.forEach(h),O.forEach(h),w=E(I),u&&u.l(I),I.forEach(h),M.forEach(h),S.forEach(h),this.h()},h(){v(s,"class","card-title mb-0 flex-grow-1"),v(c,"class","flex-shrink-0"),v(n,"class","card-header align-items-center d-flex"),v(a,"class","card"),v(t,"class","col-lg-12"),v(e,"class","row")},m(_,S){L(_,e,S),g(e,t),g(t,a),g(a,n),g(n,s),g(n,o),g(n,c),p&&p.m(c,null),g(a,w),u&&u.m(a,null),i[5](e),l=!0},p(_,[S]){f&&p.p(_,S),r&&u.p(_,S)},i(_){l||(D(u),_&&(m||J(()=>{m=W(e,ae,{duration:200}),m.start()})),l=!0)},o(_){k(u),l=!1},d(_){_&&h(e),p&&p.d(),u&&u.d(),i[5](null)}}}function ce(i,e,t){let a,n,{data:s}=e,d;N(()=>{se(d)});function o(){re("/admin/orders/add")}function c(f){F[f?"unshift":"push"](()=>{d=f,t(0,d)})}return i.$$set=f=>{"data"in f&&t(4,s=f.data)},i.$$.update=()=>{i.$$.dirty&16&&t(2,a=s.ordersResponse.data),i.$$.dirty&16&&t(1,n=s.ordersResponse.pagination)},[d,n,a,o,s,c]}class ye extends K{constructor(e){super(),U(this,e,ce,de,G,{data:4})}}export{ye as component,Se as universal};
