import{ak as Ha,D as Aa,al as Na,am as Ya,an as ja}from"../chunks/paths.29c5142d.js";import{a as gt}from"../chunks/auth.82ff8344.js";import{s as ze,f as n,a as b,l as ae,g as o,h as u,z as K,c as g,d as c,m as se,j as a,E as jt,W as Nt,k as Yt,B as je,i as re,C as t,F as we,Q as Pt,n as he,A as Ve,G as $t,T as yt,y as at,p as Le,K as pt,e as _t,I as Pa,J as $a,D as Oa,R as Ba,H as Ua,o as Ra}from"../chunks/scheduler.726ac76d.js";import{S as Ge,i as qe,b as Pe,d as $e,m as Oe,a as Ee,g as Ma,t as Ce,c as Sa,e as Be,f as Fa}from"../chunks/index.8a5ed380.js";import{g as za,a as Ga}from"../chunks/spread.8a54911c.js";import{P as qa}from"../chunks/Pagination.0a529dad.js";import{S as Ja}from"../chunks/SearchTable.1c079677.js";import{e as ha}from"../chunks/each.381f634d.js";import{t as Ot}from"../chunks/toast.aca1940a.js";import{i as Bt,f as vt}from"../chunks/utils.5f096ebf.js";import{l as bt,I as Qa}from"../chunks/initFlatpickr.06386e0f.js";import{w as Ka}from"../chunks/singletons.df66ea99.js";import{n as Wa}from"../chunks/stores.1008b3f8.js";import{f as Xa}from"../chunks/index.955fed47.js";import{i as Za}from"../chunks/initToolTip.b2308c6a.js";const es=!1;async function ts({fetch:i,url:e,depends:r,params:s}){r("years:refresh");let l=await i(Ha(s.schoolId,Aa(e)),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return gt(l),{academicYearsResponse:await l.json(),tabTitle:"Academic Year"}}const Rs=Object.freeze(Object.defineProperty({__proto__:null,load:ts,ssr:es},Symbol.toStringTag,{value:"Module"}));function ma(i){let e,r='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=n("div"),e.innerHTML=r,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1ei7695"&&(e.innerHTML=r),this.h()},h(){a(e,"class","mt-2")},m(s,l){re(s,e,l)},d(s){s&&c(e)}}}function as(i){let e,r,s,l,d,h='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',f,m,v,p,I,Y,W,B,S="Are you Sure ?",V,T,A,E,w=`${i[2].name} #${i[2].id}`,j,x,ie,q,L,P="Close",Z,J,H="Delete",M,ee,_=i[1]&&ma();return{c(){e=n("div"),r=n("div"),s=n("div"),l=n("div"),d=n("div"),d.innerHTML=h,f=b(),_&&_.c(),m=b(),v=n("div"),p=n("form"),I=n("lord-icon"),W=b(),B=n("h4"),B.textContent=S,V=b(),T=n("p"),A=ae("Are you Sure You want to Delete "),E=n("span"),j=ae(w),x=ae(" ?"),ie=b(),q=n("div"),L=n("button"),L.textContent=P,Z=b(),J=n("button"),J.textContent=H,this.h()},l(y){e=o(y,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var C=u(e);r=o(C,"DIV",{class:!0});var z=u(r);s=o(z,"DIV",{class:!0});var U=u(s);l=o(U,"DIV",{class:!0});var Q=u(l);d=o(Q,"DIV",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-3pipod"&&(d.innerHTML=h),f=g(Q),_&&_.l(Q),m=g(Q),v=o(Q,"DIV",{class:!0});var X=u(v);p=o(X,"FORM",{});var k=u(p);I=o(k,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),u(I).forEach(c),W=g(k),B=o(k,"H4",{class:!0,"data-svelte-h":!0}),K(B)!=="svelte-1s07vlj"&&(B.textContent=S),V=g(k),T=o(k,"P",{class:!0});var D=u(T);A=se(D,"Are you Sure You want to Delete "),E=o(D,"SPAN",{class:!0});var N=u(E);j=se(N,w),N.forEach(c),x=se(D," ?"),D.forEach(c),ie=g(k),q=o(k,"DIV",{class:!0});var ne=u(q);L=o(ne,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),K(L)!=="svelte-1h5uvws"&&(L.textContent=P),Z=g(ne),J=o(ne,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(J)!=="svelte-iuig3c"&&(J.textContent=H),ne.forEach(c),k.forEach(c),X.forEach(c),Q.forEach(c),U.forEach(c),z.forEach(c),C.forEach(c),this.h()},h(){a(d,"class","text-end"),jt(I.src,Y="https://cdn.lordicon.com/gsqxdxog.json")||Nt(I,"src",Y),Nt(I,"trigger","loop"),Nt(I,"colors","primary:#f7b84b,secondary:#f06548"),Yt(I,"width","100px"),Yt(I,"height","100px"),a(B,"class","mb-3 mt-4"),a(E,"class","text-primary"),a(T,"class","text-muted fs-15 mb-4"),a(L,"type","button"),a(L,"class","btn btn-light fw-light"),a(L,"data-bs-dismiss","modal"),a(J,"type","button"),a(J,"class","btn btn-danger waves-effect waves-light"),a(q,"class","hstack gap-2 justify-content-center"),je(p,"d-none",i[1]),a(v,"class","mt-2"),je(v,"d-none",i[1]),a(l,"class","modal-body text-center p-5"),a(s,"class","modal-content"),a(r,"class","modal-dialog modal-dialog-centered"),a(e,"id","deleteYearModal"),a(e,"class","modal fade"),a(e,"tabindex","-1"),a(e,"aria-hidden","true"),Yt(e,"display","none")},m(y,C){re(y,e,C),t(e,r),t(r,s),t(s,l),t(l,d),t(l,f),_&&_.m(l,null),t(l,m),t(l,v),t(v,p),t(p,I),t(p,W),t(p,B),t(p,V),t(p,T),t(T,A),t(T,E),t(E,j),t(T,x),t(p,ie),t(p,q),t(q,L),i[5](L),t(q,Z),t(q,J),M||(ee=[we(J,"click",i[4]),we(p,"submit",Pt(i[4]))],M=!0)},p(y,[C]){y[1]?_||(_=ma(),_.c(),_.m(l,m)):_&&(_.d(1),_=null),C&4&&w!==(w=`${y[2].name} #${y[2].id}`)&&he(j,w),C&2&&je(p,"d-none",y[1]),C&2&&je(v,"d-none",y[1])},i:Ve,o:Ve,d(y){y&&c(e),_&&_.d(),i[5](null),M=!1,$t(ee)}}}function ss(i,e,r){let s,l,d=!1,{yearStore:h}=yt("yearStore");at(i,h,v=>r(2,s=v));async function f(){r(1,d=!0);let v=await fetch(Na(s.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"DELETE"});if(gt(v),v=await v.json(),r(1,d=!1),v.status=="success"){l.click();let p=`Deleted ${s.name} #${s.id}`;Ot(p,"success"),Bt("years:refresh")}}function m(v){Le[v?"unshift":"push"](()=>{l=v,r(0,l)})}return[l,d,s,h,f,m]}class ls extends Ge{constructor(e){super(),qe(this,e,ss,as,ze,{})}}function rs(i){let e,r,s,l,d='<h5 class="modal-title" id="exampleModalgridLabel">View Academic Year</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',h,f,m,v,p,I='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',Y,W,B,S,V,T=i[0].name+"",A,E,w,j,x,ie='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',q,L,P,Z,J,H=i[0].from+"",M,ee,_,y,C,z='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',U,Q,X,k,D,N=i[0].to+"",ne,te,me,ve,R,G='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',O,F,De,Me,xe,$=i[0].academicDays+"",le,ge,ce,oe,ke,de='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',pe,ue,fe,Se,_e,ye=i[0].current?"current":"not current",st,lt,Et,Je,He,Ue,Ut='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',Dt,Qe,Ae,It,Ke,et=vt(i[0].created_at)+"",rt,wt,We,Ne,Re,Rt='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',kt,Xe,Ye,Tt,Ze,tt=vt(i[0].updated_at)+"",it,Ct,Fe,Ft='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>';return{c(){e=n("div"),r=n("div"),s=n("div"),l=n("div"),l.innerHTML=d,h=b(),f=n("div"),m=n("div"),v=n("div"),p=n("div"),p.innerHTML=I,Y=b(),W=n("div"),B=n("h6"),S=ae("Name : "),V=n("span"),A=ae(T),E=b(),w=n("div"),j=n("div"),x=n("div"),x.innerHTML=ie,q=b(),L=n("div"),P=n("h6"),Z=ae("From : "),J=n("span"),M=ae(H),ee=b(),_=n("div"),y=n("div"),C=n("div"),C.innerHTML=z,U=b(),Q=n("div"),X=n("h6"),k=ae("To : "),D=n("span"),ne=ae(N),te=b(),me=n("div"),ve=n("div"),R=n("div"),R.innerHTML=G,O=b(),F=n("div"),De=n("h6"),Me=ae("Academic Days : "),xe=n("span"),le=ae($),ge=b(),ce=n("div"),oe=n("div"),ke=n("div"),ke.innerHTML=de,pe=b(),ue=n("div"),fe=n("h6"),Se=ae("Current : "),_e=n("span"),st=ae(ye),Et=b(),Je=n("div"),He=n("div"),Ue=n("div"),Ue.innerHTML=Ut,Dt=b(),Qe=n("div"),Ae=n("h6"),It=ae("Created at : "),Ke=n("span"),rt=ae(et),wt=b(),We=n("div"),Ne=n("div"),Re=n("div"),Re.innerHTML=Rt,kt=b(),Xe=n("div"),Ye=n("h6"),Tt=ae("Updated at : "),Ze=n("span"),it=ae(tt),Ct=b(),Fe=n("div"),Fe.innerHTML=Ft,this.h()},l(Ie){e=o(Ie,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var Te=u(e);r=o(Te,"DIV",{class:!0});var zt=u(r);s=o(zt,"DIV",{class:!0});var nt=u(s);l=o(nt,"DIV",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-1oqtrow"&&(l.innerHTML=d),h=g(nt),f=o(nt,"DIV",{class:!0});var be=u(f);m=o(be,"DIV",{class:!0});var Gt=u(m);v=o(Gt,"DIV",{class:!0});var ot=u(v);p=o(ot,"DIV",{class:!0,"data-svelte-h":!0}),K(p)!=="svelte-1x836j2"&&(p.innerHTML=I),Y=g(ot),W=o(ot,"DIV",{class:!0});var qt=u(W);B=o(qt,"H6",{class:!0,id:!0});var Vt=u(B);S=se(Vt,"Name : "),V=o(Vt,"SPAN",{class:!0});var Jt=u(V);A=se(Jt,T),Jt.forEach(c),Vt.forEach(c),qt.forEach(c),ot.forEach(c),Gt.forEach(c),E=g(be),w=o(be,"DIV",{class:!0});var Qt=u(w);j=o(Qt,"DIV",{class:!0});var dt=u(j);x=o(dt,"DIV",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-1x836j2"&&(x.innerHTML=ie),q=g(dt),L=o(dt,"DIV",{class:!0});var Kt=u(L);P=o(Kt,"H6",{class:!0,id:!0});var xt=u(P);Z=se(xt,"From : "),J=o(xt,"SPAN",{class:!0});var Wt=u(J);M=se(Wt,H),Wt.forEach(c),xt.forEach(c),Kt.forEach(c),dt.forEach(c),Qt.forEach(c),ee=g(be),_=o(be,"DIV",{class:!0});var Xt=u(_);y=o(Xt,"DIV",{class:!0});var ct=u(y);C=o(ct,"DIV",{class:!0,"data-svelte-h":!0}),K(C)!=="svelte-1x836j2"&&(C.innerHTML=z),U=g(ct),Q=o(ct,"DIV",{class:!0});var Zt=u(Q);X=o(Zt,"H6",{class:!0,id:!0});var Lt=u(X);k=se(Lt,"To : "),D=o(Lt,"SPAN",{class:!0});var ea=u(D);ne=se(ea,N),ea.forEach(c),Lt.forEach(c),Zt.forEach(c),ct.forEach(c),Xt.forEach(c),te=g(be),me=o(be,"DIV",{class:!0});var ta=u(me);ve=o(ta,"DIV",{class:!0});var ft=u(ve);R=o(ft,"DIV",{class:!0,"data-svelte-h":!0}),K(R)!=="svelte-1x836j2"&&(R.innerHTML=G),O=g(ft),F=o(ft,"DIV",{class:!0});var aa=u(F);De=o(aa,"H6",{class:!0,id:!0});var Mt=u(De);Me=se(Mt,"Academic Days : "),xe=o(Mt,"SPAN",{class:!0});var sa=u(xe);le=se(sa,$),sa.forEach(c),Mt.forEach(c),aa.forEach(c),ft.forEach(c),ta.forEach(c),ge=g(be),ce=o(be,"DIV",{class:!0});var la=u(ce);oe=o(la,"DIV",{class:!0});var ut=u(oe);ke=o(ut,"DIV",{class:!0,"data-svelte-h":!0}),K(ke)!=="svelte-1x836j2"&&(ke.innerHTML=de),pe=g(ut),ue=o(ut,"DIV",{class:!0});var ra=u(ue);fe=o(ra,"H6",{class:!0,id:!0});var St=u(fe);Se=se(St,"Current : "),_e=o(St,"SPAN",{class:!0});var ia=u(_e);st=se(ia,ye),ia.forEach(c),St.forEach(c),ra.forEach(c),ut.forEach(c),la.forEach(c),Et=g(be),Je=o(be,"DIV",{class:!0});var na=u(Je);He=o(na,"DIV",{class:!0});var ht=u(He);Ue=o(ht,"DIV",{class:!0,"data-svelte-h":!0}),K(Ue)!=="svelte-1x836j2"&&(Ue.innerHTML=Ut),Dt=g(ht),Qe=o(ht,"DIV",{class:!0});var oa=u(Qe);Ae=o(oa,"H6",{class:!0,id:!0});var Ht=u(Ae);It=se(Ht,"Created at : "),Ke=o(Ht,"SPAN",{class:!0});var da=u(Ke);rt=se(da,et),da.forEach(c),Ht.forEach(c),oa.forEach(c),ht.forEach(c),na.forEach(c),wt=g(be),We=o(be,"DIV",{class:!0});var ca=u(We);Ne=o(ca,"DIV",{class:!0});var mt=u(Ne);Re=o(mt,"DIV",{class:!0,"data-svelte-h":!0}),K(Re)!=="svelte-1x836j2"&&(Re.innerHTML=Rt),kt=g(mt),Xe=o(mt,"DIV",{class:!0});var fa=u(Xe);Ye=o(fa,"H6",{class:!0,id:!0});var At=u(Ye);Tt=se(At,"Updated at : "),Ze=o(At,"SPAN",{class:!0});var ua=u(Ze);it=se(ua,tt),ua.forEach(c),At.forEach(c),fa.forEach(c),mt.forEach(c),ca.forEach(c),Ct=g(be),Fe=o(be,"DIV",{class:!0,"data-svelte-h":!0}),K(Fe)!=="svelte-1vrqtk3"&&(Fe.innerHTML=Ft),be.forEach(c),nt.forEach(c),zt.forEach(c),Te.forEach(c),this.h()},h(){a(l,"class","modal-header"),a(p,"class","flex-shrink-0 me-3"),a(V,"class","fw-normal"),a(B,"class","d-block fw-semibold mb-0"),a(B,"id","event-start-date-tag"),a(W,"class","flex-grow-1"),a(v,"class","flex-grow-1 d-flex align-items-center"),a(m,"class","d-flex mb-2"),a(x,"class","flex-shrink-0 me-3"),a(J,"class","fw-normal"),a(P,"class","d-block fw-semibold mb-0"),a(P,"id","event-start-date-tag"),a(L,"class","flex-grow-1"),a(j,"class","flex-grow-1 d-flex align-items-center"),a(w,"class","d-flex mb-2"),a(C,"class","flex-shrink-0 me-3"),a(D,"class","fw-normal"),a(X,"class","d-block fw-semibold mb-0"),a(X,"id","event-start-date-tag"),a(Q,"class","flex-grow-1"),a(y,"class","flex-grow-1 d-flex align-items-center"),a(_,"class","d-flex mb-2"),a(R,"class","flex-shrink-0 me-3"),a(xe,"class","fw-normal"),a(De,"class","d-block fw-semibold mb-0"),a(De,"id","event-start-date-tag"),a(F,"class","flex-grow-1"),a(ve,"class","flex-grow-1 d-flex align-items-center"),a(me,"class","d-flex mb-2"),a(ke,"class","flex-shrink-0 me-3"),a(_e,"class",lt=i[0].current?va:pa),a(fe,"class","d-block fw-semibold mb-0"),a(fe,"id","event-start-date-tag"),a(ue,"class","flex-grow-1"),a(oe,"class","flex-grow-1 d-flex align-items-center"),a(ce,"class","d-flex mb-2"),a(Ue,"class","flex-shrink-0 me-3"),a(Ke,"class","fw-normal"),a(Ae,"class","d-block fw-semibold mb-0"),a(Ae,"id","event-start-date-tag"),a(Qe,"class","flex-grow-1"),a(He,"class","flex-grow-1 d-flex align-items-center"),a(Je,"class","d-flex mb-2"),a(Re,"class","flex-shrink-0 me-3"),a(Ze,"class","fw-normal"),a(Ye,"class","d-block fw-semibold mb-0"),a(Ye,"id","event-start-date-tag"),a(Xe,"class","flex-grow-1"),a(Ne,"class","flex-grow-1 d-flex align-items-center"),a(We,"class","d-flex mb-2"),a(Fe,"class","hstack gap-2 justify-content-end"),a(f,"class","modal-body p-4"),a(s,"class","modal-content"),a(r,"class","modal-dialog modal-dialog-centered"),a(e,"class","modal fade"),a(e,"id","viewYearModal"),a(e,"tabindex","-1"),a(e,"aria-labelledby","exampleModalgridLabel"),a(e,"aria-modal","true")},m(Ie,Te){re(Ie,e,Te),t(e,r),t(r,s),t(s,l),t(s,h),t(s,f),t(f,m),t(m,v),t(v,p),t(v,Y),t(v,W),t(W,B),t(B,S),t(B,V),t(V,A),t(f,E),t(f,w),t(w,j),t(j,x),t(j,q),t(j,L),t(L,P),t(P,Z),t(P,J),t(J,M),t(f,ee),t(f,_),t(_,y),t(y,C),t(y,U),t(y,Q),t(Q,X),t(X,k),t(X,D),t(D,ne),t(f,te),t(f,me),t(me,ve),t(ve,R),t(ve,O),t(ve,F),t(F,De),t(De,Me),t(De,xe),t(xe,le),t(f,ge),t(f,ce),t(ce,oe),t(oe,ke),t(oe,pe),t(oe,ue),t(ue,fe),t(fe,Se),t(fe,_e),t(_e,st),t(f,Et),t(f,Je),t(Je,He),t(He,Ue),t(He,Dt),t(He,Qe),t(Qe,Ae),t(Ae,It),t(Ae,Ke),t(Ke,rt),t(f,wt),t(f,We),t(We,Ne),t(Ne,Re),t(Ne,kt),t(Ne,Xe),t(Xe,Ye),t(Ye,Tt),t(Ye,Ze),t(Ze,it),t(f,Ct),t(f,Fe)},p(Ie,[Te]){Te&1&&T!==(T=Ie[0].name+"")&&he(A,T),Te&1&&H!==(H=Ie[0].from+"")&&he(M,H),Te&1&&N!==(N=Ie[0].to+"")&&he(ne,N),Te&1&&$!==($=Ie[0].academicDays+"")&&he(le,$),Te&1&&ye!==(ye=Ie[0].current?"current":"not current")&&he(st,ye),Te&1&&lt!==(lt=Ie[0].current?va:pa)&&a(_e,"class",lt),Te&1&&et!==(et=vt(Ie[0].created_at)+"")&&he(rt,et),Te&1&&tt!==(tt=vt(Ie[0].updated_at)+"")&&he(it,tt)},i:Ve,o:Ve,d(Ie){Ie&&c(e)}}}let va="badge bg-success-subtle text-success ms-1",pa="badge bg-danger-subtle text-danger ms-1";function is(i,e,r){let s,{yearStore:l}=yt("yearStore");return at(i,l,d=>r(0,s=d)),[s,l]}class ns extends Ge{constructor(e){super(),qe(this,e,is,rs,ze,{})}}function _a(i){let e,r='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=n("div"),e.innerHTML=r,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-dxv6g9"&&(e.innerHTML=r),this.h()},h(){a(e,"class","text-center")},m(s,l){re(s,e,l)},d(s){s&&c(e)}}}function ba(i){let e,r=i[4].name[0]+"",s;return{c(){e=n("strong"),s=ae(r),this.h()},l(l){e=o(l,"STRONG",{class:!0});var d=u(e);s=se(d,r),d.forEach(c),this.h()},h(){a(e,"class","text-danger ms-1 my-2")},m(l,d){re(l,e,d),t(e,s)},p(l,d){d&16&&r!==(r=l[4].name[0]+"")&&he(s,r)},d(l){l&&c(e)}}}function ga(i){let e,r=i[4].from[0]+"",s;return{c(){e=n("strong"),s=ae(r),this.h()},l(l){e=o(l,"STRONG",{class:!0});var d=u(e);s=se(d,r),d.forEach(c),this.h()},h(){a(e,"class","text-danger ms-1 my-2")},m(l,d){re(l,e,d),t(e,s)},p(l,d){d&16&&r!==(r=l[4].from[0]+"")&&he(s,r)},d(l){l&&c(e)}}}function ya(i){let e,r=i[4].to[0]+"",s;return{c(){e=n("strong"),s=ae(r),this.h()},l(l){e=o(l,"STRONG",{class:!0});var d=u(e);s=se(d,r),d.forEach(c),this.h()},h(){a(e,"class","text-danger ms-1 my-2")},m(l,d){re(l,e,d),t(e,s)},p(l,d){d&16&&r!==(r=l[4].to[0]+"")&&he(s,r)},d(l){l&&c(e)}}}function os(i){var De,Me,xe;let e,r,s,l,d='<h5 class="modal-title" id="exampleModalgridLabel">Edit Year</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',h,f,m,v,p,I,Y,W="Year Name",B,S,V,T,A,E,w="From",j,x,ie,q,L,P,Z="To",J,H,M,ee,_,y,C,z,U,Q="Current Year",X,k,D,N="Close",ne,te,me,ve,R=i[5]&&_a(),G=((De=i[4])==null?void 0:De.name)&&ba(i),O=((Me=i[4])==null?void 0:Me.from)&&ga(i),F=((xe=i[4])==null?void 0:xe.to)&&ya(i);return{c(){e=n("div"),r=n("div"),s=n("div"),l=n("div"),l.innerHTML=d,h=b(),f=n("div"),R&&R.c(),m=b(),v=n("form"),p=n("div"),I=n("div"),Y=n("label"),Y.textContent=W,B=b(),S=n("input"),V=b(),G&&G.c(),T=b(),A=n("div"),E=n("label"),E.textContent=w,j=b(),x=n("input"),ie=b(),O&&O.c(),q=b(),L=n("div"),P=n("label"),P.textContent=Z,J=b(),H=n("input"),M=b(),F&&F.c(),ee=b(),_=n("div"),y=n("div"),C=n("input"),z=b(),U=n("label"),U.textContent=Q,X=b(),k=n("div"),D=n("button"),D.textContent=N,ne=b(),te=n("input"),this.h()},l($){e=o($,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var le=u(e);r=o(le,"DIV",{class:!0});var ge=u(r);s=o(ge,"DIV",{class:!0});var ce=u(s);l=o(ce,"DIV",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-46mt1s"&&(l.innerHTML=d),h=g(ce),f=o(ce,"DIV",{class:!0});var oe=u(f);R&&R.l(oe),m=g(oe),v=o(oe,"FORM",{});var ke=u(v);p=o(ke,"DIV",{class:!0});var de=u(p);I=o(de,"DIV",{});var pe=u(I);Y=o(pe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(Y)!=="svelte-1vopz8w"&&(Y.textContent=W),B=g(pe),S=o(pe,"INPUT",{type:!0,class:!0,id:!0,name:!0,placeholder:!0}),V=g(pe),G&&G.l(pe),pe.forEach(c),T=g(de),A=o(de,"DIV",{class:!0});var ue=u(A);E=o(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(E)!=="svelte-131zvm2"&&(E.textContent=w),j=g(ue),x=o(ue,"INPUT",{type:!0,name:!0,class:!0,"data-provider":!0,"data-date-format":!0,id:!0}),ie=g(ue),O&&O.l(ue),ue.forEach(c),q=g(de),L=o(de,"DIV",{class:!0});var fe=u(L);P=o(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(P)!=="svelte-10t43u0"&&(P.textContent=Z),J=g(fe),H=o(fe,"INPUT",{type:!0,name:!0,class:!0,"data-provider":!0,"data-date-format":!0,id:!0}),M=g(fe),F&&F.l(fe),fe.forEach(c),ee=g(de),_=o(de,"DIV",{});var Se=u(_);y=o(Se,"DIV",{class:!0});var _e=u(y);C=o(_e,"INPUT",{class:!0,type:!0,role:!0,id:!0}),z=g(_e),U=o(_e,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(U)!=="svelte-u2kjjs"&&(U.textContent=Q),_e.forEach(c),Se.forEach(c),X=g(de),k=o(de,"DIV",{class:!0});var ye=u(k);D=o(ye,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),K(D)!=="svelte-1h5uvws"&&(D.textContent=N),ne=g(ye),te=o(ye,"INPUT",{type:!0,class:!0}),ye.forEach(c),de.forEach(c),ke.forEach(c),oe.forEach(c),ce.forEach(c),ge.forEach(c),le.forEach(c),this.h()},h(){a(l,"class","modal-header"),a(Y,"for","yearName"),a(Y,"class","form-label"),a(S,"type","text"),a(S,"class","form-control"),a(S,"id","yearName"),a(S,"name","name"),a(S,"placeholder","Enter Year name"),a(E,"for","from"),a(E,"class","form-label"),a(x,"type","text"),a(x,"name","from"),a(x,"class","form-control"),a(x,"data-provider","flatpickr"),a(x,"data-date-format","Y-m-d"),a(x,"id","from"),a(A,"class","col-xxl-6"),a(P,"for","to"),a(P,"class","form-label"),a(H,"type","text"),a(H,"name","to"),a(H,"class","form-control"),a(H,"data-provider","flatpickr"),a(H,"data-date-format","Y-m-d"),a(H,"id","to"),a(L,"class","col-xxl-6"),a(C,"class","form-check-input"),a(C,"type","checkbox"),a(C,"role","switch"),a(C,"id","currentCheck"),a(U,"class","form-check-label"),a(U,"for","currentCheck"),a(y,"class","form-switch form-switch-success"),a(D,"type","button"),a(D,"class","btn btn-light fw-light"),a(D,"data-bs-dismiss","modal"),a(te,"type","submit"),a(te,"class","btn btn-primary waves-effect waves-light"),te.value="Save",a(k,"class","hstack gap-2 justify-content-end"),a(p,"class","row g-3"),je(v,"d-none",i[5]),a(f,"class","modal-body"),a(s,"class","modal-content"),a(r,"class","modal-dialog modal-dialog-centered"),a(e,"class","modal fade"),a(e,"id","editYearModal"),a(e,"tabindex","-1"),a(e,"aria-labelledby","exampleModalgridLabel"),a(e,"aria-modal","true")},m($,le){re($,e,le),t(e,r),t(r,s),t(s,l),t(s,h),t(s,f),R&&R.m(f,null),t(f,m),t(f,v),t(v,p),t(p,I),t(I,Y),t(I,B),t(I,S),pt(S,i[6].name),t(I,V),G&&G.m(I,null),t(p,T),t(p,A),t(A,E),t(A,j),t(A,x),i[11](x),t(A,ie),O&&O.m(A,null),t(p,q),t(p,L),t(L,P),t(L,J),t(L,H),i[12](H),t(L,M),F&&F.m(L,null),t(p,ee),t(p,_),t(_,y),t(y,C),C.checked=i[6].current,t(y,z),t(y,U),t(p,X),t(p,k),t(k,D),i[14](D),t(k,ne),t(k,te),i[15](v),me||(ve=[we(S,"input",i[10]),we(C,"change",i[13]),we(v,"submit",Pt(i[8])),we(e,"hidden.bs.modal",i[9])],me=!0)},p($,[le]){var ge,ce,oe;$[5]?R||(R=_a(),R.c(),R.m(f,m)):R&&(R.d(1),R=null),le&64&&S.value!==$[6].name&&pt(S,$[6].name),(ge=$[4])!=null&&ge.name?G?G.p($,le):(G=ba($),G.c(),G.m(I,null)):G&&(G.d(1),G=null),(ce=$[4])!=null&&ce.from?O?O.p($,le):(O=ga($),O.c(),O.m(A,null)):O&&(O.d(1),O=null),(oe=$[4])!=null&&oe.to?F?F.p($,le):(F=ya($),F.c(),F.m(L,null)):F&&(F.d(1),F=null),le&64&&(C.checked=$[6].current),le&32&&je(v,"d-none",$[5])},i:Ve,o:Ve,d($){$&&c(e),R&&R.d(),G&&G.d(),i[11](null),O&&O.d(),i[12](null),F&&F.d(),i[14](null),i[15](null),me=!1,$t(ve)}}}function ds(i,e,r){let s,{yearStore:l}=yt("yearStore");at(i,l,E=>r(6,s=E));let d,h,f,m,v,p=!1;async function I(){r(5,p=!0),r(4,v={});let E=new FormData(h);E.set("current",+s.current);let w=await fetch(Ya(s.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:E});if(gt(w),w=await w.json(),r(5,p=!1),w.status=="success"){d.click();let j=`Edited #${s.id} to ${s.name}`;Ot(j,"success"),Bt("years:refresh"),Y()}}l.subscribe(()=>{Object.keys(s).length!=0&&(bt(f,s.from),bt(m,s.to))});function Y(){r(4,v={})}function W(){s.name=this.value,l.set(s)}function B(E){Le[E?"unshift":"push"](()=>{f=E,r(2,f)})}function S(E){Le[E?"unshift":"push"](()=>{m=E,r(3,m)})}function V(){s.current=this.checked,l.set(s)}function T(E){Le[E?"unshift":"push"](()=>{d=E,r(0,d)})}function A(E){Le[E?"unshift":"push"](()=>{h=E,r(1,h)})}return[d,h,f,m,v,p,s,l,I,Y,W,B,S,V,T,A]}class cs extends Ge{constructor(e){super(),qe(this,e,ds,os,ze,{})}}function Ea(i){let e,r="Current";return{c(){e=n("span"),e.textContent=r,this.h()},l(s){e=o(s,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-us3cjl"&&(e.textContent=r),this.h()},h(){a(e,"class","badge bg-success-subtle text-success ms-1")},m(s,l){re(s,e,l)},d(s){s&&c(e)}}}function fs(i){let e,r,s,l,d,h;return{c(){e=n("span"),r=n("a"),s=n("i"),this.h()},l(f){e=o(f,"SPAN",{});var m=u(e);r=o(m,"A",{href:!0,target:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0});var v=u(r);s=o(v,"I",{class:!0}),u(s).forEach(c),v.forEach(c),m.forEach(c),this.h()},h(){a(s,"class","ri-calendar-2-fill"),a(r,"href",l="/admin/schools/"+i[0].school_id+"/academicYears/"+i[0].id+"/academicBreaks"),a(r,"target","_blank"),a(r,"class","fs-15"),a(r,"data-bs-toggle","tooltip"),a(r,"data-bs-original-title","Academic Breaks")},m(f,m){re(f,e,m),t(e,r),t(r,s),d||(h=we(e,"click",ps),d=!0)},p(f,m){m&1&&l!==(l="/admin/schools/"+f[0].school_id+"/academicYears/"+f[0].id+"/academicBreaks")&&a(r,"href",l)},d(f){f&&c(e),d=!1,h()}}}function us(i){let e,r='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="View"><i class="ri-eye-fill"></i></a>',s,l;return{c(){e=n("span"),e.innerHTML=r,this.h()},l(d){e=o(d,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),K(e)!=="svelte-1iu1l27"&&(e.innerHTML=r),this.h()},h(){a(e,"data-bs-toggle","modal"),a(e,"data-bs-target","#viewYearModal")},m(d,h){re(d,e,h),s||(l=we(e,"click",i[2]),s=!0)},p:Ve,d(d){d&&c(e),s=!1,l()}}}function hs(i){let e,r='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Edit"><i class="ri-edit-2-line"></i></a>',s,l;return{c(){e=n("span"),e.innerHTML=r,this.h()},l(d){e=o(d,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),K(e)!=="svelte-14w4s9i"&&(e.innerHTML=r),this.h()},h(){a(e,"data-bs-toggle","modal"),a(e,"data-bs-target","#editYearModal")},m(d,h){re(d,e,h),s||(l=we(e,"click",i[2]),s=!0)},p:Ve,d(d){d&&c(e),s=!1,l()}}}function Da(i){let e=JSON.parse(sessionStorage.getItem("permissions")).includes("academicYears.destroy"),r,s=e&&ms(i);return{c(){s&&s.c(),r=_t()},l(l){s&&s.l(l),r=_t()},m(l,d){s&&s.m(l,d),re(l,r,d)},p(l,d){e&&s.p(l,d)},d(l){l&&c(r),s&&s.d(l)}}}function ms(i){let e,r='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Delete"><i class="ri-delete-bin-line"></i></a>',s,l;return{c(){e=n("span"),e.innerHTML=r,this.h()},l(d){e=o(d,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),K(e)!=="svelte-nq7ebo"&&(e.innerHTML=r),this.h()},h(){a(e,"data-bs-toggle","modal"),a(e,"data-bs-target","#deleteYearModal")},m(d,h){re(d,e,h),s||(l=we(e,"click",i[2]),s=!0)},p:Ve,d(d){d&&c(e),s=!1,l()}}}function vs(i){let e,r,s='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',l,d,h=i[0].id+"",f,m,v,p=i[0].name+"",I,Y,W,B,S=i[0].from+"",V,T,A,E=i[0].to+"",w,j,x,ie=i[0].academicDays+"",q,L,P,Z,J=JSON.parse(sessionStorage.getItem("permissions")).includes("academicBreaks.index"),H,M=JSON.parse(sessionStorage.getItem("permissions")).includes("academicYears.show"),ee,_=JSON.parse(sessionStorage.getItem("permissions")).includes("academicYears.update"),y,C,z=i[0].current&&Ea(),U=J&&fs(i),Q=M&&us(i),X=_&&hs(i),k=!i[0].current&&Da(i);return{c(){e=n("tr"),r=n("td"),r.innerHTML=s,l=b(),d=n("td"),f=ae(h),m=b(),v=n("td"),I=ae(p),Y=b(),z&&z.c(),W=b(),B=n("td"),V=ae(S),T=b(),A=n("td"),w=ae(E),j=b(),x=n("td"),q=ae(ie),L=b(),P=n("td"),Z=n("div"),U&&U.c(),H=b(),Q&&Q.c(),ee=b(),X&&X.c(),y=b(),k&&k.c(),this.h()},l(D){e=o(D,"TR",{scope:!0,class:!0});var N=u(e);r=o(N,"TD",{"data-svelte-h":!0}),K(r)!=="svelte-1z5pzi"&&(r.innerHTML=s),l=g(N),d=o(N,"TD",{});var ne=u(d);f=se(ne,h),ne.forEach(c),m=g(N),v=o(N,"TD",{});var te=u(v);I=se(te,p),Y=g(te),z&&z.l(te),te.forEach(c),W=g(N),B=o(N,"TD",{});var me=u(B);V=se(me,S),me.forEach(c),T=g(N),A=o(N,"TD",{});var ve=u(A);w=se(ve,E),ve.forEach(c),j=g(N),x=o(N,"TD",{});var R=u(x);q=se(R,ie),R.forEach(c),L=g(N),P=o(N,"TD",{});var G=u(P);Z=o(G,"DIV",{class:!0});var O=u(Z);U&&U.l(O),H=g(O),Q&&Q.l(O),ee=g(O),X&&X.l(O),y=g(O),k&&k.l(O),O.forEach(c),G.forEach(c),N.forEach(c),this.h()},h(){a(Z,"class","hstack gap-3 flex-wrap"),a(e,"scope","row"),a(e,"class",C=i[0].current?"table-active bg-success-subtle":"")},m(D,N){re(D,e,N),t(e,r),t(e,l),t(e,d),t(d,f),t(e,m),t(e,v),t(v,I),t(v,Y),z&&z.m(v,null),t(e,W),t(e,B),t(B,V),t(e,T),t(e,A),t(A,w),t(e,j),t(e,x),t(x,q),t(e,L),t(e,P),t(P,Z),U&&U.m(Z,null),t(Z,H),Q&&Q.m(Z,null),t(Z,ee),X&&X.m(Z,null),t(Z,y),k&&k.m(Z,null)},p(D,[N]){N&1&&h!==(h=D[0].id+"")&&he(f,h),N&1&&p!==(p=D[0].name+"")&&he(I,p),D[0].current?z||(z=Ea(),z.c(),z.m(v,null)):z&&(z.d(1),z=null),N&1&&S!==(S=D[0].from+"")&&he(V,S),N&1&&E!==(E=D[0].to+"")&&he(w,E),N&1&&ie!==(ie=D[0].academicDays+"")&&he(q,ie),J&&U.p(D,N),M&&Q.p(D,N),_&&X.p(D,N),D[0].current?k&&(k.d(1),k=null):k?k.p(D,N):(k=Da(D),k.c(),k.m(Z,null)),N&1&&C!==(C=D[0].current?"table-active bg-success-subtle":"")&&a(e,"class",C)},i:Ve,o:Ve,d(D){D&&c(e),z&&z.d(),U&&U.d(),Q&&Q.d(),X&&X.d(),k&&k.d()}}}function ps(){}function _s(i,e,r){let s,{year:l}=e,{yearStore:d}=yt("yearStore");at(i,d,f=>r(3,s=f));function h(){Pa(d,s=JSON.parse(JSON.stringify(l)),s)}return i.$$set=f=>{"year"in f&&r(0,l=f.year)},[l,d,h]}class bs extends Ge{constructor(e){super(),qe(this,e,_s,vs,ze,{year:0})}}function Ia(i,e,r){const s=i.slice();return s[2]=e[r],s}function wa(i){let e,r,s=ha(i[0]),l=[];for(let h=0;h<s.length;h+=1)l[h]=ka(Ia(i,s,h));const d=h=>Ce(l[h],1,1,()=>{l[h]=null});return{c(){e=n("tbody");for(let h=0;h<l.length;h+=1)l[h].c();this.h()},l(h){e=o(h,"TBODY",{class:!0});var f=u(e);for(let m=0;m<l.length;m+=1)l[m].l(f);f.forEach(c),this.h()},h(){a(e,"class","list")},m(h,f){re(h,e,f);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);r=!0},p(h,f){if(f&1){s=ha(h[0]);let m;for(m=0;m<s.length;m+=1){const v=Ia(h,s,m);l[m]?(l[m].p(v,f),Ee(l[m],1)):(l[m]=ka(v),l[m].c(),Ee(l[m],1),l[m].m(e,null))}for(Ma(),m=s.length;m<l.length;m+=1)d(m);Sa()}},i(h){if(!r){for(let f=0;f<s.length;f+=1)Ee(l[f]);r=!0}},o(h){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)Ce(l[f]);r=!1},d(h){h&&c(e),Oa(l,h)}}}function ka(i){let e,r;return e=new bs({props:{year:i[2]}}),{c(){Pe(e.$$.fragment)},l(s){$e(e.$$.fragment,s)},m(s,l){Oe(e,s,l),r=!0},p(s,l){const d={};l&1&&(d.year=s[2]),e.$set(d)},i(s){r||(Ee(e.$$.fragment,s),r=!0)},o(s){Ce(e.$$.fragment,s),r=!1},d(s){Be(e,s)}}}function Ta(i){let e,r='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=n("div"),e.innerHTML=r,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-2svhwp"&&(e.innerHTML=r),this.h()},h(){a(e,"class","text-center")},m(s,l){re(s,e,l)},d(s){s&&c(e)}}}function gs(i){var A,E,w,j,x,ie,q,L,P,Z,J,H;let e,r,s,l,d='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Name</th> <th scope="col">From</th> <th scope="col">To</th> <th scope="col">Academic Days</th> <th scope="col">Action</th></tr>',h,f,m,v,p,I,Y,W,B,S,V=(i[1]==null||((w=(E=(A=i[1])==null?void 0:A.from)==null?void 0:E.route)==null?void 0:w.id)!=((ie=(x=(j=i[1])==null?void 0:j.to)==null?void 0:x.route)==null?void 0:ie.id))&&wa(i);m=new ls({}),p=new cs({}),Y=new ns({});let T=((P=(L=(q=i[1])==null?void 0:q.from)==null?void 0:L.route)==null?void 0:P.id)==((H=(J=(Z=i[1])==null?void 0:Z.to)==null?void 0:J.route)==null?void 0:H.id)&&i[1]&&Ta();return{c(){e=n("div"),r=n("div"),s=n("table"),l=n("thead"),l.innerHTML=d,h=b(),V&&V.c(),f=b(),Pe(m.$$.fragment),v=b(),Pe(p.$$.fragment),I=b(),Pe(Y.$$.fragment),W=b(),T&&T.c(),B=_t(),this.h()},l(M){e=o(M,"DIV",{class:!0});var ee=u(e);r=o(ee,"DIV",{class:!0});var _=u(r);s=o(_,"TABLE",{class:!0});var y=u(s);l=o(y,"THEAD",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-mhm9qb"&&(l.innerHTML=d),h=g(y),V&&V.l(y),y.forEach(c),f=g(_),$e(m.$$.fragment,_),v=g(_),$e(p.$$.fragment,_),I=g(_),$e(Y.$$.fragment,_),_.forEach(c),ee.forEach(c),W=g(M),T&&T.l(M),B=_t(),this.h()},h(){a(l,"class","table-light"),a(s,"class","table align-end table-nowrap mb-0 border-top"),a(r,"class","table-responsive"),a(e,"class","row pe-0")},m(M,ee){re(M,e,ee),t(e,r),t(r,s),t(s,l),t(s,h),V&&V.m(s,null),t(r,f),Oe(m,r,null),t(r,v),Oe(p,r,null),t(r,I),Oe(Y,r,null),re(M,W,ee),T&&T.m(M,ee),re(M,B,ee),S=!0},p(M,[ee]){var _,y,C,z,U,Q,X,k,D,N,ne,te;M[1]==null||((C=(y=(_=M[1])==null?void 0:_.from)==null?void 0:y.route)==null?void 0:C.id)!=((Q=(U=(z=M[1])==null?void 0:z.to)==null?void 0:U.route)==null?void 0:Q.id)?V?(V.p(M,ee),ee&2&&Ee(V,1)):(V=wa(M),V.c(),Ee(V,1),V.m(s,null)):V&&(Ma(),Ce(V,1,1,()=>{V=null}),Sa()),((D=(k=(X=M[1])==null?void 0:X.from)==null?void 0:k.route)==null?void 0:D.id)==((te=(ne=(N=M[1])==null?void 0:N.to)==null?void 0:ne.route)==null?void 0:te.id)&&M[1]?T||(T=Ta(),T.c(),T.m(B.parentNode,B)):T&&(T.d(1),T=null)},i(M){S||(Ee(V),Ee(m.$$.fragment,M),Ee(p.$$.fragment,M),Ee(Y.$$.fragment,M),S=!0)},o(M){Ce(V),Ce(m.$$.fragment,M),Ce(p.$$.fragment,M),Ce(Y.$$.fragment,M),S=!1},d(M){M&&(c(e),c(W),c(B)),V&&V.d(),Be(m),Be(p),Be(Y),T&&T.d(M)}}}function ys(i,e,r){let s;at(i,Wa,d=>r(1,s=d));let{yearsList:l}=e;return $a("yearStore",{yearStore:Ka({})}),i.$$set=d=>{"yearsList"in d&&r(0,l=d.yearsList)},[l,s]}class Es extends Ge{constructor(e){super(),qe(this,e,ys,gs,ze,{yearsList:0})}}function Ca(i){let e,r='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=n("div"),e.innerHTML=r,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-dxv6g9"&&(e.innerHTML=r),this.h()},h(){a(e,"class","text-center")},m(s,l){re(s,e,l)},d(s){s&&c(e)}}}function Va(i){let e,r=i[6].name[0]+"",s;return{c(){e=n("strong"),s=ae(r),this.h()},l(l){e=o(l,"STRONG",{class:!0});var d=u(e);s=se(d,r),d.forEach(c),this.h()},h(){a(e,"class","text-danger ms-1 my-2")},m(l,d){re(l,e,d),t(e,s)},p(l,d){d&64&&r!==(r=l[6].name[0]+"")&&he(s,r)},d(l){l&&c(e)}}}function xa(i){let e,r=i[6].from[0]+"",s;return{c(){e=n("strong"),s=ae(r),this.h()},l(l){e=o(l,"STRONG",{class:!0});var d=u(e);s=se(d,r),d.forEach(c),this.h()},h(){a(e,"class","text-danger ms-1 my-2")},m(l,d){re(l,e,d),t(e,s)},p(l,d){d&64&&r!==(r=l[6].from[0]+"")&&he(s,r)},d(l){l&&c(e)}}}function La(i){let e,r=i[6].to[0]+"",s;return{c(){e=n("strong"),s=ae(r),this.h()},l(l){e=o(l,"STRONG",{class:!0});var d=u(e);s=se(d,r),d.forEach(c),this.h()},h(){a(e,"class","text-danger ms-1 my-2")},m(l,d){re(l,e,d),t(e,s)},p(l,d){d&64&&r!==(r=l[6].to[0]+"")&&he(s,r)},d(l){l&&c(e)}}}function Ds(i){var De,Me,xe;let e,r,s,l,d='<h5 class="modal-title" id="exampleModalgridLabel">Add Year</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',h,f,m,v,p,I,Y,W="Year Name",B,S,V,T,A,E,w="From",j,x,ie,q,L,P,Z="To",J,H,M,ee,_,y,C,z,U,Q="Current Year",X,k,D,N="Close",ne,te,me,ve,R=i[7]&&Ca(),G=((De=i[6])==null?void 0:De.name)&&Va(i),O=((Me=i[6])==null?void 0:Me.from)&&xa(i),F=((xe=i[6])==null?void 0:xe.to)&&La(i);return{c(){e=n("div"),r=n("div"),s=n("div"),l=n("div"),l.innerHTML=d,h=b(),f=n("div"),R&&R.c(),m=b(),v=n("form"),p=n("div"),I=n("div"),Y=n("label"),Y.textContent=W,B=b(),S=n("input"),V=b(),G&&G.c(),T=b(),A=n("div"),E=n("label"),E.textContent=w,j=b(),x=n("input"),ie=b(),O&&O.c(),q=b(),L=n("div"),P=n("label"),P.textContent=Z,J=b(),H=n("input"),M=b(),F&&F.c(),ee=b(),_=n("div"),y=n("div"),C=n("input"),z=b(),U=n("label"),U.textContent=Q,X=b(),k=n("div"),D=n("button"),D.textContent=N,ne=b(),te=n("input"),this.h()},l($){e=o($,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var le=u(e);r=o(le,"DIV",{class:!0});var ge=u(r);s=o(ge,"DIV",{class:!0});var ce=u(s);l=o(ce,"DIV",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-1wcxwyp"&&(l.innerHTML=d),h=g(ce),f=o(ce,"DIV",{class:!0});var oe=u(f);R&&R.l(oe),m=g(oe),v=o(oe,"FORM",{});var ke=u(v);p=o(ke,"DIV",{class:!0});var de=u(p);I=o(de,"DIV",{});var pe=u(I);Y=o(pe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(Y)!=="svelte-1vopz8w"&&(Y.textContent=W),B=g(pe),S=o(pe,"INPUT",{type:!0,class:!0,id:!0,name:!0,placeholder:!0}),V=g(pe),G&&G.l(pe),pe.forEach(c),T=g(de),A=o(de,"DIV",{class:!0});var ue=u(A);E=o(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(E)!=="svelte-131zvm2"&&(E.textContent=w),j=g(ue),x=o(ue,"INPUT",{type:!0,name:!0,class:!0,"data-provider":!0,"data-date-format":!0,id:!0}),ie=g(ue),O&&O.l(ue),ue.forEach(c),q=g(de),L=o(de,"DIV",{class:!0});var fe=u(L);P=o(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(P)!=="svelte-10t43u0"&&(P.textContent=Z),J=g(fe),H=o(fe,"INPUT",{type:!0,name:!0,class:!0,"data-provider":!0,"data-date-format":!0,id:!0}),M=g(fe),F&&F.l(fe),fe.forEach(c),ee=g(de),_=o(de,"DIV",{});var Se=u(_);y=o(Se,"DIV",{class:!0});var _e=u(y);C=o(_e,"INPUT",{class:!0,name:!0,type:!0,role:!0,id:!0}),z=g(_e),U=o(_e,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(U)!=="svelte-u2kjjs"&&(U.textContent=Q),_e.forEach(c),Se.forEach(c),X=g(de),k=o(de,"DIV",{class:!0});var ye=u(k);D=o(ye,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),K(D)!=="svelte-1h5uvws"&&(D.textContent=N),ne=g(ye),te=o(ye,"INPUT",{type:!0,class:!0}),ye.forEach(c),de.forEach(c),ke.forEach(c),oe.forEach(c),ce.forEach(c),ge.forEach(c),le.forEach(c),this.h()},h(){a(l,"class","modal-header"),a(Y,"for","yearName"),a(Y,"class","form-label"),a(S,"type","text"),a(S,"class","form-control"),a(S,"id","yearName"),a(S,"name","name"),a(S,"placeholder","Enter Year name"),a(E,"for","from"),a(E,"class","form-label"),a(x,"type","text"),a(x,"name","from"),a(x,"class","form-control"),a(x,"data-provider","flatpickr"),a(x,"data-date-format","Y-m-d"),a(x,"id","from"),a(A,"class","col-xxl-6"),a(P,"for","to"),a(P,"class","form-label"),a(H,"type","text"),a(H,"name","to"),a(H,"class","form-control"),a(H,"data-provider","flatpickr"),a(H,"data-date-format","Y-m-d"),a(H,"id","to"),a(L,"class","col-xxl-6"),a(C,"class","form-check-input"),a(C,"name","current"),a(C,"type","checkbox"),a(C,"role","switch"),a(C,"id","currentCheck"),a(U,"class","form-check-label"),a(U,"for","currentCheck"),a(y,"class","form-switch form-switch-success"),a(D,"type","button"),a(D,"class","btn btn-light fw-light"),a(D,"data-bs-dismiss","modal"),a(te,"type","submit"),a(te,"class","btn btn-primary waves-effect waves-light"),te.value="Save",a(k,"class","hstack gap-2 justify-content-end"),a(p,"class","row g-3"),je(v,"d-none",i[7]),a(f,"class","modal-body"),a(s,"class","modal-content"),a(r,"class","modal-dialog modal-dialog-centered"),a(e,"class","modal fade"),a(e,"id","addYearModal"),a(e,"tabindex","-1"),a(e,"aria-labelledby","exampleModalgridLabel"),a(e,"aria-modal","true")},m($,le){re($,e,le),t(e,r),t(r,s),t(s,l),t(s,h),t(s,f),R&&R.m(f,null),t(f,m),t(f,v),t(v,p),t(p,I),t(I,Y),t(I,B),t(I,S),pt(S,i[0]),t(I,V),G&&G.m(I,null),t(p,T),t(p,A),t(A,E),t(A,j),t(A,x),i[12](x),t(A,ie),O&&O.m(A,null),t(p,q),t(p,L),t(L,P),t(L,J),t(L,H),i[13](H),t(L,M),F&&F.m(L,null),t(p,ee),t(p,_),t(_,y),t(y,C),C.checked=i[5],t(y,z),t(y,U),t(p,X),t(p,k),t(k,D),i[15](D),t(k,ne),t(k,te),i[16](v),me||(ve=[we(S,"input",i[11]),we(C,"change",i[14]),we(v,"submit",Pt(i[8])),we(e,"hidden.bs.modal",i[9])],me=!0)},p($,[le]){var ge,ce,oe;$[7]?R||(R=Ca(),R.c(),R.m(f,m)):R&&(R.d(1),R=null),le&1&&S.value!==$[0]&&pt(S,$[0]),(ge=$[6])!=null&&ge.name?G?G.p($,le):(G=Va($),G.c(),G.m(I,null)):G&&(G.d(1),G=null),(ce=$[6])!=null&&ce.from?O?O.p($,le):(O=xa($),O.c(),O.m(A,null)):O&&(O.d(1),O=null),(oe=$[6])!=null&&oe.to?F?F.p($,le):(F=La($),F.c(),F.m(L,null)):F&&(F.d(1),F=null),le&32&&(C.checked=$[5]),le&128&&je(v,"d-none",$[7])},i:Ve,o:Ve,d($){$&&c(e),R&&R.d(),G&&G.d(),i[12](null),O&&O.d(),i[13](null),F&&F.d(),i[15](null),i[16](null),me=!1,$t(ve)}}}function Is(i,e,r){let s,l,d,h,f,{schoolId:m}=e,v=!1,p,I=!1;async function Y(){r(7,I=!0),r(6,p={});let w=new FormData(d);w.set("current",+v);let j=await fetch(ja(m),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:w});if(gt(j),j=await j.json(),r(7,I=!1),j.status=="success"){l.click();let x=`Added ${s} as a new year`;Ot(x,"success"),Bt("years:refresh"),W()}else r(6,p=j.errors)}function W(){bt(h,Date.now()),bt(f,Date.now()),d.reset(),r(6,p={})}function B(){s=this.value,r(0,s)}function S(w){Le[w?"unshift":"push"](()=>{h=w,r(3,h)})}function V(w){Le[w?"unshift":"push"](()=>{f=w,r(4,f)})}function T(){v=this.checked,r(5,v)}function A(w){Le[w?"unshift":"push"](()=>{l=w,r(1,l)})}function E(w){Le[w?"unshift":"push"](()=>{d=w,r(2,d)})}return i.$$set=w=>{"schoolId"in w&&r(10,m=w.schoolId)},[s,l,d,h,f,v,p,I,Y,W,m,B,S,V,T,A,E]}class ws extends Ge{constructor(e){super(),qe(this,e,Is,Ds,ze,{schoolId:10})}}function ks(i){let e,r='<i class="ri-add-line align-bottom me-1"></i>Add Academic Year',s,l,d;return l=new ws({props:{schoolId:i[2].id}}),{c(){e=n("button"),e.innerHTML=r,s=b(),Pe(l.$$.fragment),this.h()},l(h){e=o(h,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),K(e)!=="svelte-reix6q"&&(e.innerHTML=r),s=g(h),$e(l.$$.fragment,h),this.h()},h(){a(e,"type","button"),a(e,"data-bs-toggle","modal"),a(e,"data-bs-target","#addYearModal"),a(e,"class","btn btn-primary waves-effect waves-light")},m(h,f){re(h,e,f),re(h,s,f),Oe(l,h,f),d=!0},p(h,f){const m={};f&4&&(m.schoolId=h[2].id),l.$set(m)},i(h){d||(Ee(l.$$.fragment,h),d=!0)},o(h){Ce(l.$$.fragment,h),d=!1},d(h){h&&(c(e),c(s)),Be(l,h)}}}function Ts(i){let e,r,s,l,d,h,f,m,v,p,I,Y=i[2].name+"",W,B,S,V,T,A=JSON.parse(sessionStorage.getItem("permissions")).includes("academicYears.store"),E,w,j,x,ie,q,L,P,Z,J,H=A&&ks(i);x=new Ja({props:{type:"Year"}}),q=new Es({props:{yearsList:i[3]}});const M=[i[1]];let ee={};for(let _=0;_<M.length;_+=1)ee=Ba(ee,M[_]);return P=new qa({props:ee}),{c(){e=n("div"),r=n("div"),s=n("div"),l=n("div"),d=n("div"),h=n("div"),f=n("img"),v=b(),p=n("h4"),I=n("span"),W=ae(Y),B=ae("'s"),S=ae(" Academic Years Management"),V=b(),T=n("div"),H&&H.c(),E=b(),w=n("div"),j=n("div"),Pe(x.$$.fragment),ie=b(),Pe(q.$$.fragment),L=b(),Pe(P.$$.fragment),this.h()},l(_){e=o(_,"DIV",{class:!0});var y=u(e);r=o(y,"DIV",{class:!0});var C=u(r);s=o(C,"DIV",{class:!0});var z=u(s);l=o(z,"DIV",{class:!0});var U=u(l);d=o(U,"DIV",{class:!0});var Q=u(d);h=o(Q,"DIV",{class:!0});var X=u(h);f=o(X,"IMG",{src:!0,alt:!0,class:!0}),X.forEach(c),v=g(Q),p=o(Q,"H4",{class:!0});var k=u(p);I=o(k,"SPAN",{class:!0});var D=u(I);W=se(D,Y),B=se(D,"'s"),D.forEach(c),S=se(k," Academic Years Management"),k.forEach(c),Q.forEach(c),V=g(U),T=o(U,"DIV",{class:!0});var N=u(T);H&&H.l(N),N.forEach(c),U.forEach(c),E=g(z),w=o(z,"DIV",{class:!0});var ne=u(w);j=o(ne,"DIV",{class:!0});var te=u(j);$e(x.$$.fragment,te),ie=g(te),$e(q.$$.fragment,te),L=g(te),$e(P.$$.fragment,te),te.forEach(c),ne.forEach(c),z.forEach(c),C.forEach(c),y.forEach(c),this.h()},h(){jt(f.src,m=i[2].logo.full_path)||a(f,"src",m),a(f,"alt",""),a(f,"class","avatar-xs rounded-circle"),a(h,"class","flex-shrink-0"),a(I,"class","text-primary"),a(p,"class","card-title mb-0 flex-grow-1"),a(d,"class","d-flex gap-2 align-items-center flex-grow-1"),a(T,"class","flex-shrink-0"),a(l,"class","card-header align-items-center d-flex"),a(j,"class","row"),a(w,"class","card-body"),a(s,"class","card"),a(r,"class","col-lg-12"),a(e,"class","row")},m(_,y){re(_,e,y),t(e,r),t(r,s),t(s,l),t(l,d),t(d,h),t(h,f),t(d,v),t(d,p),t(p,I),t(I,W),t(I,B),t(p,S),t(l,V),t(l,T),H&&H.m(T,null),t(s,E),t(s,w),t(w,j),Oe(x,j,null),t(j,ie),Oe(q,j,null),t(j,L),Oe(P,j,null),i[5](e),J=!0},p(_,[y]){(!J||y&4&&!jt(f.src,m=_[2].logo.full_path))&&a(f,"src",m),(!J||y&4)&&Y!==(Y=_[2].name+"")&&he(W,Y),A&&H.p(_,y);const C={};y&8&&(C.yearsList=_[3]),q.$set(C);const z=y&2?za(M,[Ga(_[1])]):{};P.$set(z)},i(_){J||(Ee(H),Ee(x.$$.fragment,_),Ee(q.$$.fragment,_),Ee(P.$$.fragment,_),_&&(Z||Ua(()=>{Z=Fa(e,Xa,{duration:200}),Z.start()})),J=!0)},o(_){Ce(H),Ce(x.$$.fragment,_),Ce(q.$$.fragment,_),Ce(P.$$.fragment,_),J=!1},d(_){_&&c(e),H&&H.d(),Be(x),Be(q),Be(P),i[5](null)}}}function Cs(i,e,r){let s,l,d,{data:h}=e,f;Ra(()=>{Za(f),Qa()});function m(v){Le[v?"unshift":"push"](()=>{f=v,r(0,f)})}return i.$$set=v=>{"data"in v&&r(4,h=v.data)},i.$$.update=()=>{i.$$.dirty&16&&r(3,s=h.academicYearsResponse.data.academicYears),i.$$.dirty&16&&r(2,l=h.academicYearsResponse.data.school),i.$$.dirty&16&&r(1,d=h.academicYearsResponse.pagination)},[f,d,l,s,h,m]}class Fs extends Ge{constructor(e){super(),qe(this,e,Cs,Ts,ze,{data:4})}}export{Fs as component,Rs as universal};
