import{q as qt,D as Mt,s as bt,t as St}from"../chunks/paths.29c5142d.js";import{a as Be}from"../chunks/auth.82ff8344.js";import{s as ye,a as L,f as p,c as C,g as v,h as w,d as m,B as pe,i as P,P as Et,o as We,l as te,m as le,z as se,j as i,E as ve,C as d,F as be,n as de,R as Le,D as Fe,p as De,S as Je,Q as It,G as kt,A as Me,T as yt,y as wt,I as Lt,X as Ze,H as Ct,J as Ht,e as Re}from"../chunks/scheduler.726ac76d.js";import{S as Ce,i as He,g as Ue,t as G,c as Ye,a as F,b as re,d as ne,m as ie,e as oe,h as ze,f as At}from"../chunks/index.8a5ed380.js";import{e as $e,u as Nt,o as Pt}from"../chunks/each.381f634d.js";import{g as Ae,a as Ne}from"../chunks/spread.8a54911c.js";import{P as Dt}from"../chunks/Pagination.0a529dad.js";import{S as Tt}from"../chunks/SearchTable.1c079677.js";import{V as Qt,E as Ot,D as jt,Q as Bt}from"../chunks/QueueStudentsTable.da80059b.js";import{t as $t}from"../chunks/toast.aca1940a.js";import{i as Ge,a as Rt}from"../chunks/utils.5f096ebf.js";import{l as xe,I as Gt}from"../chunks/initFlatpickr.06386e0f.js";import"../chunks/paths.7846b4ff.js";import{M as Xe,a as Ke}from"../chunks/ModalPagination.ba1b79f6.js";import{A as Vt}from"../chunks/Accordion.adfb252c.js";import{f as Ft}from"../chunks/index.955fed47.js";import{w as Jt}from"../chunks/singletons.df66ea99.js";import{i as Ut}from"../chunks/initToolTip.b2308c6a.js";import{n as Yt}from"../chunks/stores.1008b3f8.js";import{E as zt}from"../chunks/ExitQueueStudent.51973554.js";const Xt=!1;async function Kt({fetch:r,url:e,depends:l,params:t}){l("queueStudents:refresh");let a=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.index.simplified"),o=await r(qt(t.queueId,Mt(e),a),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return Be(o),{queueStudentsResponse:await o.json(),tabTitle:"Students' Queue"}}const Xl=Object.freeze(Object.defineProperty({__proto__:null,load:Kt,ssr:Xt},Symbol.toStringTag,{value:"Module"}));function et(r,e,l){const t=r.slice();return t[21]=e[l],t}function tt(r,e,l){const t=r.slice();return t[21]=e[l],t}function lt(r){let e,l,t,a,o,s,u,c,h=r[0].id+"",S,f,E,g,_,D,$,n,b,q=r[0].fullname+"",k,M,T,j,I,V='<i class="ri-close-line"></i>',A,N;return{c(){e=p("label"),l=te(r[2]),t=L(),a=p("div"),o=p("table"),s=p("tbody"),u=p("tr"),c=p("th"),S=te(h),f=L(),E=p("th"),g=p("div"),_=p("div"),D=p("img"),n=L(),b=p("div"),k=te(q),M=L(),T=p("th"),j=p("div"),I=p("a"),I.innerHTML=V,this.h()},l(y){e=v(y,"LABEL",{for:!0,class:!0});var O=w(e);l=le(O,r[2]),O.forEach(m),t=C(y),a=v(y,"DIV",{class:!0});var z=w(a);o=v(z,"TABLE",{class:!0});var R=w(o);s=v(R,"TBODY",{class:!0});var Q=w(s);u=v(Q,"TR",{class:!0});var B=w(u);c=v(B,"TH",{});var ae=w(c);S=le(ae,h),ae.forEach(m),f=C(B),E=v(B,"TH",{});var U=w(E);g=v(U,"DIV",{class:!0});var X=w(g);_=v(X,"DIV",{class:!0});var K=w(_);D=v(K,"IMG",{src:!0,alt:!0,class:!0}),K.forEach(m),n=C(X),b=v(X,"DIV",{class:!0});var ue=w(b);k=le(ue,q),ue.forEach(m),X.forEach(m),U.forEach(m),M=C(B),T=v(B,"TH",{scope:!0});var ce=w(T);j=v(ce,"DIV",{class:!0});var Y=w(j);I=v(Y,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),se(I)!=="svelte-1b3cw3w"&&(I.innerHTML=V),Y.forEach(m),ce.forEach(m),B.forEach(m),Q.forEach(m),R.forEach(m),z.forEach(m),this.h()},h(){i(e,"for","productarName"),i(e,"class","form-label"),ve(D.src,$=r[0].image.full_path)||i(D,"src",$),i(D,"alt",""),i(D,"class","avatar-xs rounded-circle"),i(_,"class","flex-shrink-0"),i(b,"class","flex-grow-1"),i(g,"class","d-flex gap-2 align-items-center"),i(I,"href","javascript:void(0);"),i(I,"class","fs-15"),i(I,"data-bs-toggle","tooltip"),i(I,"data-bs-original-title","Select"),i(j,"class","hstack gap-3 flex-wrap"),i(T,"scope","col"),i(u,"class","bg-secondary-subtle"),i(s,"class","list align-middle"),i(o,"class","table align-middle table-nowrap mb-0 border-top"),i(a,"class","table-responsive mt-0")},m(y,O){P(y,e,O),d(e,l),P(y,t,O),P(y,a,O),d(a,o),d(o,s),d(s,u),d(u,c),d(c,S),d(u,f),d(u,E),d(E,g),d(g,_),d(_,D),d(g,n),d(g,b),d(b,k),d(u,M),d(u,T),d(T,j),d(j,I),A||(N=be(I,"click",r[7]),A=!0)},p(y,O){O&4&&de(l,y[2]),O&1&&h!==(h=y[0].id+"")&&de(S,h),O&1&&!ve(D.src,$=y[0].image.full_path)&&i(D,"src",$),O&1&&q!==(q=y[0].fullname+"")&&de(k,q)},d(y){y&&(m(e),m(t),m(a)),A=!1,N()}}}function Wt(r){let e,l,t,a,o,s,u='<tr scope="row"><td scope="col">ID</td> <td scope="col">Full Name</td> <td scope="col">Action</td></tr>',c,h,S,f,E;e=new Xe({props:{type:"Student"}}),e.$on("search",r[8]);let g=$e(r[3]),_=[];for(let n=0;n<g.length;n+=1)_[n]=st(et(r,g,n));const D=[r[4]];let $={};for(let n=0;n<D.length;n+=1)$=Le($,D[n]);return f=new Ke({props:$}),f.$on("switchPage",r[9]),{c(){re(e.$$.fragment),l=L(),t=p("div"),a=p("div"),o=p("table"),s=p("thead"),s.innerHTML=u,c=L(),h=p("tbody");for(let n=0;n<_.length;n+=1)_[n].c();S=L(),re(f.$$.fragment),this.h()},l(n){ne(e.$$.fragment,n),l=C(n),t=v(n,"DIV",{class:!0});var b=w(t);a=v(b,"DIV",{class:!0});var q=w(a);o=v(q,"TABLE",{class:!0});var k=w(o);s=v(k,"THEAD",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-doigdf"&&(s.innerHTML=u),c=C(k),h=v(k,"TBODY",{class:!0});var M=w(h);for(let T=0;T<_.length;T+=1)_[T].l(M);M.forEach(m),k.forEach(m),q.forEach(m),b.forEach(m),S=C(n),ne(f.$$.fragment,n),this.h()},h(){i(s,"class","table-light"),i(h,"class","list"),i(o,"class","table align-middle table-nowrap mb-0 border-top"),i(a,"class","table-responsive"),i(t,"class","row pe-0")},m(n,b){ie(e,n,b),P(n,l,b),P(n,t,b),d(t,a),d(a,o),d(o,s),d(o,c),d(o,h);for(let q=0;q<_.length;q+=1)_[q]&&_[q].m(h,null);P(n,S,b),ie(f,n,b),E=!0},p(n,b){if(b&73){g=$e(n[3]);let k;for(k=0;k<g.length;k+=1){const M=et(n,g,k);_[k]?_[k].p(M,b):(_[k]=st(M),_[k].c(),_[k].m(h,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=g.length}const q=b&16?Ae(D,[Ne(n[4])]):{};f.$set(q)},i(n){E||(F(e.$$.fragment,n),F(f.$$.fragment,n),E=!0)},o(n){G(e.$$.fragment,n),G(f.$$.fragment,n),E=!1},d(n){n&&(m(l),m(t),m(S)),oe(e,n),Fe(_,n),oe(f,n)}}}function Zt(r){let e,l,t;function a(s){r[15](s)}let o={id:"student",title:r[2],$$slots:{default:[xt]},$$scope:{ctx:r}};return r[5]!==void 0&&(o.openCollapse=r[5]),e=new Vt({props:o}),De.push(()=>ze(e,"openCollapse",a)),{c(){re(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,u){ie(e,s,u),t=!0},p(s,u){const c={};u&4&&(c.title=s[2]),u&67108889&&(c.$$scope={dirty:u,ctx:s}),!l&&u&32&&(l=!0,c.openCollapse=s[5],Je(()=>l=!1)),e.$set(c)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function st(r){let e,l,t=r[21].id+"",a,o,s,u,c,h,S,f,E,g=r[21].fullname+"",_,D,$,n,b,q='<i class="ri-check-line"></i>',k,M,T;function j(){return r[16](r[21])}return{c(){e=p("tr"),l=p("td"),a=te(t),o=L(),s=p("td"),u=p("div"),c=p("div"),h=p("img"),f=L(),E=p("div"),_=te(g),D=L(),$=p("td"),n=p("div"),b=p("a"),b.innerHTML=q,k=L(),this.h()},l(I){e=v(I,"TR",{scope:!0});var V=w(e);l=v(V,"TD",{});var A=w(l);a=le(A,t),A.forEach(m),o=C(V),s=v(V,"TD",{});var N=w(s);u=v(N,"DIV",{class:!0});var y=w(u);c=v(y,"DIV",{class:!0});var O=w(c);h=v(O,"IMG",{src:!0,alt:!0,class:!0}),O.forEach(m),f=C(y),E=v(y,"DIV",{class:!0});var z=w(E);_=le(z,g),z.forEach(m),y.forEach(m),N.forEach(m),D=C(V),$=v(V,"TD",{});var R=w($);n=v(R,"DIV",{class:!0});var Q=w(n);b=v(Q,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),se(b)!=="svelte-f140kx"&&(b.innerHTML=q),Q.forEach(m),R.forEach(m),k=C(V),V.forEach(m),this.h()},h(){var I;ve(h.src,S=r[21].image.full_path)||i(h,"src",S),i(h,"alt",""),i(h,"class","avatar-xs rounded-circle"),i(c,"class","flex-shrink-0"),i(E,"class","flex-grow-1"),i(u,"class","d-flex gap-2 align-items-center"),i(b,"href","javascript:void(0);"),i(b,"class","fs-15"),i(b,"data-bs-toggle","tooltip"),i(b,"data-bs-original-title","Select"),i(n,"class","hstack gap-3 flex-wrap"),i(e,"scope","row"),pe(e,"bg-secondary-subtle",r[21].id==((I=r[0])==null?void 0:I.id))},m(I,V){P(I,e,V),d(e,l),d(l,a),d(e,o),d(e,s),d(s,u),d(u,c),d(c,h),d(u,f),d(u,E),d(E,_),d(e,D),d(e,$),d($,n),d(n,b),d(e,k),M||(T=be(b,"click",j),M=!0)},p(I,V){var A;r=I,V&8&&t!==(t=r[21].id+"")&&de(a,t),V&8&&!ve(h.src,S=r[21].image.full_path)&&i(h,"src",S),V&8&&g!==(g=r[21].fullname+"")&&de(_,g),V&9&&pe(e,"bg-secondary-subtle",r[21].id==((A=r[0])==null?void 0:A.id))},d(I){I&&m(e),M=!1,T()}}}function at(r){let e,l,t=r[21].id+"",a,o,s,u,c,h,S,f,E,g=r[21].fullname+"",_,D,$,n,b,q='<i class="ri-check-line"></i>',k,M,T;function j(){return r[14](r[21])}return{c(){e=p("tr"),l=p("td"),a=te(t),o=L(),s=p("td"),u=p("div"),c=p("div"),h=p("img"),f=L(),E=p("div"),_=te(g),D=L(),$=p("td"),n=p("div"),b=p("a"),b.innerHTML=q,k=L(),this.h()},l(I){e=v(I,"TR",{scope:!0});var V=w(e);l=v(V,"TD",{});var A=w(l);a=le(A,t),A.forEach(m),o=C(V),s=v(V,"TD",{});var N=w(s);u=v(N,"DIV",{class:!0});var y=w(u);c=v(y,"DIV",{class:!0});var O=w(c);h=v(O,"IMG",{src:!0,alt:!0,class:!0}),O.forEach(m),f=C(y),E=v(y,"DIV",{class:!0});var z=w(E);_=le(z,g),z.forEach(m),y.forEach(m),N.forEach(m),D=C(V),$=v(V,"TD",{});var R=w($);n=v(R,"DIV",{class:!0});var Q=w(n);b=v(Q,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),se(b)!=="svelte-f140kx"&&(b.innerHTML=q),Q.forEach(m),R.forEach(m),k=C(V),V.forEach(m),this.h()},h(){var I;ve(h.src,S=r[21].image.full_path)||i(h,"src",S),i(h,"alt",""),i(h,"class","avatar-xs rounded-circle"),i(c,"class","flex-shrink-0"),i(E,"class","flex-grow-1"),i(u,"class","d-flex gap-2 align-items-center"),i(b,"href","javascript:void(0);"),i(b,"class","fs-15"),i(b,"data-bs-toggle","tooltip"),i(b,"data-bs-original-title","Select"),i(n,"class","hstack gap-3 flex-wrap"),i(e,"scope","row"),pe(e,"bg-secondary-subtle",r[21].id==((I=r[0])==null?void 0:I.id))},m(I,V){P(I,e,V),d(e,l),d(l,a),d(e,o),d(e,s),d(s,u),d(u,c),d(c,h),d(u,f),d(u,E),d(E,_),d(e,D),d(e,$),d($,n),d(n,b),d(e,k),M||(T=be(b,"click",j),M=!0)},p(I,V){var A;r=I,V&8&&t!==(t=r[21].id+"")&&de(a,t),V&8&&!ve(h.src,S=r[21].image.full_path)&&i(h,"src",S),V&8&&g!==(g=r[21].fullname+"")&&de(_,g),V&9&&pe(e,"bg-secondary-subtle",r[21].id==((A=r[0])==null?void 0:A.id))},d(I){I&&m(e),M=!1,T()}}}function xt(r){let e,l,t,a,o,s,u='<tr scope="row"><td scope="col">ID</td> <td scope="col">Full Name</td> <td scope="col">Action</td></tr>',c,h,S,f,E;e=new Xe({props:{type:"Student"}}),e.$on("search",r[8]);let g=$e(r[3]),_=[];for(let n=0;n<g.length;n+=1)_[n]=at(tt(r,g,n));const D=[r[4]];let $={};for(let n=0;n<D.length;n+=1)$=Le($,D[n]);return f=new Ke({props:$}),f.$on("switchPage",r[9]),{c(){re(e.$$.fragment),l=L(),t=p("div"),a=p("div"),o=p("table"),s=p("thead"),s.innerHTML=u,c=L(),h=p("tbody");for(let n=0;n<_.length;n+=1)_[n].c();S=L(),re(f.$$.fragment),this.h()},l(n){ne(e.$$.fragment,n),l=C(n),t=v(n,"DIV",{class:!0});var b=w(t);a=v(b,"DIV",{class:!0});var q=w(a);o=v(q,"TABLE",{class:!0});var k=w(o);s=v(k,"THEAD",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-q6ex5v"&&(s.innerHTML=u),c=C(k),h=v(k,"TBODY",{class:!0});var M=w(h);for(let T=0;T<_.length;T+=1)_[T].l(M);M.forEach(m),k.forEach(m),q.forEach(m),b.forEach(m),S=C(n),ne(f.$$.fragment,n),this.h()},h(){i(s,"class","table-light"),i(h,"class","list"),i(o,"class","table align-middle table-nowrap mb-0 border-top"),i(a,"class","table-responsive"),i(t,"class","row pe-0")},m(n,b){ie(e,n,b),P(n,l,b),P(n,t,b),d(t,a),d(a,o),d(o,s),d(o,c),d(o,h);for(let q=0;q<_.length;q+=1)_[q]&&_[q].m(h,null);P(n,S,b),ie(f,n,b),E=!0},p(n,b){if(b&73){g=$e(n[3]);let k;for(k=0;k<g.length;k+=1){const M=tt(n,g,k);_[k]?_[k].p(M,b):(_[k]=at(M),_[k].c(),_[k].m(h,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=g.length}const q=b&16?Ae(D,[Ne(n[4])]):{};f.$set(q)},i(n){E||(F(e.$$.fragment,n),F(f.$$.fragment,n),E=!0)},o(n){G(e.$$.fragment,n),G(f.$$.fragment,n),E=!1},d(n){n&&(m(l),m(t),m(S)),oe(e,n),Fe(_,n),oe(f,n)}}}function el(r){var S;let e,l,t,a,o,s=((S=r[0])==null?void 0:S.id)&&lt(r);const u=[Zt,Wt],c=[];function h(f,E){return f[1]?0:1}return t=h(r),a=c[t]=u[t](r),{c(){s&&s.c(),e=L(),l=p("div"),a.c(),this.h()},l(f){s&&s.l(f),e=C(f),l=v(f,"DIV",{});var E=w(l);a.l(E),E.forEach(m),this.h()},h(){var f;pe(l,"d-none",((f=r[0])==null?void 0:f.id)!=null)},m(f,E){s&&s.m(f,E),P(f,e,E),P(f,l,E),c[t].m(l,null),o=!0},p(f,[E]){var _,D;(_=f[0])!=null&&_.id?s?s.p(f,E):(s=lt(f),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let g=t;t=h(f),t===g?c[t].p(f,E):(Ue(),G(c[g],1,1,()=>{c[g]=null}),Ye(),a=c[t],a?a.p(f,E):(a=c[t]=u[t](f),a.c()),F(a,1),a.m(l,null)),(!o||E&1)&&pe(l,"d-none",((D=f[0])==null?void 0:D.id)!=null)},i(f){o||(F(a),o=!0)},o(f){G(a),o=!1},d(f){f&&(m(e),m(l)),s&&s.d(f),c[t].d()}}}function tl(r,e,l){const t=Et();let a=[],o,s=1,u="",{selected:c={}}=e,{collapse:h}=e,{title:S}=e,{subscribed:f}=e,{archived:E}=e,{schoolId:g}=e,_;async function D(){let I=await fetch(bt(g,{page:s,search:u},null,{subscribed:f,archived:E}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});Be(I);let V=await I.json();l(3,a=V.data.students),l(4,o=V.pagination)}We(()=>{D()});function $(I){l(0,c=I),t("select",{studentId:c.id})}function n(){l(0,c={}),t("select",{studentId:""}),_()}function b(I){s=1,u=I.detail.searchQuery,D()}function q(I){s=I.detail.page,D()}function k(){l(0,c={})}const M=I=>$(I);function T(I){_=I,l(5,_)}const j=I=>$(I);return r.$$set=I=>{"selected"in I&&l(0,c=I.selected),"collapse"in I&&l(1,h=I.collapse),"title"in I&&l(2,S=I.title),"subscribed"in I&&l(10,f=I.subscribed),"archived"in I&&l(11,E=I.archived),"schoolId"in I&&l(12,g=I.schoolId)},[c,h,S,a,o,_,$,n,b,q,f,E,g,k,M,T,j]}class ll extends Ce{constructor(e){super(),He(this,e,tl,el,ye,{selected:0,collapse:1,title:2,subscribed:10,archived:11,schoolId:12,resetStudent:13})}get resetStudent(){return this.$$.ctx[13]}}function rt(r){let e,l='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=p("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1eqlld5"&&(e.innerHTML=l),this.h()},h(){i(e,"class","text-center")},m(t,a){P(t,e,a)},d(t){t&&m(e)}}}function nt(r){let e,l=r[3].student_id[0]+"",t;return{c(){e=p("strong"),t=te(l),this.h()},l(a){e=v(a,"STRONG",{class:!0});var o=w(e);t=le(o,l),o.forEach(m),this.h()},h(){i(e,"class","text-danger ms-1 my-2")},m(a,o){P(a,e,o),d(e,t)},p(a,o){o&8&&l!==(l=a[3].student_id[0]+"")&&de(t,l)},d(a){a&&m(e)}}}function it(r){let e,l=r[3].started_at[0]+"",t;return{c(){e=p("strong"),t=te(l),this.h()},l(a){e=v(a,"STRONG",{class:!0});var o=w(e);t=le(o,l),o.forEach(m),this.h()},h(){i(e,"class","text-danger ms-1 my-2")},m(a,o){P(a,e,o),d(e,t)},p(a,o){o&8&&l!==(l=a[3].started_at[0]+"")&&de(t,l)},d(a){a&&m(e)}}}function ot(r){var h;let e,l,t,a="Exited At",o,s,u,c=((h=r[3])==null?void 0:h.exited_at)&&dt(r);return{c(){e=p("div"),l=p("div"),t=p("label"),t.textContent=a,o=L(),s=p("input"),u=L(),c&&c.c(),this.h()},l(S){e=v(S,"DIV",{});var f=w(e);l=v(f,"DIV",{});var E=w(l);t=v(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),se(t)!=="svelte-q2n55n"&&(t.textContent=a),o=C(E),s=v(E,"INPUT",{type:!0,name:!0,class:!0,"data-provider":!0,"data-date-format":!0,"data-enable-time":!0,id:!0}),u=C(E),c&&c.l(E),E.forEach(m),f.forEach(m),this.h()},h(){i(t,"for","firstName"),i(t,"class","form-label"),i(s,"type","text"),i(s,"name","exited_at"),i(s,"class","form-control"),i(s,"data-provider","flatpickr"),i(s,"data-date-format","Y-m-d"),i(s,"data-enable-time",""),i(s,"id","from")},m(S,f){P(S,e,f),d(e,l),d(l,t),d(l,o),d(l,s),r[16](s),d(l,u),c&&c.m(l,null)},p(S,f){var E;(E=S[3])!=null&&E.exited_at?c?c.p(S,f):(c=dt(S),c.c(),c.m(l,null)):c&&(c.d(1),c=null)},d(S){S&&m(e),r[16](null),c&&c.d()}}}function dt(r){let e,l=r[3].exited_at[0]+"",t;return{c(){e=p("strong"),t=te(l),this.h()},l(a){e=v(a,"STRONG",{class:!0});var o=w(e);t=le(o,l),o.forEach(m),this.h()},h(){i(e,"class","text-danger ms-1 my-2")},m(a,o){P(a,e,o),d(e,t)},p(a,o){o&8&&l!==(l=a[3].exited_at[0]+"")&&de(t,l)},d(a){a&&m(e)}}}function sl(r){var ge,Pe,Qe,Oe,je;let e,l,t,a,o='<h5 class="modal-title" id="exampleModalgridLabel">Add Student</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',s,u,c,h,S,f,E,g,_,D,$,n,b,q="Started At",k,M,T,j,I,V,A,N,y,O="exited",z,R,Q,B,ae="Close",U,X,K,ue,ce,Y=r[4]&&rt();function Te(W){r[12](W)}let ke={collapse:!0,title:"Students",subscribed:!0,archived:!1,schoolId:(Qe=(Pe=(ge=r[0])==null?void 0:ge.canteen)==null?void 0:Pe.school)==null?void 0:Qe.id};r[8]!==void 0&&(ke.resetStudent=r[8]),S=new ll({props:ke}),De.push(()=>ze(S,"resetStudent",Te)),S.$on("select",r[13]);let Z=((Oe=r[3])==null?void 0:Oe.student_id)&&nt(r),x=((je=r[3])==null?void 0:je.started_at)&&it(r),ee=r[7]&&ot(r);return{c(){e=p("div"),l=p("div"),t=p("div"),a=p("div"),a.innerHTML=o,s=L(),u=p("div"),Y&&Y.c(),c=L(),h=p("div"),re(S.$$.fragment),E=L(),Z&&Z.c(),g=L(),_=p("form"),D=p("div"),$=p("div"),n=p("div"),b=p("label"),b.textContent=q,k=L(),M=p("input"),T=L(),x&&x.c(),j=L(),I=p("div"),V=p("div"),A=p("input"),N=L(),y=p("label"),y.textContent=O,z=L(),ee&&ee.c(),R=L(),Q=p("div"),B=p("button"),B.textContent=ae,U=L(),X=p("input"),this.h()},l(W){e=v(W,"DIV",{class:!0,id:!0,tabindex:!0,"data-bs-focus":!0,"aria-labelledby":!0,"aria-modal":!0});var H=w(e);l=v(H,"DIV",{class:!0});var J=w(l);t=v(J,"DIV",{class:!0});var _e=w(t);a=v(_e,"DIV",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-4b19vr"&&(a.innerHTML=o),s=C(_e),u=v(_e,"DIV",{class:!0});var fe=w(u);Y&&Y.l(fe),c=C(fe),h=v(fe,"DIV",{class:!0});var he=w(h);ne(S.$$.fragment,he),E=C(he),Z&&Z.l(he),g=C(he),_=v(he,"FORM",{});var Se=w(_);D=v(Se,"DIV",{class:!0});var me=w(D);$=v(me,"DIV",{});var Ee=w($);n=v(Ee,"DIV",{});var Ie=w(n);b=v(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),se(b)!=="svelte-luor3v"&&(b.textContent=q),k=C(Ie),M=v(Ie,"INPUT",{type:!0,name:!0,class:!0,"data-provider":!0,"data-date-format":!0,"data-enable-time":!0,id:!0}),T=C(Ie),x&&x.l(Ie),Ie.forEach(m),Ee.forEach(m),j=C(me),I=v(me,"DIV",{class:!0});var qe=w(I);V=v(qe,"DIV",{class:!0});var we=w(V);A=v(we,"INPUT",{class:!0,type:!0,role:!0,id:!0}),N=C(we),y=v(we,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),se(y)!=="svelte-1fyp4e1"&&(y.textContent=O),we.forEach(m),qe.forEach(m),z=C(me),ee&&ee.l(me),R=C(me),Q=v(me,"DIV",{class:!0});var Ve=w(Q);B=v(Ve,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),se(B)!=="svelte-1h5uvws"&&(B.textContent=ae),U=C(Ve),X=v(Ve,"INPUT",{type:!0,class:!0}),Ve.forEach(m),me.forEach(m),Se.forEach(m),he.forEach(m),fe.forEach(m),_e.forEach(m),J.forEach(m),H.forEach(m),this.h()},h(){i(a,"class","modal-header"),i(b,"for","firstName"),i(b,"class","form-label"),i(M,"type","text"),i(M,"name","started_at"),i(M,"class","form-control"),i(M,"data-provider","flatpickr"),i(M,"data-date-format","Y-m-d"),i(M,"data-enable-time",""),i(M,"id","from"),i(A,"class","form-check-input"),i(A,"type","checkbox"),i(A,"role","switch"),i(A,"id","SwitchCheck1"),i(y,"class","form-check-label"),i(y,"for","SwitchCheck1"),i(V,"class","form-check form-switch col"),i(I,"class","row ps-3 g-3"),i(B,"type","button"),i(B,"class","btn btn-light fw-light"),i(B,"data-bs-dismiss","modal"),i(X,"type","submit"),i(X,"class","btn btn-primary waves-effect waves-light"),X.value="Save",i(Q,"class","hstack gap-2 justify-content-end"),i(D,"class","row g-3"),i(h,"class","row g-3"),pe(h,"d-none",r[4]),i(u,"class","modal-body"),i(t,"class","modal-content"),i(l,"class","modal-dialog modal-dialog-centered"),i(e,"class","modal fade"),i(e,"id","addQueueStudentModal"),i(e,"tabindex","-1"),i(e,"data-bs-focus","false"),i(e,"aria-labelledby","exampleModalgridLabel"),i(e,"aria-modal","true")},m(W,H){P(W,e,H),d(e,l),d(l,t),d(t,a),d(t,s),d(t,u),Y&&Y.m(u,null),d(u,c),d(u,h),ie(S,h,null),d(h,E),Z&&Z.m(h,null),d(h,g),d(h,_),d(_,D),d(D,$),d($,n),d(n,b),d(n,k),d(n,M),r[14](M),d(n,T),x&&x.m(n,null),d(D,j),d(D,I),d(I,V),d(V,A),A.checked=r[7],d(V,N),d(V,y),d(D,z),ee&&ee.m(D,null),d(D,R),d(D,Q),d(Q,B),r[17](B),d(Q,U),d(Q,X),r[18](_),K=!0,ue||(ce=[be(A,"change",r[15]),be(_,"submit",It(r[10])),be(e,"hidden.bs.modal",r[11])],ue=!0)},p(W,[H]){var _e,fe,he,Se,me;W[4]?Y||(Y=rt(),Y.c(),Y.m(u,c)):Y&&(Y.d(1),Y=null);const J={};H&1&&(J.schoolId=(he=(fe=(_e=W[0])==null?void 0:_e.canteen)==null?void 0:fe.school)==null?void 0:he.id),!f&&H&256&&(f=!0,J.resetStudent=W[8],Je(()=>f=!1)),S.$set(J),(Se=W[3])!=null&&Se.student_id?Z?Z.p(W,H):(Z=nt(W),Z.c(),Z.m(h,g)):Z&&(Z.d(1),Z=null),(me=W[3])!=null&&me.started_at?x?x.p(W,H):(x=it(W),x.c(),x.m(n,null)):x&&(x.d(1),x=null),H&128&&(A.checked=W[7]),W[7]?ee?ee.p(W,H):(ee=ot(W),ee.c(),ee.m(D,R)):ee&&(ee.d(1),ee=null),(!K||H&16)&&pe(h,"d-none",W[4])},i(W){K||(F(S.$$.fragment,W),K=!0)},o(W){G(S.$$.fragment,W),K=!1},d(W){W&&m(e),Y&&Y.d(),oe(S),Z&&Z.d(),r[14](null),x&&x.d(),ee&&ee.d(),r[17](null),r[18](null),ue=!1,kt(ce)}}}function al(r,e,l){let t,a,o,s=!1,u,c,h=!0,S,f="",{queue:E}=e;async function g(){l(4,s=!0),l(3,o={});let T=new FormData(a);T.set("exited",h),f&&T.set("student_id",f),T.set("simplified",!1);let j=await fetch(St(E.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:T});Be(j),j=await j.json(),l(4,s=!1),j.status=="success"?(t.click(),$t("Added a new student to the  queue","success"),Ge("queueStudents:refresh"),_()):l(3,o=j.errors)}function _(){xe(u,Date.now()),c&&xe(c,Date.now()),a.reset(),S(),l(9,f=""),l(3,o={})}function D(T){S=T,l(8,S)}const $=T=>l(9,f=T.detail.studentId);function n(T){De[T?"unshift":"push"](()=>{u=T,l(5,u)})}function b(){h=this.checked,l(7,h)}function q(T){De[T?"unshift":"push"](()=>{c=T,l(6,c)})}function k(T){De[T?"unshift":"push"](()=>{t=T,l(1,t)})}function M(T){De[T?"unshift":"push"](()=>{a=T,l(2,a)})}return r.$$set=T=>{"queue"in T&&l(0,E=T.queue)},[E,t,a,o,s,u,c,h,S,f,g,_,D,$,n,b,q,k,M]}class rl extends Ce{constructor(e){super(),He(this,e,al,sl,ye,{queue:0})}}function nl(r){let e,l='<button type="button" class="btn col-12 text-start btn-soft-success btn-label waves-effect waves-light"><i class="ri-logout-box-r-line label-icon align-middle fs-16 me-2"></i> Exit Queue</button>',t,a;return{c(){e=p("span"),e.innerHTML=l,this.h()},l(o){e=v(o,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0,"data-svelte-h":!0}),se(e)!=="svelte-mi0vlo"&&(e.innerHTML=l),this.h()},h(){i(e,"data-bs-toggle","modal"),i(e,"class","col-12"),i(e,"data-bs-target","#exitQueueStudent")},m(o,s){P(o,e,s),t||(a=be(e,"click",Ze(r[2])),t=!0)},p:Me,d(o){o&&m(e),t=!1,a()}}}function il(r){let e,l='<button type="button" class="col-12 btn text-start btn-soft-secondary btn-label waves-effect waves-light"><i class="ri-eye-fill label-icon align-middle fs-16 me-2"></i> View Student</button>',t,a;return{c(){e=p("span"),e.innerHTML=l,this.h()},l(o){e=v(o,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0,"data-svelte-h":!0}),se(e)!=="svelte-1a07jc3"&&(e.innerHTML=l),this.h()},h(){i(e,"data-bs-toggle","modal"),i(e,"class","col-12"),i(e,"data-bs-target","#viewQueueStudentModal")},m(o,s){P(o,e,s),t||(a=be(e,"click",Ze(r[2])),t=!0)},p:Me,d(o){o&&m(e),t=!1,a()}}}function ol(r){let e,l='<button type="button" class="col-12 btn text-start btn-soft-danger btn-label waves-effect waves-light"><i class="ri-delete-bin-line label-icon align-middle fs-16 me-2"></i> Delete</button>',t,a;return{c(){e=p("span"),e.innerHTML=l,this.h()},l(o){e=v(o,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0,"data-svelte-h":!0}),se(e)!=="svelte-1s9pwxc"&&(e.innerHTML=l),this.h()},h(){i(e,"data-bs-toggle","modal"),i(e,"class","col-12"),i(e,"data-bs-target","#deleteQueueStudentModal")},m(o,s){P(o,e,s),t||(a=be(e,"click",Ze(r[2])),t=!0)},p:Me,d(o){o&&m(e),t=!1,a()}}}function dl(r){let e,l,t,a,o,s,u,c,h,S=r[0].student.fullname+"",f,E,g,_,D=r[0].started_at+"",$,n,b,q=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.exit.simplified"),k,M=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.show.simplified"),T,j=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.destroy.simplified"),I=q&&nl(r),V=M&&il(r),A=j&&ol(r);return{c(){e=p("div"),l=p("div"),t=p("div"),a=p("div"),o=p("div"),s=p("img"),c=L(),h=p("h5"),f=te(S),E=L(),g=p("p"),_=te("Started at : "),$=te(D),n=L(),b=p("div"),I&&I.c(),k=L(),V&&V.c(),T=L(),A&&A.c(),this.h()},l(N){e=v(N,"DIV",{class:!0});var y=w(e);l=v(y,"DIV",{class:!0,role:!0});var O=w(l);t=v(O,"DIV",{class:!0});var z=w(t);a=v(z,"DIV",{class:!0});var R=w(a);o=v(R,"DIV",{class:!0});var Q=w(o);s=v(Q,"IMG",{src:!0,alt:!0,id:!0,class:!0}),Q.forEach(m),c=C(R),h=v(R,"H5",{id:!0,class:!0});var B=w(h);f=le(B,S),B.forEach(m),E=C(R),g=v(R,"P",{class:!0});var ae=w(g);_=le(ae,"Started at : "),$=le(ae,D),ae.forEach(m),n=C(R),b=v(R,"DIV",{class:!0});var U=w(b);I&&I.l(U),k=C(U),V&&V.l(U),T=C(U),A&&A.l(U),U.forEach(m),R.forEach(m),z.forEach(m),O.forEach(m),y.forEach(m),this.h()},h(){ve(s.src,u=r[0].student.image.full_path)||i(s,"src",u),i(s,"alt",""),i(s,"id","candidate-img"),i(s,"class","avatar-md rounded-circle"),i(o,"class","avatar-md mb-3 mx-auto"),i(h,"id","candidate-name"),i(h,"class","mb-1 text-truncate"),i(g,"class","text-muted mb-0 fs-6"),i(b,"class","d-flex gap-2 mt-4 flex-wrap"),i(a,"class","card-body text-center"),i(t,"class","row g-0"),i(l,"class","card card-animate p-3 py-2"),i(l,"role","button"),i(e,"class","col-xxl-3 col-xl-4 col-lg-5 col-sm-6 col-xs-12")},m(N,y){P(N,e,y),d(e,l),d(l,t),d(t,a),d(a,o),d(o,s),d(a,c),d(a,h),d(h,f),d(a,E),d(a,g),d(g,_),d(g,$),d(a,n),d(a,b),I&&I.m(b,null),d(b,k),V&&V.m(b,null),d(b,T),A&&A.m(b,null)},p(N,[y]){y&1&&!ve(s.src,u=N[0].student.image.full_path)&&i(s,"src",u),y&1&&S!==(S=N[0].student.fullname+"")&&de(f,S),y&1&&D!==(D=N[0].started_at+"")&&de($,D),q&&I.p(N,y),M&&V.p(N,y),j&&A.p(N,y)},i:Me,o:Me,d(N){N&&m(e),I&&I.d(),V&&V.d(),A&&A.d()}}}function ul(r,e,l){let t,{queueStudent:a}=e,{queueStudentStore:o}=yt("queueStudentStore");wt(r,o,u=>l(3,t=u));function s(){Lt(o,t=JSON.parse(JSON.stringify(a)),t)}return r.$$set=u=>{"queueStudent"in u&&l(0,a=u.queueStudent)},[a,o,s]}class cl extends Ce{constructor(e){super(),He(this,e,ul,dl,ye,{queueStudent:0})}}function ut(r,e,l){const t=r.slice();return t[19]=e[l],t}function ct(r,e,l){const t=r.slice();return t[19]=e[l],t}function ft(r){let e,l,t,a,o,s,u,c,h=r[0].id+"",S,f,E,g,_,D,$,n,b,q=r[0].fullname+"",k,M,T,j,I,V='<i class="ri-close-line"></i>',A,N;return{c(){e=p("label"),l=te(r[2]),t=L(),a=p("div"),o=p("table"),s=p("tbody"),u=p("tr"),c=p("th"),S=te(h),f=L(),E=p("th"),g=p("div"),_=p("div"),D=p("img"),n=L(),b=p("div"),k=te(q),M=L(),T=p("th"),j=p("div"),I=p("a"),I.innerHTML=V,this.h()},l(y){e=v(y,"LABEL",{for:!0,class:!0});var O=w(e);l=le(O,r[2]),O.forEach(m),t=C(y),a=v(y,"DIV",{class:!0});var z=w(a);o=v(z,"TABLE",{class:!0});var R=w(o);s=v(R,"TBODY",{class:!0});var Q=w(s);u=v(Q,"TR",{class:!0});var B=w(u);c=v(B,"TH",{});var ae=w(c);S=le(ae,h),ae.forEach(m),f=C(B),E=v(B,"TH",{});var U=w(E);g=v(U,"DIV",{class:!0});var X=w(g);_=v(X,"DIV",{class:!0});var K=w(_);D=v(K,"IMG",{src:!0,alt:!0,class:!0}),K.forEach(m),n=C(X),b=v(X,"DIV",{class:!0});var ue=w(b);k=le(ue,q),ue.forEach(m),X.forEach(m),U.forEach(m),M=C(B),T=v(B,"TH",{scope:!0});var ce=w(T);j=v(ce,"DIV",{class:!0});var Y=w(j);I=v(Y,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),se(I)!=="svelte-1b3cw3w"&&(I.innerHTML=V),Y.forEach(m),ce.forEach(m),B.forEach(m),Q.forEach(m),R.forEach(m),z.forEach(m),this.h()},h(){i(e,"for","productarName"),i(e,"class","form-label"),ve(D.src,$=r[0].image.full_path)||i(D,"src",$),i(D,"alt",""),i(D,"class","avatar-xs rounded-circle"),i(_,"class","flex-shrink-0"),i(b,"class","flex-grow-1"),i(g,"class","d-flex gap-2 align-items-center"),i(I,"href","javascript:void(0);"),i(I,"class","fs-15"),i(I,"data-bs-toggle","tooltip"),i(I,"data-bs-original-title","Select"),i(j,"class","hstack gap-3 flex-wrap"),i(T,"scope","col"),i(u,"class","bg-secondary-subtle"),i(s,"class","list align-middle"),i(o,"class","table align-middle table-nowrap mb-0 border-top"),i(a,"class","table-responsive mt-0")},m(y,O){P(y,e,O),d(e,l),P(y,t,O),P(y,a,O),d(a,o),d(o,s),d(s,u),d(u,c),d(c,S),d(u,f),d(u,E),d(E,g),d(g,_),d(_,D),d(g,n),d(g,b),d(b,k),d(u,M),d(u,T),d(T,j),d(j,I),A||(N=be(I,"click",r[7]),A=!0)},p(y,O){O&4&&de(l,y[2]),O&1&&h!==(h=y[0].id+"")&&de(S,h),O&1&&!ve(D.src,$=y[0].image.full_path)&&i(D,"src",$),O&1&&q!==(q=y[0].fullname+"")&&de(k,q)},d(y){y&&(m(e),m(t),m(a)),A=!1,N()}}}function fl(r){let e,l,t,a,o,s,u='<tr scope="row"><td scope="col">ID</td> <td scope="col">Full Name</td> <td scope="col">Action</td></tr>',c,h,S,f,E;e=new Xe({props:{type:"Student"}}),e.$on("search",r[8]);let g=$e(r[3]),_=[];for(let n=0;n<g.length;n+=1)_[n]=ht(ut(r,g,n));const D=[r[4]];let $={};for(let n=0;n<D.length;n+=1)$=Le($,D[n]);return f=new Ke({props:$}),f.$on("switchPage",r[9]),{c(){re(e.$$.fragment),l=L(),t=p("div"),a=p("div"),o=p("table"),s=p("thead"),s.innerHTML=u,c=L(),h=p("tbody");for(let n=0;n<_.length;n+=1)_[n].c();S=L(),re(f.$$.fragment),this.h()},l(n){ne(e.$$.fragment,n),l=C(n),t=v(n,"DIV",{class:!0});var b=w(t);a=v(b,"DIV",{class:!0});var q=w(a);o=v(q,"TABLE",{class:!0});var k=w(o);s=v(k,"THEAD",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-doigdf"&&(s.innerHTML=u),c=C(k),h=v(k,"TBODY",{class:!0});var M=w(h);for(let T=0;T<_.length;T+=1)_[T].l(M);M.forEach(m),k.forEach(m),q.forEach(m),b.forEach(m),S=C(n),ne(f.$$.fragment,n),this.h()},h(){i(s,"class","table-light"),i(h,"class","list"),i(o,"class","table align-middle table-nowrap mb-0 border-top"),i(a,"class","table-responsive"),i(t,"class","row pe-0")},m(n,b){ie(e,n,b),P(n,l,b),P(n,t,b),d(t,a),d(a,o),d(o,s),d(o,c),d(o,h);for(let q=0;q<_.length;q+=1)_[q]&&_[q].m(h,null);P(n,S,b),ie(f,n,b),E=!0},p(n,b){if(b&73){g=$e(n[3]);let k;for(k=0;k<g.length;k+=1){const M=ut(n,g,k);_[k]?_[k].p(M,b):(_[k]=ht(M),_[k].c(),_[k].m(h,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=g.length}const q=b&16?Ae(D,[Ne(n[4])]):{};f.$set(q)},i(n){E||(F(e.$$.fragment,n),F(f.$$.fragment,n),E=!0)},o(n){G(e.$$.fragment,n),G(f.$$.fragment,n),E=!1},d(n){n&&(m(l),m(t),m(S)),oe(e,n),Fe(_,n),oe(f,n)}}}function hl(r){let e,l,t;function a(s){r[13](s)}let o={id:"student",title:r[2],$$slots:{default:[ml]},$$scope:{ctx:r}};return r[5]!==void 0&&(o.openCollapse=r[5]),e=new Vt({props:o}),De.push(()=>ze(e,"openCollapse",a)),{c(){re(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,u){ie(e,s,u),t=!0},p(s,u){const c={};u&4&&(c.title=s[2]),u&16777241&&(c.$$scope={dirty:u,ctx:s}),!l&&u&32&&(l=!0,c.openCollapse=s[5],Je(()=>l=!1)),e.$set(c)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){oe(e,s)}}}function ht(r){let e,l,t=r[19].id+"",a,o,s,u,c,h,S,f,E,g=r[19].fullname+"",_,D,$,n,b,q='<i class="ri-check-line"></i>',k,M,T;function j(){return r[14](r[19])}return{c(){e=p("tr"),l=p("td"),a=te(t),o=L(),s=p("td"),u=p("div"),c=p("div"),h=p("img"),f=L(),E=p("div"),_=te(g),D=L(),$=p("td"),n=p("div"),b=p("a"),b.innerHTML=q,k=L(),this.h()},l(I){e=v(I,"TR",{scope:!0});var V=w(e);l=v(V,"TD",{});var A=w(l);a=le(A,t),A.forEach(m),o=C(V),s=v(V,"TD",{});var N=w(s);u=v(N,"DIV",{class:!0});var y=w(u);c=v(y,"DIV",{class:!0});var O=w(c);h=v(O,"IMG",{src:!0,alt:!0,class:!0}),O.forEach(m),f=C(y),E=v(y,"DIV",{class:!0});var z=w(E);_=le(z,g),z.forEach(m),y.forEach(m),N.forEach(m),D=C(V),$=v(V,"TD",{});var R=w($);n=v(R,"DIV",{class:!0});var Q=w(n);b=v(Q,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),se(b)!=="svelte-f140kx"&&(b.innerHTML=q),Q.forEach(m),R.forEach(m),k=C(V),V.forEach(m),this.h()},h(){var I;ve(h.src,S=r[19].image.full_path)||i(h,"src",S),i(h,"alt",""),i(h,"class","avatar-xs rounded-circle"),i(c,"class","flex-shrink-0"),i(E,"class","flex-grow-1"),i(u,"class","d-flex gap-2 align-items-center"),i(b,"href","javascript:void(0);"),i(b,"class","fs-15"),i(b,"data-bs-toggle","tooltip"),i(b,"data-bs-original-title","Select"),i(n,"class","hstack gap-3 flex-wrap"),i(e,"scope","row"),pe(e,"bg-secondary-subtle",r[19].id==((I=r[0])==null?void 0:I.id))},m(I,V){P(I,e,V),d(e,l),d(l,a),d(e,o),d(e,s),d(s,u),d(u,c),d(c,h),d(u,f),d(u,E),d(E,_),d(e,D),d(e,$),d($,n),d(n,b),d(e,k),M||(T=be(b,"click",j),M=!0)},p(I,V){var A;r=I,V&8&&t!==(t=r[19].id+"")&&de(a,t),V&8&&!ve(h.src,S=r[19].image.full_path)&&i(h,"src",S),V&8&&g!==(g=r[19].fullname+"")&&de(_,g),V&9&&pe(e,"bg-secondary-subtle",r[19].id==((A=r[0])==null?void 0:A.id))},d(I){I&&m(e),M=!1,T()}}}function mt(r){let e,l,t=r[19].id+"",a,o,s,u,c,h,S,f,E,g=r[19].fullname+"",_,D,$,n,b,q='<i class="ri-check-line"></i>',k,M,T;function j(){return r[12](r[19])}return{c(){e=p("tr"),l=p("td"),a=te(t),o=L(),s=p("td"),u=p("div"),c=p("div"),h=p("img"),f=L(),E=p("div"),_=te(g),D=L(),$=p("td"),n=p("div"),b=p("a"),b.innerHTML=q,k=L(),this.h()},l(I){e=v(I,"TR",{scope:!0});var V=w(e);l=v(V,"TD",{});var A=w(l);a=le(A,t),A.forEach(m),o=C(V),s=v(V,"TD",{});var N=w(s);u=v(N,"DIV",{class:!0});var y=w(u);c=v(y,"DIV",{class:!0});var O=w(c);h=v(O,"IMG",{src:!0,alt:!0,class:!0}),O.forEach(m),f=C(y),E=v(y,"DIV",{class:!0});var z=w(E);_=le(z,g),z.forEach(m),y.forEach(m),N.forEach(m),D=C(V),$=v(V,"TD",{});var R=w($);n=v(R,"DIV",{class:!0});var Q=w(n);b=v(Q,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),se(b)!=="svelte-f140kx"&&(b.innerHTML=q),Q.forEach(m),R.forEach(m),k=C(V),V.forEach(m),this.h()},h(){var I;ve(h.src,S=r[19].image.full_path)||i(h,"src",S),i(h,"alt",""),i(h,"class","avatar-xs rounded-circle"),i(c,"class","flex-shrink-0"),i(E,"class","flex-grow-1"),i(u,"class","d-flex gap-2 align-items-center"),i(b,"href","javascript:void(0);"),i(b,"class","fs-15"),i(b,"data-bs-toggle","tooltip"),i(b,"data-bs-original-title","Select"),i(n,"class","hstack gap-3 flex-wrap"),i(e,"scope","row"),pe(e,"bg-secondary-subtle",r[19].id==((I=r[0])==null?void 0:I.id))},m(I,V){P(I,e,V),d(e,l),d(l,a),d(e,o),d(e,s),d(s,u),d(u,c),d(c,h),d(u,f),d(u,E),d(E,_),d(e,D),d(e,$),d($,n),d(n,b),d(e,k),M||(T=be(b,"click",j),M=!0)},p(I,V){var A;r=I,V&8&&t!==(t=r[19].id+"")&&de(a,t),V&8&&!ve(h.src,S=r[19].image.full_path)&&i(h,"src",S),V&8&&g!==(g=r[19].fullname+"")&&de(_,g),V&9&&pe(e,"bg-secondary-subtle",r[19].id==((A=r[0])==null?void 0:A.id))},d(I){I&&m(e),M=!1,T()}}}function ml(r){let e,l,t,a,o,s,u='<tr scope="row"><td scope="col">ID</td> <td scope="col">Full Name</td> <td scope="col">Action</td></tr>',c,h,S,f,E;e=new Xe({props:{type:"Student"}}),e.$on("search",r[8]);let g=$e(r[3]),_=[];for(let n=0;n<g.length;n+=1)_[n]=mt(ct(r,g,n));const D=[r[4]];let $={};for(let n=0;n<D.length;n+=1)$=Le($,D[n]);return f=new Ke({props:$}),f.$on("switchPage",r[9]),{c(){re(e.$$.fragment),l=L(),t=p("div"),a=p("div"),o=p("table"),s=p("thead"),s.innerHTML=u,c=L(),h=p("tbody");for(let n=0;n<_.length;n+=1)_[n].c();S=L(),re(f.$$.fragment),this.h()},l(n){ne(e.$$.fragment,n),l=C(n),t=v(n,"DIV",{class:!0});var b=w(t);a=v(b,"DIV",{class:!0});var q=w(a);o=v(q,"TABLE",{class:!0});var k=w(o);s=v(k,"THEAD",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-q6ex5v"&&(s.innerHTML=u),c=C(k),h=v(k,"TBODY",{class:!0});var M=w(h);for(let T=0;T<_.length;T+=1)_[T].l(M);M.forEach(m),k.forEach(m),q.forEach(m),b.forEach(m),S=C(n),ne(f.$$.fragment,n),this.h()},h(){i(s,"class","table-light"),i(h,"class","list"),i(o,"class","table align-middle table-nowrap mb-0 border-top"),i(a,"class","table-responsive"),i(t,"class","row pe-0")},m(n,b){ie(e,n,b),P(n,l,b),P(n,t,b),d(t,a),d(a,o),d(o,s),d(o,c),d(o,h);for(let q=0;q<_.length;q+=1)_[q]&&_[q].m(h,null);P(n,S,b),ie(f,n,b),E=!0},p(n,b){if(b&73){g=$e(n[3]);let k;for(k=0;k<g.length;k+=1){const M=ct(n,g,k);_[k]?_[k].p(M,b):(_[k]=mt(M),_[k].c(),_[k].m(h,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=g.length}const q=b&16?Ae(D,[Ne(n[4])]):{};f.$set(q)},i(n){E||(F(e.$$.fragment,n),F(f.$$.fragment,n),E=!0)},o(n){G(e.$$.fragment,n),G(f.$$.fragment,n),E=!1},d(n){n&&(m(l),m(t),m(S)),oe(e,n),Fe(_,n),oe(f,n)}}}function _l(r){var S;let e,l,t,a,o,s=((S=r[0])==null?void 0:S.id)&&ft(r);const u=[hl,fl],c=[];function h(f,E){return f[1]?0:1}return t=h(r),a=c[t]=u[t](r),{c(){s&&s.c(),e=L(),l=p("div"),a.c(),this.h()},l(f){s&&s.l(f),e=C(f),l=v(f,"DIV",{});var E=w(l);a.l(E),E.forEach(m),this.h()},h(){var f;pe(l,"d-none",((f=r[0])==null?void 0:f.id)!=null)},m(f,E){s&&s.m(f,E),P(f,e,E),P(f,l,E),c[t].m(l,null),o=!0},p(f,[E]){var _,D;(_=f[0])!=null&&_.id?s?s.p(f,E):(s=ft(f),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let g=t;t=h(f),t===g?c[t].p(f,E):(Ue(),G(c[g],1,1,()=>{c[g]=null}),Ye(),a=c[t],a?a.p(f,E):(a=c[t]=u[t](f),a.c()),F(a,1),a.m(l,null)),(!o||E&1)&&pe(l,"d-none",((D=f[0])==null?void 0:D.id)!=null)},i(f){o||(F(a),o=!0)},o(f){G(a),o=!1},d(f){f&&(m(e),m(l)),s&&s.d(f),c[t].d()}}}function pl(r,e,l){const t=Et();let a=[],o,s=1,u="",{selected:c={}}=e,{collapse:h}=e,{title:S}=e,{schoolId:f}=e,E;async function g(){console.log("fetching from collapse");let T=await fetch(bt(f,{page:s,search:u},null,{subscribed:!0,archived:!1}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});Be(T);let j=await T.json();l(3,a=j.data.students),l(4,o=j.pagination)}We(()=>{g()});function _(T){l(0,c=T),t("select",{studentId:c.id})}function D(){l(0,c={}),t("select",{studentId:""}),E()}function $(T){s=1,u=T.detail.searchQuery,g()}function n(T){s=T.detail.page,g()}function b(){l(0,c={})}const q=T=>_(T);function k(T){E=T,l(5,E)}const M=T=>_(T);return r.$$set=T=>{"selected"in T&&l(0,c=T.selected),"collapse"in T&&l(1,h=T.collapse),"title"in T&&l(2,S=T.title),"schoolId"in T&&l(10,f=T.schoolId)},[c,h,S,a,o,E,_,D,$,n,f,b,q,k,M]}class vl extends Ce{constructor(e){super(),He(this,e,pl,_l,ye,{selected:0,collapse:1,title:2,schoolId:10,resetStudent:11})}get resetStudent(){return this.$$.ctx[11]}}function _t(r){let e,l='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=p("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1eqlld5"&&(e.innerHTML=l),this.h()},h(){i(e,"class","text-center")},m(t,a){P(t,e,a)},d(t){t&&m(e)}}}function pt(r){let e,l=r[3].student_id[0]+"",t;return{c(){e=p("strong"),t=te(l),this.h()},l(a){e=v(a,"STRONG",{class:!0});var o=w(e);t=le(o,l),o.forEach(m),this.h()},h(){i(e,"class","text-danger ms-1 my-2")},m(a,o){P(a,e,o),d(e,t)},p(a,o){o&8&&l!==(l=a[3].student_id[0]+"")&&de(t,l)},d(a){a&&m(e)}}}function gl(r){var y,O,z,R;let e,l,t,a,o='<h5 class="modal-title" id="exampleModalgridLabel">Add Student</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',s,u,c,h,S,f,E,g,_,D,$,n,b="Close",q,k,M,T,j,I=r[4]&&_t();function V(Q){r[9](Q)}let A={collapse:!0,title:"Students",schoolId:(z=(O=(y=r[0])==null?void 0:y.canteen)==null?void 0:O.school)==null?void 0:z.id};r[5]!==void 0&&(A.resetStudent=r[5]),S=new vl({props:A}),De.push(()=>ze(S,"resetStudent",V)),S.$on("select",r[10]);let N=((R=r[3])==null?void 0:R.student_id)&&pt(r);return{c(){e=p("div"),l=p("div"),t=p("div"),a=p("div"),a.innerHTML=o,s=L(),u=p("div"),I&&I.c(),c=L(),h=p("div"),re(S.$$.fragment),E=L(),N&&N.c(),g=L(),_=p("form"),D=p("div"),$=p("div"),n=p("button"),n.textContent=b,q=L(),k=p("input"),this.h()},l(Q){e=v(Q,"DIV",{class:!0,id:!0,tabindex:!0,"data-bs-focus":!0,"aria-labelledby":!0,"aria-modal":!0});var B=w(e);l=v(B,"DIV",{class:!0});var ae=w(l);t=v(ae,"DIV",{class:!0});var U=w(t);a=v(U,"DIV",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-4b19vr"&&(a.innerHTML=o),s=C(U),u=v(U,"DIV",{class:!0});var X=w(u);I&&I.l(X),c=C(X),h=v(X,"DIV",{class:!0});var K=w(h);ne(S.$$.fragment,K),E=C(K),N&&N.l(K),g=C(K),_=v(K,"FORM",{});var ue=w(_);D=v(ue,"DIV",{class:!0});var ce=w(D);$=v(ce,"DIV",{class:!0});var Y=w($);n=v(Y,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),se(n)!=="svelte-1h5uvws"&&(n.textContent=b),q=C(Y),k=v(Y,"INPUT",{type:!0,class:!0}),Y.forEach(m),ce.forEach(m),ue.forEach(m),K.forEach(m),X.forEach(m),U.forEach(m),ae.forEach(m),B.forEach(m),this.h()},h(){i(a,"class","modal-header"),i(n,"type","button"),i(n,"class","btn btn-light fw-light"),i(n,"data-bs-dismiss","modal"),i(k,"type","submit"),i(k,"class","btn btn-primary waves-effect waves-light"),k.value="Save",i($,"class","hstack gap-2 justify-content-end"),i(D,"class","row g-3"),i(h,"class","row g-3"),pe(h,"d-none",r[4]),i(u,"class","modal-body"),i(t,"class","modal-content"),i(l,"class","modal-dialog modal-dialog-centered"),i(e,"class","modal fade"),i(e,"id","addQueueStudentModal"),i(e,"tabindex","-1"),i(e,"data-bs-focus","false"),i(e,"aria-labelledby","exampleModalgridLabel"),i(e,"aria-modal","true")},m(Q,B){P(Q,e,B),d(e,l),d(l,t),d(t,a),d(t,s),d(t,u),I&&I.m(u,null),d(u,c),d(u,h),ie(S,h,null),d(h,E),N&&N.m(h,null),d(h,g),d(h,_),d(_,D),d(D,$),d($,n),r[11](n),d($,q),d($,k),r[12](_),M=!0,T||(j=[be(_,"submit",It(r[7])),be(e,"hidden.bs.modal",r[8])],T=!0)},p(Q,[B]){var U,X,K,ue;Q[4]?I||(I=_t(),I.c(),I.m(u,c)):I&&(I.d(1),I=null);const ae={};B&1&&(ae.schoolId=(K=(X=(U=Q[0])==null?void 0:U.canteen)==null?void 0:X.school)==null?void 0:K.id),!f&&B&32&&(f=!0,ae.resetStudent=Q[5],Je(()=>f=!1)),S.$set(ae),(ue=Q[3])!=null&&ue.student_id?N?N.p(Q,B):(N=pt(Q),N.c(),N.m(h,g)):N&&(N.d(1),N=null),(!M||B&16)&&pe(h,"d-none",Q[4])},i(Q){M||(F(S.$$.fragment,Q),M=!0)},o(Q){G(S.$$.fragment,Q),M=!1},d(Q){Q&&m(e),I&&I.d(),oe(S),N&&N.d(),r[11](null),r[12](null),T=!1,kt(j)}}}function bl(r,e,l){let t,a,o,s=!1,u,c="",{queue:h}=e;async function S(){l(4,s=!0),l(3,o={});let $=new FormData(a);c&&$.set("student_id",c),$.set("simplified",!0);let n=await fetch(St(h.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:$});Be(n),n=await n.json(),l(4,s=!1),n.status=="success"?(t.click(),$t("Added a new student to the  queue","success"),Ge("queueStudents:refresh"),f()):l(3,o=n.errors)}function f(){a.reset(),u(),l(6,c=""),l(3,o={})}function E($){u=$,l(5,u)}const g=$=>l(6,c=$.detail.studentId);function _($){De[$?"unshift":"push"](()=>{t=$,l(1,t)})}function D($){De[$?"unshift":"push"](()=>{a=$,l(2,a)})}return r.$$set=$=>{"queue"in $&&l(0,h=$.queue)},[h,t,a,o,s,u,c,S,f,E,g,_,D]}class Sl extends Ce{constructor(e){super(),He(this,e,bl,gl,ye,{queue:0})}}function vt(r,e,l){const t=r.slice();return t[9]=e[l],t[11]=l,t}function El(r){let e,l='<i class="ri-add-line align-bottom me-1"></i>Add Student',t,a,o;return a=new rl({props:{queue:r[2]}}),{c(){e=p("button"),e.innerHTML=l,t=L(),re(a.$$.fragment),this.h()},l(s){e=v(s,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),se(e)!=="svelte-bgmpdu"&&(e.innerHTML=l),t=C(s),ne(a.$$.fragment,s),this.h()},h(){i(e,"type","button"),i(e,"data-bs-toggle","modal"),i(e,"data-bs-target","#addQueueStudentModal"),i(e,"class","btn btn-primary waves-effect waves-light")},m(s,u){P(s,e,u),P(s,t,u),ie(a,s,u),o=!0},p(s,u){const c={};u&4&&(c.queue=s[2]),a.$set(c)},i(s){o||(F(a.$$.fragment,s),o=!0)},o(s){G(a.$$.fragment,s),o=!1},d(s){s&&(m(e),m(t)),oe(a,s)}}}function Il(r){let e,l='<i class="ri-add-line align-bottom me-1"></i>Add Student',t,a,o;return a=new Sl({props:{queue:r[2]}}),{c(){e=p("button"),e.innerHTML=l,t=L(),re(a.$$.fragment),this.h()},l(s){e=v(s,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),se(e)!=="svelte-bgmpdu"&&(e.innerHTML=l),t=C(s),ne(a.$$.fragment,s),this.h()},h(){i(e,"type","button"),i(e,"data-bs-toggle","modal"),i(e,"data-bs-target","#addQueueStudentModal"),i(e,"class","btn btn-primary waves-effect waves-light")},m(s,u){P(s,e,u),P(s,t,u),ie(a,s,u),o=!0},p(s,u){const c={};u&4&&(c.queue=s[2]),a.$set(c)},i(s){o||(F(a.$$.fragment,s),o=!0)},o(s){G(a.$$.fragment,s),o=!1},d(s){s&&(m(e),m(t)),oe(a,s)}}}function kl(r){let e,l,t,a,o,s,u;l=new Tt({props:{type:"Student"}}),a=new Bt({props:{queueStudentsList:r[3]}});const c=[r[1]];let h={};for(let S=0;S<c.length;S+=1)h=Le(h,c[S]);return s=new Dt({props:h}),{c(){e=p("div"),re(l.$$.fragment),t=L(),re(a.$$.fragment),o=L(),re(s.$$.fragment),this.h()},l(S){e=v(S,"DIV",{class:!0});var f=w(e);ne(l.$$.fragment,f),t=C(f),ne(a.$$.fragment,f),o=C(f),ne(s.$$.fragment,f),f.forEach(m),this.h()},h(){i(e,"class","card-body")},m(S,f){P(S,e,f),ie(l,e,null),d(e,t),ie(a,e,null),d(e,o),ie(s,e,null),u=!0},p(S,f){const E={};f&8&&(E.queueStudentsList=S[3]),a.$set(E);const g=f&2?Ae(c,[Ne(S[1])]):{};s.$set(g)},i(S){u||(F(l.$$.fragment,S),F(a.$$.fragment,S),F(s.$$.fragment,S),u=!0)},o(S){G(l.$$.fragment,S),G(a.$$.fragment,S),G(s.$$.fragment,S),u=!1},d(S){S&&m(e),oe(l),oe(a),oe(s)}}}function wl(r){let e,l,t,a,o,s,u;e=new Tt({props:{type:"Student"}});const c=[Tl,Dl],h=[];function S(g,_){var D,$,n,b,q,k;return((n=($=(D=g[4])==null?void 0:D.from)==null?void 0:$.route)==null?void 0:n.id)==((k=(q=(b=g[4])==null?void 0:b.to)==null?void 0:q.route)==null?void 0:k.id)&&g[4]?0:1}t=S(r),a=h[t]=c[t](r);const f=[r[1]];let E={};for(let g=0;g<f.length;g+=1)E=Le(E,f[g]);return s=new Dt({props:E}),{c(){re(e.$$.fragment),l=L(),a.c(),o=L(),re(s.$$.fragment)},l(g){ne(e.$$.fragment,g),l=C(g),a.l(g),o=C(g),ne(s.$$.fragment,g)},m(g,_){ie(e,g,_),P(g,l,_),h[t].m(g,_),P(g,o,_),ie(s,g,_),u=!0},p(g,_){let D=t;t=S(g),t===D?h[t].p(g,_):(Ue(),G(h[D],1,1,()=>{h[D]=null}),Ye(),a=h[t],a?a.p(g,_):(a=h[t]=c[t](g),a.c()),F(a,1),a.m(o.parentNode,o));const $=_&2?Ae(f,[Ne(g[1])]):{};s.$set($)},i(g){u||(F(e.$$.fragment,g),F(a),F(s.$$.fragment,g),u=!0)},o(g){G(e.$$.fragment,g),G(a),G(s.$$.fragment,g),u=!1},d(g){g&&(m(l),m(o)),oe(e,g),h[t].d(g),oe(s,g)}}}function Dl(r){let e=[],l=new Map,t,a,o=$e(r[3]);const s=u=>u[9].id;for(let u=0;u<o.length;u+=1){let c=vt(r,o,u),h=s(c);l.set(h,e[u]=gt(h,c))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();t=Re()},l(u){for(let c=0;c<e.length;c+=1)e[c].l(u);t=Re()},m(u,c){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(u,c);P(u,t,c),a=!0},p(u,c){c&8&&(o=$e(u[3]),Ue(),e=Nt(e,c,s,1,u,o,l,t.parentNode,Pt,gt,t,vt),Ye())},i(u){if(!a){for(let c=0;c<o.length;c+=1)F(e[c]);a=!0}},o(u){for(let c=0;c<e.length;c+=1)G(e[c]);a=!1},d(u){u&&m(t);for(let c=0;c<e.length;c+=1)e[c].d(u)}}}function Tl(r){let e,l='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=p("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1skq92h"&&(e.innerHTML=l),this.h()},h(){i(e,"class","text-center")},m(t,a){P(t,e,a)},p:Me,i:Me,o:Me,d(t){t&&m(e)}}}function gt(r,e){let l,t,a;return t=new cl({props:{queueStudent:e[9]}}),{key:r,first:null,c(){l=Re(),re(t.$$.fragment),this.h()},l(o){l=Re(),ne(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,s){P(o,l,s),ie(t,o,s),a=!0},p(o,s){e=o;const u={};s&8&&(u.queueStudent=e[9]),t.$set(u)},i(o){a||(F(t.$$.fragment,o),a=!0)},o(o){G(t.$$.fragment,o),a=!1},d(o){o&&m(l),oe(t,o)}}}function $l(r){var Pe,Qe,Oe,je,W;let e,l,t,a,o,s,u,c,h,S,f,E=((Oe=(Qe=(Pe=r[2])==null?void 0:Pe.canteen)==null?void 0:Qe.school)==null?void 0:Oe.name)+"",g,_,D,$=((W=(je=r[2])==null?void 0:je.canteen)==null?void 0:W.name)+"",n,b,q,k,M=r[2].id+"",T,j,I,V,A=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.store"),N,y=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.store.simplified"),O,z=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.index"),R,Q=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.index.simplified"),B,ae,U,X,K,ue,ce,Y,Te,ke,Z=A&&El(r),x=y&&Il(r),ee=z&&kl(r),ge=Q&&wl(r);return U=new Qt({}),K=new Ot({}),ce=new jt({}),Te=new zt({}),Te.$on("exit",r[5]),{c(){e=p("div"),l=p("div"),t=p("div"),a=p("div"),o=p("div"),s=p("div"),u=p("img"),h=L(),S=p("h4"),f=p("span"),g=te(E),_=te(" - "),D=p("span"),n=te($),b=te(" - "),q=p("span"),k=te("Queue #"),T=te(M),j=te(" - Queue students Managment"),I=L(),V=p("div"),Z&&Z.c(),N=L(),x&&x.c(),O=L(),ee&&ee.c(),R=L(),ge&&ge.c(),ae=L(),re(U.$$.fragment),X=L(),re(K.$$.fragment),ue=L(),re(ce.$$.fragment),Y=L(),re(Te.$$.fragment),this.h()},l(H){e=v(H,"DIV",{class:!0});var J=w(e);l=v(J,"DIV",{class:!0});var _e=w(l);t=v(_e,"DIV",{class:!0});var fe=w(t);a=v(fe,"DIV",{class:!0});var he=w(a);o=v(he,"DIV",{class:!0});var Se=w(o);s=v(Se,"DIV",{class:!0});var me=w(s);u=v(me,"IMG",{src:!0,alt:!0,class:!0}),me.forEach(m),h=C(Se),S=v(Se,"H4",{class:!0});var Ee=w(S);f=v(Ee,"SPAN",{class:!0});var Ie=w(f);g=le(Ie,E),Ie.forEach(m),_=le(Ee," - "),D=v(Ee,"SPAN",{class:!0});var qe=w(D);n=le(qe,$),qe.forEach(m),b=le(Ee," - "),q=v(Ee,"SPAN",{class:!0});var we=w(q);k=le(we,"Queue #"),T=le(we,M),we.forEach(m),j=le(Ee," - Queue students Managment"),Ee.forEach(m),Se.forEach(m),I=C(he),V=v(he,"DIV",{class:!0});var Ve=w(V);Z&&Z.l(Ve),N=C(Ve),x&&x.l(Ve),Ve.forEach(m),he.forEach(m),O=C(fe),ee&&ee.l(fe),fe.forEach(m),_e.forEach(m),R=C(J),ge&&ge.l(J),J.forEach(m),ae=C(H),ne(U.$$.fragment,H),X=C(H),ne(K.$$.fragment,H),ue=C(H),ne(ce.$$.fragment,H),Y=C(H),ne(Te.$$.fragment,H),this.h()},h(){var H,J,_e,fe;ve(u.src,c=(fe=(_e=(J=(H=r[2])==null?void 0:H.canteen)==null?void 0:J.school)==null?void 0:_e.logo)==null?void 0:fe.full_path)||i(u,"src",c),i(u,"alt",""),i(u,"class","avatar-xs rounded-circle"),i(s,"class","flex-shrink-0"),i(f,"class","text-primary"),i(D,"class","text-primary"),i(q,"class","text-primary"),i(S,"class","card-title mb-0 flex-grow-1"),i(o,"class","d-flex gap-2 align-items-center flex-grow-1"),i(V,"class","flex-shrink-0"),i(a,"class","card-header align-items-center d-flex"),i(t,"class","card"),i(l,"class","col-lg-12"),i(e,"class","row")},m(H,J){P(H,e,J),d(e,l),d(l,t),d(t,a),d(a,o),d(o,s),d(s,u),d(o,h),d(o,S),d(S,f),d(f,g),d(S,_),d(S,D),d(D,n),d(S,b),d(S,q),d(q,k),d(q,T),d(S,j),d(a,I),d(a,V),Z&&Z.m(V,null),d(V,N),x&&x.m(V,null),d(t,O),ee&&ee.m(t,null),d(e,R),ge&&ge.m(e,null),r[7](e),P(H,ae,J),ie(U,H,J),P(H,X,J),ie(K,H,J),P(H,ue,J),ie(ce,H,J),P(H,Y,J),ie(Te,H,J),ke=!0},p(H,[J]){var _e,fe,he,Se,me,Ee,Ie,qe,we;(!ke||J&4&&!ve(u.src,c=(Se=(he=(fe=(_e=H[2])==null?void 0:_e.canteen)==null?void 0:fe.school)==null?void 0:he.logo)==null?void 0:Se.full_path))&&i(u,"src",c),(!ke||J&4)&&E!==(E=((Ie=(Ee=(me=H[2])==null?void 0:me.canteen)==null?void 0:Ee.school)==null?void 0:Ie.name)+"")&&de(g,E),(!ke||J&4)&&$!==($=((we=(qe=H[2])==null?void 0:qe.canteen)==null?void 0:we.name)+"")&&de(n,$),(!ke||J&4)&&M!==(M=H[2].id+"")&&de(T,M),A&&Z.p(H,J),y&&x.p(H,J),z&&ee.p(H,J),Q&&ge.p(H,J)},i(H){ke||(F(Z),F(x),F(ee),F(ge),H&&(B||Ct(()=>{B=At(e,Ft,{duration:200}),B.start()})),F(U.$$.fragment,H),F(K.$$.fragment,H),F(ce.$$.fragment,H),F(Te.$$.fragment,H),ke=!0)},o(H){G(Z),G(x),G(ee),G(ge),G(U.$$.fragment,H),G(K.$$.fragment,H),G(ce.$$.fragment,H),G(Te.$$.fragment,H),ke=!1},d(H){H&&(m(e),m(ae),m(X),m(ue),m(Y)),Z&&Z.d(),x&&x.d(),ee&&ee.d(),ge&&ge.d(),r[7](null),oe(U,H),oe(K,H),oe(ce,H),oe(Te,H)}}}function Vl(r,e,l){let t,a,o,s;wt(r,Yt,E=>l(4,s=E));let{data:u}=e,c,h;We(()=>{Ut(c),Gt(),h=setInterval(()=>{Ge("queueStudents:refresh")},1e4)}),Ht("queueStudentStore",{queueStudentStore:Jt({})}),Rt(()=>{h&&clearInterval(h)});function S(){clearInterval(h),h=setInterval(()=>{Ge("queueStudents:refresh")},1e4)}function f(E){De[E?"unshift":"push"](()=>{c=E,l(0,c)})}return r.$$set=E=>{"data"in E&&l(6,u=E.data)},r.$$.update=()=>{r.$$.dirty&64&&l(3,t=u.queueStudentsResponse.data.queueStudents),r.$$.dirty&64&&l(2,a=u.queueStudentsResponse.data.queue),r.$$.dirty&64&&l(1,o=u.queueStudentsResponse.pagination)},[c,o,a,t,s,S,u,f]}class Kl extends Ce{constructor(e){super(),He(this,e,Vl,$l,ye,{data:6})}}export{Kl as component,Xl as universal};
