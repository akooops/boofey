import{s as me,f as l,a as I,l as k,g as r,h as c,d as n,c as T,m as S,z as et,E as Te,j as e,i as Vt,C as t,K as Kt,F as Mt,n as tt,U as Ne,A as oe,G as Re,P as Le,y as Oe,p as qe,e as Ce,S as xe}from"../chunks/scheduler.726ac76d.js";import{S as pe,i as _e,b as ue,d as fe,m as ve,c as Me,a as le,t as re,e as he,h as He,g as Fe}from"../chunks/index.8a5ed380.js";import{e as Ve,u as Ue,o as Be}from"../chunks/each.381f634d.js";import{b as je,g as Ge}from"../chunks/utils.5f096ebf.js";import{n as ze}from"../chunks/paths.29c5142d.js";import{t as Je}from"../chunks/toast.aca1940a.js";import{a as Ke}from"../chunks/auth.82ff8344.js";import{p as Ye}from"../chunks/stores.1008b3f8.js";import{A as Qe}from"../chunks/AddProductToCart.2b6b4099.js";const We=!1;async function Xe({fetch:i,url:a,depends:o,params:s}){return{tabTitle:"Add Order"}}const ms=Object.freeze(Object.defineProperty({__proto__:null,load:Xe,ssr:We},Symbol.toStringTag,{value:"Module"}));function Ze(i){let a,o,s,d,f,y,m,u,v,g,V,p=i[0].name+"",U,q,b,_,mt,J,A=(i[0].category==null?"no category":i[0].category.name)+"",Q,W,P,h,E="-",C,w,B,M,ot="+",j,G,st,nt,pt="Item Price:",it,dt,K=i[0].currentPrice+"",kt,St,Pt,_t,at,z,lt,bt,X,Ht='<i class="ri-delete-bin-fill text-muted align-bottom me-1"></i> Remove',ct,Y,rt,ut,Ft="Total :",wt,H,ft=i[0].currentPrice*i[0].qty+"",Dt,Nt,Rt,vt;return{c(){a=l("div"),o=l("div"),s=l("div"),d=l("div"),f=l("div"),y=l("img"),u=I(),v=l("div"),g=l("h5"),V=l("a"),U=k(p),q=I(),b=l("ul"),_=l("li"),mt=k("Category : "),J=l("span"),Q=k(A),W=I(),P=l("div"),h=l("button"),h.textContent=E,C=I(),w=l("input"),B=I(),M=l("button"),M.textContent=ot,j=I(),G=l("div"),st=l("div"),nt=l("p"),nt.textContent=pt,it=I(),dt=l("h5"),kt=k(K),St=k(" SAR"),Pt=I(),_t=l("div"),at=l("div"),z=l("div"),lt=l("div"),bt=l("div"),X=l("a"),X.innerHTML=Ht,ct=I(),Y=l("div"),rt=l("div"),ut=l("div"),ut.textContent=Ft,wt=I(),H=l("h5"),Dt=k(ft),Nt=k(" SAR"),this.h()},l(N){a=r(N,"DIV",{class:!0});var F=c(a);o=r(F,"DIV",{class:!0});var Ut=c(o);s=r(Ut,"DIV",{class:!0});var Z=c(s);d=r(Z,"DIV",{class:!0});var ht=c(d);f=r(ht,"DIV",{class:!0});var Lt=c(f);y=r(Lt,"IMG",{src:!0,alt:!0,class:!0}),Lt.forEach(n),ht.forEach(n),u=T(Z),v=r(Z,"DIV",{class:!0});var gt=c(v);g=r(gt,"H5",{class:!0});var Bt=c(g);V=r(Bt,"A",{href:!0,class:!0});var Ot=c(V);U=S(Ot,p),Ot.forEach(n),Bt.forEach(n),q=T(gt),b=r(gt,"UL",{class:!0});var It=c(b);_=r(It,"LI",{class:!0});var Et=c(_);mt=S(Et,"Category : "),J=r(Et,"SPAN",{class:!0});var $=c(J);Q=S($,A),$.forEach(n),Et.forEach(n),It.forEach(n),W=T(gt),P=r(gt,"DIV",{class:!0});var yt=c(P);h=r(yt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),et(h)!=="svelte-jzgjqt"&&(h.textContent=E),C=T(yt),w=r(yt,"INPUT",{type:!0,class:!0,min:!0,oninput:!0}),B=T(yt),M=r(yt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),et(M)!=="svelte-suctdq"&&(M.textContent=ot),yt.forEach(n),gt.forEach(n),j=T(Z),G=r(Z,"DIV",{class:!0});var jt=c(G);st=r(jt,"DIV",{class:!0});var qt=c(st);nt=r(qt,"P",{class:!0,"data-svelte-h":!0}),et(nt)!=="svelte-2y45sf"&&(nt.textContent=pt),it=T(qt),dt=r(qt,"H5",{class:!0});var O=c(dt);kt=S(O,K),St=S(O," SAR"),O.forEach(n),qt.forEach(n),jt.forEach(n),Z.forEach(n),Ut.forEach(n),Pt=T(F),_t=r(F,"DIV",{class:!0});var x=c(_t);at=r(x,"DIV",{class:!0});var L=c(at);z=r(L,"DIV",{class:!0});var Yt=c(z);lt=r(Yt,"DIV",{class:!0});var Qt=c(lt);bt=r(Qt,"DIV",{});var Wt=c(bt);X=r(Wt,"A",{href:!0,class:!0,"data-svelte-h":!0}),et(X)!=="svelte-1exe4tu"&&(X.innerHTML=Ht),Wt.forEach(n),Qt.forEach(n),Yt.forEach(n),ct=T(L),Y=r(L,"DIV",{class:!0});var D=c(Y);rt=r(D,"DIV",{class:!0});var R=c(rt);ut=r(R,"DIV",{"data-svelte-h":!0}),et(ut)!=="svelte-lxj2re"&&(ut.textContent=Ft),wt=T(R),H=r(R,"H5",{class:!0});var Tt=c(H);Dt=S(Tt,ft),Nt=S(Tt," SAR"),Tt.forEach(n),R.forEach(n),D.forEach(n),L.forEach(n),x.forEach(n),F.forEach(n),this.h()},h(){Te(y.src,m=i[0].image.full_path)||e(y,"src",m),e(y,"alt",""),e(y,"class","img-fluid d-block"),e(f,"class","avatar-lg bg-light rounded p-1"),e(d,"class","col-sm-auto"),e(V,"href","ecommerce-product-detail.html"),e(V,"class","text-body"),e(g,"class","fs-14 text-truncate"),e(J,"class","fw-medium"),e(_,"class","list-inline-item"),e(b,"class","list-inline text-muted"),e(h,"type","button"),e(h,"class","minus"),e(w,"type","number"),e(w,"class","product-quantity"),e(w,"min","0"),e(w,"oninput","this.value = Math.abs(this.value)"),e(M,"type","button"),e(M,"class","plus"),e(P,"class","input-step step-primary"),e(v,"class","col-sm"),e(nt,"class","text-muted mb-1"),e(dt,"class","fs-14"),e(st,"class","text-lg-end"),e(G,"class","col-sm-auto"),e(s,"class","row gy-3"),e(o,"class","card-body"),e(X,"href","#"),e(X,"class","d-block text-body p-1 px-2"),e(lt,"class","d-flex flex-wrap my-n1"),e(z,"class","col-sm"),e(H,"class","fs-14 mb-0"),e(rt,"class","d-flex align-items-center gap-2 text-muted"),e(Y,"class","col-sm-auto"),e(at,"class","row align-items-center gy-3"),e(_t,"class","card-footer"),e(a,"class","card product")},m(N,F){Vt(N,a,F),t(a,o),t(o,s),t(s,d),t(d,f),t(f,y),t(s,u),t(s,v),t(v,g),t(g,V),t(V,U),t(v,q),t(v,b),t(b,_),t(_,mt),t(_,J),t(J,Q),t(v,W),t(v,P),t(P,h),t(P,C),t(P,w),Kt(w,i[0].qty),t(P,B),t(P,M),t(s,j),t(s,G),t(G,st),t(st,nt),t(st,it),t(st,dt),t(dt,kt),t(dt,St),t(a,Pt),t(a,_t),t(_t,at),t(at,z),t(z,lt),t(lt,bt),t(bt,X),t(at,ct),t(at,Y),t(Y,rt),t(rt,ut),t(rt,wt),t(rt,H),t(H,Dt),t(H,Nt),Rt||(vt=[Mt(h,"click",i[3]),Mt(w,"input",i[4]),Mt(M,"click",i[5]),Mt(X,"click",i[2])],Rt=!0)},p(N,[F]){F&1&&!Te(y.src,m=N[0].image.full_path)&&e(y,"src",m),F&1&&p!==(p=N[0].name+"")&&tt(U,p),F&1&&A!==(A=(N[0].category==null?"no category":N[0].category.name)+"")&&tt(Q,A),F&1&&Ne(w.value)!==N[0].qty&&Kt(w,N[0].qty),F&1&&K!==(K=N[0].currentPrice+"")&&tt(kt,K),F&1&&ft!==(ft=N[0].currentPrice*N[0].qty+"")&&tt(Dt,ft)},i:oe,o:oe,d(N){N&&n(a),Rt=!1,Re(vt)}}}function $e(i,a,o){let{product:s}=a;const d=Le();function f(g){s.qty+g<=0||o(0,s.qty+=g,s)}function y(){d("remove",{id:s.id})}const m=()=>f(-1);function u(){s.qty=Ne(this.value),o(0,s)}const v=()=>f(1);return i.$$set=g=>{"product"in g&&o(0,s=g.product)},[s,f,y,m,u,v]}class ts extends pe{constructor(a){super(),_e(this,a,$e,Ze,me,{product:0})}}function ke(i){let a,o=i[6].discount[0]+"",s;return{c(){a=l("strong"),s=k(o),this.h()},l(d){a=r(d,"STRONG",{class:!0});var f=c(a);s=S(f,o),f.forEach(n),this.h()},h(){e(a,"class","text-danger ms-1 my-2")},m(d,f){Vt(d,a,f),t(a,s)},p(d,f){f&64&&o!==(o=d[6].discount[0]+"")&&tt(s,o)},d(d){d&&n(a)}}}function Se(i){let a,o=i[6].tax[0]+"",s;return{c(){a=l("strong"),s=k(o),this.h()},l(d){a=r(d,"STRONG",{class:!0});var f=c(a);s=S(f,o),f.forEach(n),this.h()},h(){e(a,"class","text-danger ms-1 my-2")},m(d,f){Vt(d,a,f),t(a,s)},p(d,f){f&64&&o!==(o=d[6].tax[0]+"")&&tt(s,o)},d(d){d&&n(a)}}}function Ae(i){let a,o,s,d,f="Products",y,m=i[6].products[0]+"",u,v,g;return{c(){a=l("div"),o=l("i"),s=I(),d=l("strong"),d.textContent=f,y=k(" - "),u=k(m),v=I(),g=l("button"),this.h()},l(V){a=r(V,"DIV",{class:!0,role:!0});var p=c(a);o=r(p,"I",{class:!0}),c(o).forEach(n),s=T(p),d=r(p,"STRONG",{"data-svelte-h":!0}),et(d)!=="svelte-iib4gg"&&(d.textContent=f),y=S(p," - "),u=S(p,m),v=T(p),g=r(p,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),c(g).forEach(n),p.forEach(n),this.h()},h(){e(o,"class","ri-error-warning-line me-3 align-middle"),e(g,"type","button"),e(g,"class","btn-close"),e(g,"data-bs-dismiss","alert"),e(g,"aria-label","Close"),e(a,"class","alert alert-danger alert-border-left alert-dismissible fade show mt-3"),e(a,"role","alert")},m(V,p){Vt(V,a,p),t(a,o),t(a,s),t(a,d),t(a,y),t(a,u),t(a,v),t(a,g)},p(V,p){p&64&&m!==(m=V[6].products[0]+"")&&tt(u,m)},d(V){V&&n(a)}}}function es(i){var Yt,Qt,Wt;let a,o,s,d,f='<h5 class="card-title mb-0">Order Summary</h5>',y,m,u,v,g="Discount %",V,p,U,q,b,_,mt="Tax %",J,A,Q,W,P,h,E,C,w,B,M="Sub Total :",ot,j,G,st,nt,pt,it,dt,K,kt,St,Pt,_t,at,z,lt=(isNaN(parseFloat(i[1]*(i[0]/100)))?"unset":parseFloat(i[1]*(i[0]/100)).toFixed(3))+"",bt,X,Ht,ct,Y,rt,ut,Ft,wt,H,ft=(isNaN(i[4])?"unset":i[4].toFixed(3))+"",Dt,Nt,Rt,vt,N,F="Total (SAR) :",Ut,Z,ht,Lt,gt,Bt,Ot,It,Et,$,yt,jt,qt,O=((Yt=i[6])==null?void 0:Yt.discount)&&ke(i),x=((Qt=i[6])==null?void 0:Qt.tax)&&Se(i),L=((Wt=i[6])==null?void 0:Wt.products)&&Ae(i);return{c(){a=l("div"),o=l("div"),s=l("div"),d=l("div"),d.innerHTML=f,y=I(),m=l("div"),u=l("div"),v=l("label"),v.textContent=g,V=I(),p=l("input"),U=I(),O&&O.c(),q=I(),b=l("div"),_=l("label"),_.textContent=mt,J=I(),A=l("input"),Q=I(),x&&x.c(),W=I(),P=l("div"),h=l("div"),E=l("table"),C=l("tbody"),w=l("tr"),B=l("td"),B.textContent=M,ot=I(),j=l("td"),G=k(i[0]),st=k(" SAR"),nt=I(),pt=l("tr"),it=l("td"),dt=k("Discount "),K=l("span"),kt=k("("),St=k(i[1]),Pt=k("%)"),_t=k(" :"),at=I(),z=l("td"),bt=k(lt),X=k(" SAR"),Ht=I(),ct=l("tr"),Y=l("td"),rt=k("Estimated Tax ("),ut=k(i[2]),Ft=k("%) :"),wt=I(),H=l("td"),Dt=k(ft),Nt=k(" SAR"),Rt=I(),vt=l("tr"),N=l("th"),N.textContent=F,Ut=I(),Z=l("td"),ht=l("span"),Lt=k(i[3]),gt=k(" SAR"),Bt=I(),L&&L.c(),Ot=I(),It=l("div"),Et=l("div"),$=l("button"),yt=k("Checkout"),this.h()},l(D){a=r(D,"DIV",{class:!0});var R=c(a);o=r(R,"DIV",{class:!0});var Tt=c(o);s=r(Tt,"DIV",{class:!0});var Ct=c(s);d=r(Ct,"DIV",{class:!0,"data-svelte-h":!0}),et(d)!=="svelte-1y5tcqw"&&(d.innerHTML=f),y=T(Ct),m=r(Ct,"DIV",{class:!0});var xt=c(m);u=r(xt,"DIV",{class:!0});var Gt=c(u);v=r(Gt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),et(v)!=="svelte-beo7gl"&&(v.textContent=g),V=T(Gt),p=r(Gt,"INPUT",{type:!0,class:!0,name:!0,id:!0,placeholder:!0}),U=T(Gt),O&&O.l(Gt),Gt.forEach(n),q=T(xt),b=r(xt,"DIV",{});var zt=c(b);_=r(zt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),et(_)!=="svelte-2mhqwb"&&(_.textContent=mt),J=T(zt),A=r(zt,"INPUT",{type:!0,class:!0,name:!0,id:!0,placeholder:!0}),Q=T(zt),x&&x.l(zt),zt.forEach(n),xt.forEach(n),W=T(Ct),P=r(Ct,"DIV",{class:!0});var Jt=c(P);h=r(Jt,"DIV",{class:!0});var be=c(h);E=r(be,"TABLE",{class:!0});var ge=c(E);C=r(ge,"TBODY",{});var At=c(C);w=r(At,"TR",{});var Xt=c(w);B=r(Xt,"TD",{"data-svelte-h":!0}),et(B)!=="svelte-pfaxes"&&(B.textContent=M),ot=T(Xt),j=r(Xt,"TD",{class:!0,id:!0});var ne=c(j);G=S(ne,i[0]),st=S(ne," SAR"),ne.forEach(n),Xt.forEach(n),nt=T(At),pt=r(At,"TR",{});var Zt=c(pt);it=r(Zt,"TD",{});var $t=c(it);dt=S($t,"Discount "),K=r($t,"SPAN",{class:!0});var te=c(K);kt=S(te,"("),St=S(te,i[1]),Pt=S(te,"%)"),te.forEach(n),_t=S($t," :"),$t.forEach(n),at=T(Zt),z=r(Zt,"TD",{class:!0,id:!0});var ie=c(z);bt=S(ie,lt),X=S(ie," SAR"),ie.forEach(n),Zt.forEach(n),Ht=T(At),ct=r(At,"TR",{});var ee=c(ct);Y=r(ee,"TD",{});var se=c(Y);rt=S(se,"Estimated Tax ("),ut=S(se,i[2]),Ft=S(se,"%) :"),se.forEach(n),wt=T(ee),H=r(ee,"TD",{class:!0,id:!0});var de=c(H);Dt=S(de,ft),Nt=S(de," SAR"),de.forEach(n),ee.forEach(n),Rt=T(At),vt=r(At,"TR",{class:!0});var ae=c(vt);N=r(ae,"TH",{"data-svelte-h":!0}),et(N)!=="svelte-w5xebh"&&(N.textContent=F),Ut=T(ae),Z=r(ae,"TD",{class:!0});var Ee=c(Z);ht=r(Ee,"SPAN",{class:!0,id:!0});var ce=c(ht);Lt=S(ce,i[3]),gt=S(ce," SAR"),ce.forEach(n),Ee.forEach(n),ae.forEach(n),At.forEach(n),ge.forEach(n),be.forEach(n),Bt=T(Jt),L&&L.l(Jt),Ot=T(Jt),It=r(Jt,"DIV",{class:!0});var ye=c(It);Et=r(ye,"DIV",{class:!0});var De=c(Et);$=r(De,"BUTTON",{type:!0,class:!0});var Ie=c($);yt=S(Ie,"Checkout"),Ie.forEach(n),De.forEach(n),ye.forEach(n),Jt.forEach(n),Ct.forEach(n),Tt.forEach(n),R.forEach(n),this.h()},h(){e(d,"class","card-header border-bottom-dashed"),e(v,"for","name"),e(v,"class","form-label"),e(p,"type","text"),e(p,"class","form-control"),e(p,"name","discount"),e(p,"id","firstName"),e(p,"placeholder","Enter Discount Percentage "),e(u,"class","mb-3"),e(_,"for","name"),e(_,"class","form-label"),e(A,"type","text"),e(A,"class","form-control"),e(A,"name","tax"),e(A,"id","firstName"),e(A,"placeholder","Enter Tax Percentage "),e(m,"class","card-header border-bottom-dashed"),e(j,"class","text-end"),e(j,"id","cart-subtotal"),e(K,"class","text-muted"),e(z,"class","text-end"),e(z,"id","cart-discount"),e(H,"class","text-end"),e(H,"id","cart-tax"),e(ht,"class","fw-semibold"),e(ht,"id","cart-total"),e(Z,"class","text-end"),e(vt,"class","table-active"),e(E,"class","table table-borderless mb-0"),e(h,"class","table-responsive"),e($,"type","button"),e($,"class","btn btn-primary waves-effect waves-light"),$.disabled=i[5],e(Et,"class","hstack gap-2 justify-content-end"),e(It,"class","row g-3 mt-2 "),e(P,"class","card-body pt-2"),e(s,"class","card"),e(o,"class","sticky-side-div"),e(a,"class","col-xl-4")},m(D,R){Vt(D,a,R),t(a,o),t(o,s),t(s,d),t(s,y),t(s,m),t(m,u),t(u,v),t(u,V),t(u,p),Kt(p,i[1]),t(u,U),O&&O.m(u,null),t(m,q),t(m,b),t(b,_),t(b,J),t(b,A),Kt(A,i[2]),t(b,Q),x&&x.m(b,null),t(s,W),t(s,P),t(P,h),t(h,E),t(E,C),t(C,w),t(w,B),t(w,ot),t(w,j),t(j,G),t(j,st),t(C,nt),t(C,pt),t(pt,it),t(it,dt),t(it,K),t(K,kt),t(K,St),t(K,Pt),t(it,_t),t(pt,at),t(pt,z),t(z,bt),t(z,X),t(C,Ht),t(C,ct),t(ct,Y),t(Y,rt),t(Y,ut),t(Y,Ft),t(ct,wt),t(ct,H),t(H,Dt),t(H,Nt),t(C,Rt),t(C,vt),t(vt,N),t(vt,Ut),t(vt,Z),t(Z,ht),t(ht,Lt),t(ht,gt),t(P,Bt),L&&L.m(P,null),t(P,Ot),t(P,It),t(It,Et),t(Et,$),t($,yt),jt||(qt=[Mt(p,"input",i[9]),Mt(A,"input",i[10]),Mt($,"click",i[7])],jt=!0)},p(D,[R]){var Tt,Ct,xt;R&2&&p.value!==D[1]&&Kt(p,D[1]),(Tt=D[6])!=null&&Tt.discount?O?O.p(D,R):(O=ke(D),O.c(),O.m(u,null)):O&&(O.d(1),O=null),R&4&&A.value!==D[2]&&Kt(A,D[2]),(Ct=D[6])!=null&&Ct.tax?x?x.p(D,R):(x=Se(D),x.c(),x.m(b,null)):x&&(x.d(1),x=null),R&1&&tt(G,D[0]),R&2&&tt(St,D[1]),R&3&&lt!==(lt=(isNaN(parseFloat(D[1]*(D[0]/100)))?"unset":parseFloat(D[1]*(D[0]/100)).toFixed(3))+"")&&tt(bt,lt),R&4&&tt(ut,D[2]),R&16&&ft!==(ft=(isNaN(D[4])?"unset":D[4].toFixed(3))+"")&&tt(Dt,ft),R&8&&tt(Lt,D[3]),(xt=D[6])!=null&&xt.products?L?L.p(D,R):(L=Ae(D),L.c(),L.m(P,Ot)):L&&(L.d(1),L=null),R&32&&($.disabled=D[5])},i:oe,o:oe,d(D){D&&n(a),O&&O.d(),x&&x.d(),L&&L.d(),jt=!1,Re(qt)}}}function ss(i,a,o){let s;Oe(i,Ye,b=>o(11,s=b));let{productsList:d=[]}=a,f=0,y=0,m=0,u=0,v=0,g=!1,V={};async function p(){o(6,V={}),o(5,g=!0);let b=new FormData;b.set("products",JSON.stringify(d)),m&&b.set("tax",m),y&&b.set("discount",y);let _=await fetch(ze(s.params.canteenId),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:b});Ke(_),_=await _.json(),_.status=="success"?(Je("Added a new Order","success"),Ge(`/admin/orders/${_.data.id}?canteen=${s.params.canteenId}`),o(6,V={})):o(6,V=_.errors),o(5,g=!1)}function U(){y=this.value,o(1,y)}function q(){m=this.value,o(2,m)}return i.$$set=b=>{"productsList"in b&&o(8,d=b.productsList)},i.$$.update=()=>{i.$$.dirty&256&&o(0,f=d.reduce((b,_)=>b+_.currentPrice*_.qty,0)),i.$$.dirty&7&&o(3,[u,v]=je({subtotal:f,tax:m,coupon:{id:1,discount:y}}),u,(o(4,v),o(0,f),o(2,m),o(1,y),o(8,d)))},[f,y,m,u,v,g,V,p,d,U,q]}class as extends pe{constructor(a){super(),_e(this,a,ss,es,me,{productsList:8})}}function Pe(i,a,o){const s=i.slice();return s[4]=a[o],s[5]=a,s[6]=o,s}function we(i,a){let o,s,d,f;function y(u){a[3](u,a[4],a[5],a[6])}let m={};return a[4]!==void 0&&(m.product=a[4]),s=new ts({props:m}),qe.push(()=>He(s,"product",y)),s.$on("remove",a[2]),{key:i,first:null,c(){o=Ce(),ue(s.$$.fragment),this.h()},l(u){o=Ce(),fe(s.$$.fragment,u),this.h()},h(){this.first=o},m(u,v){Vt(u,o,v),ve(s,u,v),f=!0},p(u,v){a=u;const g={};!d&&v&1&&(d=!0,g.product=a[4],xe(()=>d=!1)),s.$set(g)},i(u){f||(le(s.$$.fragment,u),f=!0)},o(u){re(s.$$.fragment,u),f=!1},d(u){u&&n(o),he(s,u)}}}function ls(i){let a,o,s,d,f,y="Orders Managment",m,u,v,g='<i class="ri-add-line align-bottom me-1"></i>Add Product',V,p,U,q,b,_=[],mt=new Map,J,A,Q;p=new Qe({}),p.$on("select",i[1]);let W=Ve(i[0]);const P=h=>h[4].id;for(let h=0;h<W.length;h+=1){let E=Pe(i,W,h),C=P(E);mt.set(C,_[h]=we(C,E))}return A=new as({props:{productsList:i[0]}}),{c(){a=l("div"),o=l("div"),s=l("div"),d=l("div"),f=l("h4"),f.textContent=y,m=I(),u=l("div"),v=l("button"),v.innerHTML=g,V=I(),ue(p.$$.fragment),U=I(),q=l("div"),b=l("div");for(let h=0;h<_.length;h+=1)_[h].c();J=I(),ue(A.$$.fragment),this.h()},l(h){a=r(h,"DIV",{class:!0});var E=c(a);o=r(E,"DIV",{class:!0});var C=c(o);s=r(C,"DIV",{class:!0});var w=c(s);d=r(w,"DIV",{class:!0});var B=c(d);f=r(B,"H4",{class:!0,"data-svelte-h":!0}),et(f)!=="svelte-177umtu"&&(f.textContent=y),m=T(B),u=r(B,"DIV",{class:!0});var M=c(u);v=r(M,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),et(v)!=="svelte-1smpc22"&&(v.innerHTML=g),V=T(M),fe(p.$$.fragment,M),M.forEach(n),B.forEach(n),w.forEach(n),C.forEach(n),E.forEach(n),U=T(h),q=r(h,"DIV",{class:!0});var ot=c(q);b=r(ot,"DIV",{class:!0});var j=c(b);for(let G=0;G<_.length;G+=1)_[G].l(j);j.forEach(n),J=T(ot),fe(A.$$.fragment,ot),ot.forEach(n),this.h()},h(){e(f,"class","card-title mb-0 flex-grow-1"),e(v,"type","button"),e(v,"data-bs-toggle","modal"),e(v,"data-bs-target","#addProductToCartModal"),e(v,"class","btn btn-primary waves-effect waves-light"),e(u,"class","flex-shrink-0"),e(d,"class","card-header align-items-center d-flex"),e(s,"class","card"),e(o,"class","col-lg-12"),e(a,"class","row"),e(b,"class","col-xl-8"),e(q,"class","row mb-3")},m(h,E){Vt(h,a,E),t(a,o),t(o,s),t(s,d),t(d,f),t(d,m),t(d,u),t(u,v),t(u,V),ve(p,u,null),Vt(h,U,E),Vt(h,q,E),t(q,b);for(let C=0;C<_.length;C+=1)_[C]&&_[C].m(b,null);t(q,J),ve(A,q,null),Q=!0},p(h,[E]){E&5&&(W=Ve(h[0]),Fe(),_=Ue(_,E,P,1,h,W,mt,b,Be,we,null,Pe),Me());const C={};E&1&&(C.productsList=h[0]),A.$set(C)},i(h){if(!Q){le(p.$$.fragment,h);for(let E=0;E<W.length;E+=1)le(_[E]);le(A.$$.fragment,h),Q=!0}},o(h){re(p.$$.fragment,h);for(let E=0;E<_.length;E+=1)re(_[E]);re(A.$$.fragment,h),Q=!1},d(h){h&&(n(a),n(U),n(q)),he(p);for(let E=0;E<_.length;E+=1)_[E].d();he(A)}}}function rs(i,a,o){let s=[];function d(m){const u=s.findIndex(v=>v.id==m.detail.product.id);u!=-1?o(0,s[u].qty++,s):(m.detail.product.qty=1,o(0,s=[...s,m.detail.product]))}function f(m){o(0,s=s.filter(u=>u.id!==m.detail.id))}function y(m,u,v,g){v[g]=m,o(0,s)}return[s,d,f,y]}class ps extends pe{constructor(a){super(),_e(this,a,rs,ls,me,{})}}export{ps as component,ms as universal};
