import{aN as rt,D as ot,aO as it,aP as ct,aQ as dt}from"../chunks/paths.29c5142d.js";import{a as we}from"../chunks/auth.82ff8344.js";import{s as he,f as m,a as A,l as J,g as v,h as w,z as ee,c as N,d as f,m as q,j as c,E as ie,W as Ce,k as ke,B as ce,i as z,C as o,F as ue,Q as Xe,n as Z,A as pe,G as Ze,T as Ue,y as Ee,p as _e,I as ft,e as Pe,J as ut,D as Me,P as ht,o as xe,R as Ve,S as et,H as mt}from"../chunks/scheduler.726ac76d.js";import{S as me,i as ve,b as le,d as ae,m as ne,a as W,g as De,t as K,c as Te,e as re,h as tt,f as vt}from"../chunks/index.8a5ed380.js";import{g as Se,a as Le}from"../chunks/spread.8a54911c.js";import{P as pt}from"../chunks/Pagination.0a529dad.js";import"../chunks/paths.7846b4ff.js";import{e as ge}from"../chunks/each.381f634d.js";import{t as st}from"../chunks/toast.aca1940a.js";import{i as lt,f as $e}from"../chunks/utils.5f096ebf.js";import{V as be}from"../chunks/ViewRow.487fb326.js";import"../chunks/index.93323930.js";import{w as _t}from"../chunks/singletons.df66ea99.js";import{n as gt}from"../chunks/stores.1008b3f8.js";import{M as at,a as nt}from"../chunks/ModalPagination.ba1b79f6.js";import{A as bt}from"../chunks/Accordion.adfb252c.js";import{f as $t}from"../chunks/index.955fed47.js";import{i as wt}from"../chunks/initToolTip.b2308c6a.js";const Et=!1;async function Dt({fetch:r,url:e,params:s,depends:t}){t("canteenUsers:refresh");let l=await r(rt(s.userId,ot(e)),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return we(l),{canteenUsersResponse:await l.json(),tabTitle:"User's Canteens"}}const $s=Object.freeze(Object.defineProperty({__proto__:null,load:Dt,ssr:Et},Symbol.toStringTag,{value:"Module"}));function je(r){let e,s='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=m("div"),e.innerHTML=s,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ei7695"&&(e.innerHTML=s),this.h()},h(){c(e,"class","mt-2")},m(t,l){z(t,e,l)},d(t){t&&f(e)}}}function Tt(r){var U;let e,s,t,l,n,a='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',h,d,p,g,u,E,D,_,I="Are you Sure ?",T,i,S,L,b=`${r[2].name} #${(U=r[2].pivot)==null?void 0:U.id}`,$,H,R,C,k,j="Close",G,M,P="Delete",B,F,V=r[1]&&je();return{c(){e=m("div"),s=m("div"),t=m("div"),l=m("div"),n=m("div"),n.innerHTML=a,h=A(),V&&V.c(),d=A(),p=m("div"),g=m("form"),u=m("lord-icon"),D=A(),_=m("h4"),_.textContent=I,T=A(),i=m("p"),S=J("Are you Sure You want to Delete "),L=m("span"),$=J(b),H=J(" ?"),R=A(),C=m("div"),k=m("button"),k.textContent=j,G=A(),M=m("button"),M.textContent=P,this.h()},l(O){e=v(O,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var y=w(e);s=v(y,"DIV",{class:!0});var Y=w(s);t=v(Y,"DIV",{class:!0});var X=w(t);l=v(X,"DIV",{class:!0});var x=w(l);n=v(x,"DIV",{class:!0,"data-svelte-h":!0}),ee(n)!=="svelte-3pipod"&&(n.innerHTML=a),h=N(x),V&&V.l(x),d=N(x),p=v(x,"DIV",{class:!0});var te=w(p);g=v(te,"FORM",{});var Q=w(g);u=v(Q,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),w(u).forEach(f),D=N(Q),_=v(Q,"H4",{class:!0,"data-svelte-h":!0}),ee(_)!=="svelte-1s07vlj"&&(_.textContent=I),T=N(Q),i=v(Q,"P",{class:!0});var se=w(i);S=q(se,"Are you Sure You want to Delete "),L=v(se,"SPAN",{class:!0});var oe=w(L);$=q(oe,b),oe.forEach(f),H=q(se," ?"),se.forEach(f),R=N(Q),C=v(Q,"DIV",{class:!0});var de=w(C);k=v(de,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),ee(k)!=="svelte-1h5uvws"&&(k.textContent=j),G=N(de),M=v(de,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ee(M)!=="svelte-iuig3c"&&(M.textContent=P),de.forEach(f),Q.forEach(f),te.forEach(f),x.forEach(f),X.forEach(f),Y.forEach(f),y.forEach(f),this.h()},h(){c(n,"class","text-end"),ie(u.src,E="https://cdn.lordicon.com/gsqxdxog.json")||Ce(u,"src",E),Ce(u,"trigger","loop"),Ce(u,"colors","primary:#f7b84b,secondary:#f06548"),ke(u,"width","100px"),ke(u,"height","100px"),c(_,"class","mb-3 mt-4"),c(L,"class","text-primary"),c(i,"class","text-muted fs-15 mb-4"),c(k,"type","button"),c(k,"class","btn btn-light fw-light"),c(k,"data-bs-dismiss","modal"),c(M,"type","button"),c(M,"class","btn btn-danger waves-effect waves-light"),c(C,"class","hstack gap-2 justify-content-center"),ce(g,"d-none",r[1]),c(p,"class","mt-2"),ce(p,"d-none",r[1]),c(l,"class","modal-body text-center p-5"),c(t,"class","modal-content"),c(s,"class","modal-dialog modal-dialog-centered"),c(e,"id","deleteCanteenUserModal"),c(e,"class","modal fade"),c(e,"tabindex","-1"),c(e,"aria-hidden","true"),ke(e,"display","none")},m(O,y){z(O,e,y),o(e,s),o(s,t),o(t,l),o(l,n),o(l,h),V&&V.m(l,null),o(l,d),o(l,p),o(p,g),o(g,u),o(g,D),o(g,_),o(g,T),o(g,i),o(i,S),o(i,L),o(L,$),o(i,H),o(g,R),o(g,C),o(C,k),r[5](k),o(C,G),o(C,M),B||(F=[ue(M,"click",r[4]),ue(g,"submit",Xe(r[4]))],B=!0)},p(O,[y]){var Y;O[1]?V||(V=je(),V.c(),V.m(l,d)):V&&(V.d(1),V=null),y&4&&b!==(b=`${O[2].name} #${(Y=O[2].pivot)==null?void 0:Y.id}`)&&Z($,b),y&2&&ce(g,"d-none",O[1]),y&2&&ce(p,"d-none",O[1])},i:pe,o:pe,d(O){O&&f(e),V&&V.d(),r[5](null),B=!1,Ze(F)}}}function It(r,e,s){let t,l,n=!1,{canteenUserStore:a}=Ue("canteenUserStore");Ee(r,a,p=>s(2,t=p));async function h(){var g;s(1,n=!0);let p=await fetch(it((g=t.pivot)==null?void 0:g.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"DELETE"});if(we(p),p=await p.json(),s(1,n=!1),p.status=="success"){l.click();let u=`Deleted ${t.name} #${t.id}`;st(u,"success"),lt("canteenUsers:refresh")}}function d(p){_e[p?"unshift":"push"](()=>{l=p,s(0,l)})}return[l,n,t,a,h,d]}class Ct extends me{constructor(e){super(),ve(this,e,It,Tt,he,{})}}function kt(r){let e,s,t=r[1].name+"",l;return{c(){e=J("Name : "),s=m("span"),l=J(t),this.h()},l(n){e=q(n,"Name : "),s=v(n,"SPAN",{class:!0});var a=w(s);l=q(a,t),a.forEach(f),this.h()},h(){c(s,"class","fw-normal")},m(n,a){z(n,e,a),z(n,s,a),o(s,l)},p(n,a){a&2&&t!==(t=n[1].name+"")&&Z(l,t)},d(n){n&&(f(e),f(s))}}}function Oe(r){let e,s;return e=new be({props:{$$slots:{default:[Ut]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},l(t){ae(e.$$.fragment,t)},m(t,l){ne(e,t,l),s=!0},p(t,l){const n={};l&10&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){K(e.$$.fragment,t),s=!1},d(t){re(e,t)}}}function Ut(r){var h,d;let e,s,t,l,n=((d=(h=r[1])==null?void 0:h.school)==null?void 0:d.name)+"",a;return{c(){e=J(`School :      
                        `),s=m("img"),l=A(),a=J(n),this.h()},l(p){e=q(p,`School :      
                        `),s=v(p,"IMG",{src:!0,alt:!0,class:!0}),l=N(p),a=q(p,n),this.h()},h(){var p,g,u;ie(s.src,t=(u=(g=(p=r[1])==null?void 0:p.school)==null?void 0:g.logo)==null?void 0:u.full_path)||c(s,"src",t),c(s,"alt",""),c(s,"class","avatar-xs rounded-circle")},m(p,g){z(p,e,g),z(p,s,g),z(p,l,g),z(p,a,g)},p(p,g){var u,E,D,_,I;g&2&&!ie(s.src,t=(D=(E=(u=p[1])==null?void 0:u.school)==null?void 0:E.logo)==null?void 0:D.full_path)&&c(s,"src",t),g&2&&n!==(n=((I=(_=p[1])==null?void 0:_.school)==null?void 0:I.name)+"")&&Z(a,n)},d(p){p&&(f(e),f(s),f(l),f(a))}}}function Mt(r){let e,s,t=r[1].address+"",l;return{c(){e=J("Address : "),s=m("span"),l=J(t),this.h()},l(n){e=q(n,"Address : "),s=v(n,"SPAN",{class:!0});var a=w(s);l=q(a,t),a.forEach(f),this.h()},h(){c(s,"class","fw-normal")},m(n,a){z(n,e,a),z(n,s,a),o(s,l)},p(n,a){a&2&&t!==(t=n[1].address+"")&&Z(l,t)},d(n){n&&(f(e),f(s))}}}function Vt(r){let e,s,t=$e(r[1].created_at)+"",l;return{c(){e=J("Created at : "),s=m("span"),l=J(t),this.h()},l(n){e=q(n,"Created at : "),s=v(n,"SPAN",{class:!0});var a=w(s);l=q(a,t),a.forEach(f),this.h()},h(){c(s,"class","fw-normal")},m(n,a){z(n,e,a),z(n,s,a),o(s,l)},p(n,a){a&2&&t!==(t=$e(n[1].created_at)+"")&&Z(l,t)},d(n){n&&(f(e),f(s))}}}function St(r){let e,s,t=$e(r[1].updated_at)+"",l;return{c(){e=J("Updated at : "),s=m("span"),l=J(t),this.h()},l(n){e=q(n,"Updated at : "),s=v(n,"SPAN",{class:!0});var a=w(s);l=q(a,t),a.forEach(f),this.h()},h(){c(s,"class","fw-normal")},m(n,a){z(n,e,a),z(n,s,a),o(s,l)},p(n,a){a&2&&t!==(t=$e(n[1].updated_at)+"")&&Z(l,t)},d(n){n&&(f(e),f(s))}}}function Lt(r){let e,s,t,l,n='<h5 class="modal-title" id="exampleModalgridLabel">View Permission</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',a,h,d,p,g,u,E,D,_,I,T,i,S='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>',L;d=new be({props:{$$slots:{default:[kt]},$$scope:{ctx:r}}});let b=r[0]&&Oe(r);return u=new be({props:{$$slots:{default:[Mt]},$$scope:{ctx:r}}}),D=new be({props:{$$slots:{default:[Vt]},$$scope:{ctx:r}}}),I=new be({props:{$$slots:{default:[St]},$$scope:{ctx:r}}}),{c(){e=m("div"),s=m("div"),t=m("div"),l=m("div"),l.innerHTML=n,a=A(),h=m("div"),le(d.$$.fragment),p=A(),b&&b.c(),g=A(),le(u.$$.fragment),E=A(),le(D.$$.fragment),_=A(),le(I.$$.fragment),T=A(),i=m("div"),i.innerHTML=S,this.h()},l($){e=v($,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var H=w(e);s=v(H,"DIV",{class:!0});var R=w(s);t=v(R,"DIV",{class:!0});var C=w(t);l=v(C,"DIV",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-fwqd2z"&&(l.innerHTML=n),a=N(C),h=v(C,"DIV",{class:!0});var k=w(h);ae(d.$$.fragment,k),p=N(k),b&&b.l(k),g=N(k),ae(u.$$.fragment,k),E=N(k),ae(D.$$.fragment,k),_=N(k),ae(I.$$.fragment,k),T=N(k),i=v(k,"DIV",{class:!0,"data-svelte-h":!0}),ee(i)!=="svelte-1vrqtk3"&&(i.innerHTML=S),k.forEach(f),C.forEach(f),R.forEach(f),H.forEach(f),this.h()},h(){c(l,"class","modal-header"),c(i,"class","hstack gap-2 justify-content-end"),c(h,"class","modal-body p-4"),c(t,"class","modal-content"),c(s,"class","modal-dialog modal-dialog-centered"),c(e,"class","modal fade"),c(e,"id","viewCanteenUserModal"),c(e,"tabindex","-1"),c(e,"aria-labelledby","exampleModalgridLabel"),c(e,"aria-modal","true")},m($,H){z($,e,H),o(e,s),o(s,t),o(t,l),o(t,a),o(t,h),ne(d,h,null),o(h,p),b&&b.m(h,null),o(h,g),ne(u,h,null),o(h,E),ne(D,h,null),o(h,_),ne(I,h,null),o(h,T),o(h,i),L=!0},p($,[H]){const R={};H&10&&(R.$$scope={dirty:H,ctx:$}),d.$set(R),$[0]?b?(b.p($,H),H&1&&W(b,1)):(b=Oe($),b.c(),W(b,1),b.m(h,g)):b&&(De(),K(b,1,1,()=>{b=null}),Te());const C={};H&10&&(C.$$scope={dirty:H,ctx:$}),u.$set(C);const k={};H&10&&(k.$$scope={dirty:H,ctx:$}),D.$set(k);const j={};H&10&&(j.$$scope={dirty:H,ctx:$}),I.$set(j)},i($){L||(W(d.$$.fragment,$),W(b),W(u.$$.fragment,$),W(D.$$.fragment,$),W(I.$$.fragment,$),L=!0)},o($){K(d.$$.fragment,$),K(b),K(u.$$.fragment,$),K(D.$$.fragment,$),K(I.$$.fragment,$),L=!1},d($){$&&f(e),re(d),b&&b.d(),re(u),re(D),re(I)}}}function Ht(r,e,s){let t,{canteenUserStore:l}=Ue("canteenUserStore");Ee(r,l,a=>s(1,t=a));let{general:n}=e;return r.$$set=a=>{"general"in a&&s(0,n=a.general)},[n,t,l]}class yt extends me{constructor(e){super(),ve(this,e,Ht,Lt,he,{general:0})}}function At(r){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="View"><i class="ri-eye-fill"></i></a>',t,l;return{c(){e=m("span"),e.innerHTML=s,this.h()},l(n){e=v(n,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),ee(e)!=="svelte-1akv4c5"&&(e.innerHTML=s),this.h()},h(){c(e,"data-bs-toggle","modal"),c(e,"data-bs-target","#viewCanteenUserModal")},m(n,a){z(n,e,a),t||(l=ue(e,"click",r[2]),t=!0)},p:pe,d(n){n&&f(e),t=!1,l()}}}function Nt(r){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Delete"><i class="ri-delete-bin-line"></i></a>',t,l;return{c(){e=m("span"),e.innerHTML=s,this.h()},l(n){e=v(n,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),ee(e)!=="svelte-bqiin6"&&(e.innerHTML=s),this.h()},h(){c(e,"data-bs-toggle","modal"),c(e,"data-bs-target","#deleteCanteenUserModal")},m(n,a){z(n,e,a),t||(l=ue(e,"click",r[2]),t=!0)},p:pe,d(n){n&&f(e),t=!1,l()}}}function Pt(r){let e,s,t='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',l,n,a=r[0].pivot.id+"",h,d,p,g=r[0].name+"",u,E,D,_,I,T,i,S,L,b=r[0].school.name+"",$,H,R,C=r[0].address+"",k,j,G,M,P=JSON.parse(sessionStorage.getItem("permissions")).includes("canteenUsers.show"),B,F=JSON.parse(sessionStorage.getItem("permissions")).includes("canteenUsers.destroy"),V=P&&At(r),U=F&&Nt(r);return{c(){e=m("tr"),s=m("td"),s.innerHTML=t,l=A(),n=m("td"),h=J(a),d=A(),p=m("td"),u=J(g),E=A(),D=m("td"),_=m("div"),I=m("div"),T=m("img"),S=A(),L=m("div"),$=J(b),H=A(),R=m("td"),k=J(C),j=A(),G=m("td"),M=m("div"),V&&V.c(),B=A(),U&&U.c(),this.h()},l(O){e=v(O,"TR",{scope:!0});var y=w(e);s=v(y,"TD",{"data-svelte-h":!0}),ee(s)!=="svelte-1z5pzi"&&(s.innerHTML=t),l=N(y),n=v(y,"TD",{});var Y=w(n);h=q(Y,a),Y.forEach(f),d=N(y),p=v(y,"TD",{});var X=w(p);u=q(X,g),X.forEach(f),E=N(y),D=v(y,"TD",{});var x=w(D);_=v(x,"DIV",{class:!0});var te=w(_);I=v(te,"DIV",{class:!0});var Q=w(I);T=v(Q,"IMG",{src:!0,alt:!0,class:!0}),Q.forEach(f),S=N(te),L=v(te,"DIV",{class:!0});var se=w(L);$=q(se,b),se.forEach(f),te.forEach(f),x.forEach(f),H=N(y),R=v(y,"TD",{});var oe=w(R);k=q(oe,C),oe.forEach(f),j=N(y),G=v(y,"TD",{});var de=w(G);M=v(de,"DIV",{class:!0});var fe=w(M);V&&V.l(fe),B=N(fe),U&&U.l(fe),fe.forEach(f),de.forEach(f),y.forEach(f),this.h()},h(){ie(T.src,i=r[0].school.logo.full_path)||c(T,"src",i),c(T,"alt",""),c(T,"class","avatar-xs rounded-circle"),c(I,"class","flex-shrink-0"),c(L,"class","flex-grow-1"),c(_,"class","d-flex gap-2 align-items-center"),c(M,"class","hstack gap-3 flex-wrap"),c(e,"scope","row")},m(O,y){z(O,e,y),o(e,s),o(e,l),o(e,n),o(n,h),o(e,d),o(e,p),o(p,u),o(e,E),o(e,D),o(D,_),o(_,I),o(I,T),o(_,S),o(_,L),o(L,$),o(e,H),o(e,R),o(R,k),o(e,j),o(e,G),o(G,M),V&&V.m(M,null),o(M,B),U&&U.m(M,null)},p(O,[y]){y&1&&a!==(a=O[0].pivot.id+"")&&Z(h,a),y&1&&g!==(g=O[0].name+"")&&Z(u,g),y&1&&!ie(T.src,i=O[0].school.logo.full_path)&&c(T,"src",i),y&1&&b!==(b=O[0].school.name+"")&&Z($,b),y&1&&C!==(C=O[0].address+"")&&Z(k,C),P&&V.p(O,y),F&&U.p(O,y)},i:pe,o:pe,d(O){O&&f(e),V&&V.d(),U&&U.d()}}}function jt(r,e,s){let t,{canteenUser:l}=e,{canteenUserStore:n}=Ue("canteenUserStore");Ee(r,n,h=>s(3,t=h));function a(){ft(n,t=JSON.parse(JSON.stringify(l)),t)}return r.$$set=h=>{"canteenUser"in h&&s(0,l=h.canteenUser)},[l,n,a]}class Ot extends me{constructor(e){super(),ve(this,e,jt,Pt,he,{canteenUser:0})}}function Re(r,e,s){const t=r.slice();return t[2]=e[s],t}function Be(r){let e,s,t=ge(r[0]),l=[];for(let a=0;a<t.length;a+=1)l[a]=Ge(Re(r,t,a));const n=a=>K(l[a],1,1,()=>{l[a]=null});return{c(){e=m("tbody");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=v(a,"TBODY",{class:!0});var h=w(e);for(let d=0;d<l.length;d+=1)l[d].l(h);h.forEach(f),this.h()},h(){c(e,"class","list")},m(a,h){z(a,e,h);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);s=!0},p(a,h){if(h&1){t=ge(a[0]);let d;for(d=0;d<t.length;d+=1){const p=Re(a,t,d);l[d]?(l[d].p(p,h),W(l[d],1)):(l[d]=Ge(p),l[d].c(),W(l[d],1),l[d].m(e,null))}for(De(),d=t.length;d<l.length;d+=1)n(d);Te()}},i(a){if(!s){for(let h=0;h<t.length;h+=1)W(l[h]);s=!0}},o(a){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)K(l[h]);s=!1},d(a){a&&f(e),Me(l,a)}}}function Ge(r){let e,s;return e=new Ot({props:{canteenUser:r[2]}}),{c(){le(e.$$.fragment)},l(t){ae(e.$$.fragment,t)},m(t,l){ne(e,t,l),s=!0},p(t,l){const n={};l&1&&(n.canteenUser=t[2]),e.$set(n)},i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){K(e.$$.fragment,t),s=!1},d(t){re(e,t)}}}function ze(r){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=m("div"),e.innerHTML=s,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-2svhwp"&&(e.innerHTML=s),this.h()},h(){c(e,"class","text-center")},m(t,l){z(t,e,l)},d(t){t&&f(e)}}}function Rt(r){var T,i,S,L,b,$,H,R,C,k,j,G;let e,s,t,l,n='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Name</th> <th scope="col">School</th> <th scope="col">Address</th> <th scope="col">Action</th></tr>',a,h,d,p,g,u,E,D,_=(r[1]==null||((S=(i=(T=r[1])==null?void 0:T.from)==null?void 0:i.route)==null?void 0:S.id)!=(($=(b=(L=r[1])==null?void 0:L.to)==null?void 0:b.route)==null?void 0:$.id))&&Be(r);d=new yt({}),g=new Ct({});let I=((C=(R=(H=r[1])==null?void 0:H.from)==null?void 0:R.route)==null?void 0:C.id)==((G=(j=(k=r[1])==null?void 0:k.to)==null?void 0:j.route)==null?void 0:G.id)&&r[1]&&ze();return{c(){e=m("div"),s=m("div"),t=m("table"),l=m("thead"),l.innerHTML=n,a=A(),_&&_.c(),h=A(),le(d.$$.fragment),p=A(),le(g.$$.fragment),u=A(),I&&I.c(),E=Pe(),this.h()},l(M){e=v(M,"DIV",{class:!0});var P=w(e);s=v(P,"DIV",{class:!0});var B=w(s);t=v(B,"TABLE",{class:!0});var F=w(t);l=v(F,"THEAD",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-13n0see"&&(l.innerHTML=n),a=N(F),_&&_.l(F),F.forEach(f),h=N(B),ae(d.$$.fragment,B),p=N(B),ae(g.$$.fragment,B),B.forEach(f),P.forEach(f),u=N(M),I&&I.l(M),E=Pe(),this.h()},h(){c(l,"class","table-light"),c(t,"class","table align-middle table-nowrap mb-0 border-top"),c(s,"class","table-responsive"),c(e,"class","row pe-0")},m(M,P){z(M,e,P),o(e,s),o(s,t),o(t,l),o(t,a),_&&_.m(t,null),o(s,h),ne(d,s,null),o(s,p),ne(g,s,null),z(M,u,P),I&&I.m(M,P),z(M,E,P),D=!0},p(M,[P]){var B,F,V,U,O,y,Y,X,x,te,Q,se;M[1]==null||((V=(F=(B=M[1])==null?void 0:B.from)==null?void 0:F.route)==null?void 0:V.id)!=((y=(O=(U=M[1])==null?void 0:U.to)==null?void 0:O.route)==null?void 0:y.id)?_?(_.p(M,P),P&2&&W(_,1)):(_=Be(M),_.c(),W(_,1),_.m(t,null)):_&&(De(),K(_,1,1,()=>{_=null}),Te()),((x=(X=(Y=M[1])==null?void 0:Y.from)==null?void 0:X.route)==null?void 0:x.id)==((se=(Q=(te=M[1])==null?void 0:te.to)==null?void 0:Q.route)==null?void 0:se.id)&&M[1]?I||(I=ze(),I.c(),I.m(E.parentNode,E)):I&&(I.d(1),I=null)},i(M){D||(W(_),W(d.$$.fragment,M),W(g.$$.fragment,M),D=!0)},o(M){K(_),K(d.$$.fragment,M),K(g.$$.fragment,M),D=!1},d(M){M&&(f(e),f(u),f(E)),_&&_.d(),re(d),re(g),I&&I.d(M)}}}function Bt(r,e,s){let t;Ee(r,gt,n=>s(1,t=n));let{canteensList:l=[]}=e;return ut("canteenUserStore",{canteenUserStore:_t({})}),r.$$set=n=>{"canteensList"in n&&s(0,l=n.canteensList)},[l,t]}class Gt extends me{constructor(e){super(),ve(this,e,Bt,Rt,he,{canteensList:0})}}function Fe(r,e,s){const t=r.slice();return t[18]=e[s],t}function Je(r,e,s){const t=r.slice();return t[18]=e[s],t}function qe(r){let e,s,t,l,n,a,h=r[0].id+"",d,p,g,u=r[0].name+"",E,D,_,I,T,i,S,L,b,$=r[0].school.name+"",H,R,C,k=r[0].address+"",j,G,M,P,B,F,V='<i class="ri-close-line"></i>',U,O;return{c(){e=m("div"),s=m("div"),t=m("table"),l=m("tbody"),n=m("tr"),a=m("th"),d=J(h),p=A(),g=m("th"),E=J(u),D=A(),_=m("th"),I=m("div"),T=m("div"),i=m("img"),L=A(),b=m("div"),H=J($),R=A(),C=m("th"),j=J(k),G=J("%"),M=A(),P=m("th"),B=m("div"),F=m("a"),F.innerHTML=V,this.h()},l(y){e=v(y,"DIV",{class:!0});var Y=w(e);s=v(Y,"DIV",{class:!0});var X=w(s);t=v(X,"TABLE",{class:!0});var x=w(t);l=v(x,"TBODY",{class:!0});var te=w(l);n=v(te,"TR",{class:!0});var Q=w(n);a=v(Q,"TH",{});var se=w(a);d=q(se,h),se.forEach(f),p=N(Q),g=v(Q,"TH",{});var oe=w(g);E=q(oe,u),oe.forEach(f),D=N(Q),_=v(Q,"TH",{});var de=w(_);I=v(de,"DIV",{class:!0});var fe=w(I);T=v(fe,"DIV",{class:!0});var He=w(T);i=v(He,"IMG",{src:!0,alt:!0,class:!0}),He.forEach(f),L=N(fe),b=v(fe,"DIV",{class:!0});var ye=w(b);H=q(ye,$),ye.forEach(f),fe.forEach(f),de.forEach(f),R=N(Q),C=v(Q,"TH",{});var Ie=w(C);j=q(Ie,k),G=q(Ie,"%"),Ie.forEach(f),M=N(Q),P=v(Q,"TH",{scope:!0});var Ae=w(P);B=v(Ae,"DIV",{class:!0});var Ne=w(B);F=v(Ne,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),ee(F)!=="svelte-ljb6m2"&&(F.innerHTML=V),Ne.forEach(f),Ae.forEach(f),Q.forEach(f),te.forEach(f),x.forEach(f),X.forEach(f),Y.forEach(f),this.h()},h(){ie(i.src,S=r[0].school.logo.full_path)||c(i,"src",S),c(i,"alt",""),c(i,"class","avatar-xs rounded-circle"),c(T,"class","flex-shrink-0"),c(b,"class","flex-grow-1"),c(I,"class","d-flex gap-2 align-items-center"),c(F,"href","javascript:void(0);"),c(F,"class","fs-15"),c(F,"data-bs-toggle","tooltip"),c(F,"data-bs-original-title","Select"),c(B,"class","hstack gap-3 flex-wrap"),c(P,"scope","col"),c(n,"class","bg-secondary-subtle"),c(l,"class","list align-middle"),c(t,"class","table align-middle table-nowrap mb-0 border-top"),c(s,"class","table-responsive"),c(e,"class","row pe-0 mb-3")},m(y,Y){z(y,e,Y),o(e,s),o(s,t),o(t,l),o(l,n),o(n,a),o(a,d),o(n,p),o(n,g),o(g,E),o(n,D),o(n,_),o(_,I),o(I,T),o(T,i),o(I,L),o(I,b),o(b,H),o(n,R),o(n,C),o(C,j),o(C,G),o(n,M),o(n,P),o(P,B),o(B,F),U||(O=ue(F,"click",r[7]),U=!0)},p(y,Y){Y&1&&h!==(h=y[0].id+"")&&Z(d,h),Y&1&&u!==(u=y[0].name+"")&&Z(E,u),Y&1&&!ie(i.src,S=y[0].school.logo.full_path)&&c(i,"src",S),Y&1&&$!==($=y[0].school.name+"")&&Z(H,$),Y&1&&k!==(k=y[0].address+"")&&Z(j,k)},d(y){y&&f(e),U=!1,O()}}}function zt(r){let e,s,t,l,n,a,h='<tr><th scope="col">ID</th> <th scope="col">Name</th> <th scope="col">School</th> <th scope="col">Address</th> <th scope="col">Action</th></tr>',d,p,g,u,E;e=new at({props:{type:"CanteenUser"}}),e.$on("search",r[8]);let D=ge(r[3]),_=[];for(let i=0;i<D.length;i+=1)_[i]=Ye(Fe(r,D,i));const I=[r[4]];let T={};for(let i=0;i<I.length;i+=1)T=Ve(T,I[i]);return u=new nt({props:T}),u.$on("switchPage",r[9]),{c(){le(e.$$.fragment),s=A(),t=m("div"),l=m("div"),n=m("table"),a=m("thead"),a.innerHTML=h,d=A(),p=m("tbody");for(let i=0;i<_.length;i+=1)_[i].c();g=A(),le(u.$$.fragment),this.h()},l(i){ae(e.$$.fragment,i),s=N(i),t=v(i,"DIV",{class:!0});var S=w(t);l=v(S,"DIV",{class:!0});var L=w(l);n=v(L,"TABLE",{class:!0});var b=w(n);a=v(b,"THEAD",{class:!0,"data-svelte-h":!0}),ee(a)!=="svelte-rl9rnx"&&(a.innerHTML=h),d=N(b),p=v(b,"TBODY",{class:!0});var $=w(p);for(let H=0;H<_.length;H+=1)_[H].l($);$.forEach(f),b.forEach(f),L.forEach(f),S.forEach(f),g=N(i),ae(u.$$.fragment,i),this.h()},h(){c(a,"class","table-light"),c(p,"class","list"),c(n,"class","table align-middle table-nowrap mb-0 border-top"),c(l,"class","table-responsive"),c(t,"class","row pe-0")},m(i,S){ne(e,i,S),z(i,s,S),z(i,t,S),o(t,l),o(l,n),o(n,a),o(n,d),o(n,p);for(let L=0;L<_.length;L+=1)_[L]&&_[L].m(p,null);z(i,g,S),ne(u,i,S),E=!0},p(i,S){if(S&73){D=ge(i[3]);let b;for(b=0;b<D.length;b+=1){const $=Fe(i,D,b);_[b]?_[b].p($,S):(_[b]=Ye($),_[b].c(),_[b].m(p,null))}for(;b<_.length;b+=1)_[b].d(1);_.length=D.length}const L=S&16?Se(I,[Le(i[4])]):{};u.$set(L)},i(i){E||(W(e.$$.fragment,i),W(u.$$.fragment,i),E=!0)},o(i){K(e.$$.fragment,i),K(u.$$.fragment,i),E=!1},d(i){i&&(f(s),f(t),f(g)),re(e,i),Me(_,i),re(u,i)}}}function Ft(r){let e,s,t;function l(a){r[12](a)}let n={id:"canteen",title:r[1],$$slots:{default:[Jt]},$$scope:{ctx:r}};return r[5]!==void 0&&(n.openCollapse=r[5]),e=new bt({props:n}),_e.push(()=>tt(e,"openCollapse",l)),{c(){le(e.$$.fragment)},l(a){ae(e.$$.fragment,a)},m(a,h){ne(e,a,h),t=!0},p(a,h){const d={};h&2&&(d.title=a[1]),h&8388633&&(d.$$scope={dirty:h,ctx:a}),!s&&h&32&&(s=!0,d.openCollapse=a[5],et(()=>s=!1)),e.$set(d)},i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){K(e.$$.fragment,a),t=!1},d(a){re(e,a)}}}function Ye(r){let e,s,t=r[18].id+"",l,n,a,h=r[18].name+"",d,p,g,u,E,D,_,I,T,i=r[18].school.name+"",S,L,b,$=r[18].address+"",H,R,C,k,j,G='<i class="ri-check-line"></i>',M,P,B;function F(){return r[13](r[18])}return{c(){e=m("tr"),s=m("td"),l=J(t),n=A(),a=m("td"),d=J(h),p=A(),g=m("td"),u=m("div"),E=m("div"),D=m("img"),I=A(),T=m("div"),S=J(i),L=A(),b=m("td"),H=J($),R=A(),C=m("td"),k=m("div"),j=m("a"),j.innerHTML=G,M=A(),this.h()},l(V){e=v(V,"TR",{scope:!0});var U=w(e);s=v(U,"TD",{});var O=w(s);l=q(O,t),O.forEach(f),n=N(U),a=v(U,"TD",{});var y=w(a);d=q(y,h),y.forEach(f),p=N(U),g=v(U,"TD",{});var Y=w(g);u=v(Y,"DIV",{class:!0});var X=w(u);E=v(X,"DIV",{class:!0});var x=w(E);D=v(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(f),I=N(X),T=v(X,"DIV",{class:!0});var te=w(T);S=q(te,i),te.forEach(f),X.forEach(f),Y.forEach(f),L=N(U),b=v(U,"TD",{});var Q=w(b);H=q(Q,$),Q.forEach(f),R=N(U),C=v(U,"TD",{});var se=w(C);k=v(se,"DIV",{class:!0});var oe=w(k);j=v(oe,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),ee(j)!=="svelte-rmke5p"&&(j.innerHTML=G),oe.forEach(f),se.forEach(f),M=N(U),U.forEach(f),this.h()},h(){var V;ie(D.src,_=r[18].school.logo.full_path)||c(D,"src",_),c(D,"alt",""),c(D,"class","avatar-xs rounded-circle"),c(E,"class","flex-shrink-0"),c(T,"class","flex-grow-1"),c(u,"class","d-flex gap-2 align-items-center"),c(j,"href","javascript:void(0);"),c(j,"class","fs-15"),c(j,"data-bs-toggle","tooltip"),c(j,"data-bs-original-title","Select"),c(k,"class","hstack gap-3 flex-wrap"),c(e,"scope","row"),ce(e,"bg-secondary-subtle",r[18].id==((V=r[0])==null?void 0:V.id))},m(V,U){z(V,e,U),o(e,s),o(s,l),o(e,n),o(e,a),o(a,d),o(e,p),o(e,g),o(g,u),o(u,E),o(E,D),o(u,I),o(u,T),o(T,S),o(e,L),o(e,b),o(b,H),o(e,R),o(e,C),o(C,k),o(k,j),o(e,M),P||(B=ue(j,"click",F),P=!0)},p(V,U){var O;r=V,U&8&&t!==(t=r[18].id+"")&&Z(l,t),U&8&&h!==(h=r[18].name+"")&&Z(d,h),U&8&&!ie(D.src,_=r[18].school.logo.full_path)&&c(D,"src",_),U&8&&i!==(i=r[18].school.name+"")&&Z(S,i),U&8&&$!==($=r[18].address+"")&&Z(H,$),U&9&&ce(e,"bg-secondary-subtle",r[18].id==((O=r[0])==null?void 0:O.id))},d(V){V&&f(e),P=!1,B()}}}function Qe(r){let e,s,t=r[18].id+"",l,n,a,h=r[18].name+"",d,p,g,u,E,D,_,I,T,i=r[18].school.name+"",S,L,b,$=r[18].address+"",H,R,C,k,j,G='<i class="ri-check-line"></i>',M,P,B;function F(){return r[11](r[18])}return{c(){e=m("tr"),s=m("td"),l=J(t),n=A(),a=m("td"),d=J(h),p=A(),g=m("td"),u=m("div"),E=m("div"),D=m("img"),I=A(),T=m("div"),S=J(i),L=A(),b=m("td"),H=J($),R=A(),C=m("td"),k=m("div"),j=m("a"),j.innerHTML=G,M=A(),this.h()},l(V){e=v(V,"TR",{scope:!0});var U=w(e);s=v(U,"TD",{});var O=w(s);l=q(O,t),O.forEach(f),n=N(U),a=v(U,"TD",{});var y=w(a);d=q(y,h),y.forEach(f),p=N(U),g=v(U,"TD",{});var Y=w(g);u=v(Y,"DIV",{class:!0});var X=w(u);E=v(X,"DIV",{class:!0});var x=w(E);D=v(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(f),I=N(X),T=v(X,"DIV",{class:!0});var te=w(T);S=q(te,i),te.forEach(f),X.forEach(f),Y.forEach(f),L=N(U),b=v(U,"TD",{});var Q=w(b);H=q(Q,$),Q.forEach(f),R=N(U),C=v(U,"TD",{});var se=w(C);k=v(se,"DIV",{class:!0});var oe=w(k);j=v(oe,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),ee(j)!=="svelte-rmke5p"&&(j.innerHTML=G),oe.forEach(f),se.forEach(f),M=N(U),U.forEach(f),this.h()},h(){var V;ie(D.src,_=r[18].school.logo.full_path)||c(D,"src",_),c(D,"alt",""),c(D,"class","avatar-xs rounded-circle"),c(E,"class","flex-shrink-0"),c(T,"class","flex-grow-1"),c(u,"class","d-flex gap-2 align-items-center"),c(j,"href","javascript:void(0);"),c(j,"class","fs-15"),c(j,"data-bs-toggle","tooltip"),c(j,"data-bs-original-title","Select"),c(k,"class","hstack gap-3 flex-wrap"),c(e,"scope","row"),ce(e,"bg-secondary-subtle",r[18].id==((V=r[0])==null?void 0:V.id))},m(V,U){z(V,e,U),o(e,s),o(s,l),o(e,n),o(e,a),o(a,d),o(e,p),o(e,g),o(g,u),o(u,E),o(E,D),o(u,I),o(u,T),o(T,S),o(e,L),o(e,b),o(b,H),o(e,R),o(e,C),o(C,k),o(k,j),o(e,M),P||(B=ue(j,"click",F),P=!0)},p(V,U){var O;r=V,U&8&&t!==(t=r[18].id+"")&&Z(l,t),U&8&&h!==(h=r[18].name+"")&&Z(d,h),U&8&&!ie(D.src,_=r[18].school.logo.full_path)&&c(D,"src",_),U&8&&i!==(i=r[18].school.name+"")&&Z(S,i),U&8&&$!==($=r[18].address+"")&&Z(H,$),U&9&&ce(e,"bg-secondary-subtle",r[18].id==((O=r[0])==null?void 0:O.id))},d(V){V&&f(e),P=!1,B()}}}function Jt(r){let e,s,t,l,n,a,h='<tr><th scope="col">ID</th> <th scope="col">Name</th> <th scope="col">School</th> <th scope="col">Address</th> <th scope="col">Action</th></tr>',d,p,g,u,E;e=new at({props:{type:"CanteenUser"}}),e.$on("search",r[8]);let D=ge(r[3]),_=[];for(let i=0;i<D.length;i+=1)_[i]=Qe(Je(r,D,i));const I=[r[4]];let T={};for(let i=0;i<I.length;i+=1)T=Ve(T,I[i]);return u=new nt({props:T}),u.$on("switchPage",r[9]),{c(){le(e.$$.fragment),s=A(),t=m("div"),l=m("div"),n=m("table"),a=m("thead"),a.innerHTML=h,d=A(),p=m("tbody");for(let i=0;i<_.length;i+=1)_[i].c();g=A(),le(u.$$.fragment),this.h()},l(i){ae(e.$$.fragment,i),s=N(i),t=v(i,"DIV",{class:!0});var S=w(t);l=v(S,"DIV",{class:!0});var L=w(l);n=v(L,"TABLE",{class:!0});var b=w(n);a=v(b,"THEAD",{class:!0,"data-svelte-h":!0}),ee(a)!=="svelte-k698p9"&&(a.innerHTML=h),d=N(b),p=v(b,"TBODY",{class:!0});var $=w(p);for(let H=0;H<_.length;H+=1)_[H].l($);$.forEach(f),b.forEach(f),L.forEach(f),S.forEach(f),g=N(i),ae(u.$$.fragment,i),this.h()},h(){c(a,"class","table-light"),c(p,"class","list"),c(n,"class","table align-middle table-nowrap mb-0 border-top"),c(l,"class","table-responsive"),c(t,"class","row pe-0")},m(i,S){ne(e,i,S),z(i,s,S),z(i,t,S),o(t,l),o(l,n),o(n,a),o(n,d),o(n,p);for(let L=0;L<_.length;L+=1)_[L]&&_[L].m(p,null);z(i,g,S),ne(u,i,S),E=!0},p(i,S){if(S&73){D=ge(i[3]);let b;for(b=0;b<D.length;b+=1){const $=Je(i,D,b);_[b]?_[b].p($,S):(_[b]=Qe($),_[b].c(),_[b].m(p,null))}for(;b<_.length;b+=1)_[b].d(1);_.length=D.length}const L=S&16?Se(I,[Le(i[4])]):{};u.$set(L)},i(i){E||(W(e.$$.fragment,i),W(u.$$.fragment,i),E=!0)},o(i){K(e.$$.fragment,i),K(u.$$.fragment,i),E=!1},d(i){i&&(f(s),f(t),f(g)),re(e,i),Me(_,i),re(u,i)}}}function qt(r){var g;let e,s,t,l,n,a=((g=r[0])==null?void 0:g.id)&&qe(r);const h=[Ft,zt],d=[];function p(u,E){return u[2]?0:1}return t=p(r),l=d[t]=h[t](r),{c(){a&&a.c(),e=A(),s=m("div"),l.c(),this.h()},l(u){a&&a.l(u),e=N(u),s=v(u,"DIV",{});var E=w(s);l.l(E),E.forEach(f),this.h()},h(){var u;ce(s,"d-none",((u=r[0])==null?void 0:u.id)!=null)},m(u,E){a&&a.m(u,E),z(u,e,E),z(u,s,E),d[t].m(s,null),n=!0},p(u,[E]){var _,I;(_=u[0])!=null&&_.id?a?a.p(u,E):(a=qe(u),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);let D=t;t=p(u),t===D?d[t].p(u,E):(De(),K(d[D],1,1,()=>{d[D]=null}),Te(),l=d[t],l?l.p(u,E):(l=d[t]=h[t](u),l.c()),W(l,1),l.m(s,null)),(!n||E&1)&&ce(s,"d-none",((I=u[0])==null?void 0:I.id)!=null)},i(u){n||(W(l),n=!0)},o(u){K(l),n=!1},d(u){u&&(f(e),f(s)),a&&a.d(u),d[t].d()}}}function Yt(r,e,s){const t=ht();let l=[],n,a=1,h="",{selected:d={}}=e,{title:p}=e,{collapse:g}=e,u;async function E(){let $=await fetch(`${ct({page:a,search:h})}`,{headers:{Authorization:`${localStorage.getItem("SID")}`}});we($);let H=await $.json();s(3,l=H.data.canteens),s(4,n=H.pagination)}xe(()=>{E()});function D($){s(0,d=$),t("select",{canteenUser:d}),u&&u()}function _(){s(0,d={}),t("select",{canteenUser:d})}function I($){a=1,h=$.detail.searchQuery,E()}function T($){a=$.detail.page,E()}function i(){console.log("deselcted"),s(0,d={})}const S=$=>D($);function L($){u=$,s(5,u)}const b=$=>D($);return r.$$set=$=>{"selected"in $&&s(0,d=$.selected),"title"in $&&s(1,p=$.title),"collapse"in $&&s(2,g=$.collapse)},[d,p,g,l,n,u,D,_,I,T,i,S,L,b]}class Qt extends me{constructor(e){super(),ve(this,e,Yt,qt,he,{selected:0,title:1,collapse:2,resetCanteenUser:10})}get resetCanteenUser(){return this.$$.ctx[10]}}function We(r){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=m("div"),e.innerHTML=s,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-dxv6g9"&&(e.innerHTML=s),this.h()},h(){c(e,"class","text-center")},m(t,l){z(t,e,l)},d(t){t&&f(e)}}}function Ke(r){let e,s=r[2].canteen_id[0]+"",t;return{c(){e=m("strong"),t=J(s),this.h()},l(l){e=v(l,"STRONG",{class:!0});var n=w(e);t=q(n,s),n.forEach(f),this.h()},h(){c(e,"class","text-danger ms-1 my-2")},m(l,n){z(l,e,n),o(e,t)},p(l,n){n&4&&s!==(s=l[2].canteen_id[0]+"")&&Z(t,s)},d(l){l&&f(e)}}}function Wt(r){var M;let e,s,t,l,n='<h5 class="modal-title" id="exampleModalgridLabel">Add Canteen to user</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',a,h,d,p,g,u,E,D,_,I,T,i,S="Close",L,b,$,H,R,C=r[3]&&We();function k(P){r[9](P)}let j={};r[5]!==void 0&&(j.resetCanteenUser=r[5]),E=new Qt({props:j}),_e.push(()=>tt(E,"resetCanteenUser",k)),E.$on("select",r[10]);let G=((M=r[2])==null?void 0:M.canteen_id)&&Ke(r);return{c(){e=m("div"),s=m("div"),t=m("div"),l=m("div"),l.innerHTML=n,a=A(),h=m("div"),C&&C.c(),d=A(),p=m("form"),g=m("div"),u=m("div"),le(E.$$.fragment),_=A(),G&&G.c(),I=A(),T=m("div"),i=m("button"),i.textContent=S,L=A(),b=m("input"),this.h()},l(P){e=v(P,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var B=w(e);s=v(B,"DIV",{class:!0});var F=w(s);t=v(F,"DIV",{class:!0});var V=w(t);l=v(V,"DIV",{class:!0,"data-svelte-h":!0}),ee(l)!=="svelte-17pgis"&&(l.innerHTML=n),a=N(V),h=v(V,"DIV",{class:!0});var U=w(h);C&&C.l(U),d=N(U),p=v(U,"FORM",{});var O=w(p);g=v(O,"DIV",{class:!0});var y=w(g);u=v(y,"DIV",{});var Y=w(u);ae(E.$$.fragment,Y),Y.forEach(f),_=N(y),G&&G.l(y),I=N(y),T=v(y,"DIV",{class:!0});var X=w(T);i=v(X,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),ee(i)!=="svelte-1h5uvws"&&(i.textContent=S),L=N(X),b=v(X,"INPUT",{type:!0,class:!0}),X.forEach(f),y.forEach(f),O.forEach(f),U.forEach(f),V.forEach(f),F.forEach(f),B.forEach(f),this.h()},h(){c(l,"class","modal-header"),c(i,"type","button"),c(i,"class","btn btn-light fw-light"),c(i,"data-bs-dismiss","modal"),c(b,"type","submit"),c(b,"class","btn btn-primary waves-effect waves-light"),b.value="Save",c(T,"class","hstack gap-2 justify-content-end"),c(g,"class","row g-3"),ce(p,"d-none",r[3]),c(h,"class","modal-body"),c(t,"class","modal-content"),c(s,"class","modal-dialog modal-dialog-centered modal-lg"),c(e,"class","modal fade"),c(e,"id","addCanteenUserModal"),c(e,"tabindex","-1"),c(e,"aria-labelledby","exampleModalgridLabel"),c(e,"aria-modal","true")},m(P,B){z(P,e,B),o(e,s),o(s,t),o(t,l),o(t,a),o(t,h),C&&C.m(h,null),o(h,d),o(h,p),o(p,g),o(g,u),ne(E,u,null),o(g,_),G&&G.m(g,null),o(g,I),o(g,T),o(T,i),r[11](i),o(T,L),o(T,b),r[12](p),$=!0,H||(R=[ue(p,"submit",Xe(r[6])),ue(e,"hidden.bs.modal",r[7])],H=!0)},p(P,[B]){var V;P[3]?C||(C=We(),C.c(),C.m(h,d)):C&&(C.d(1),C=null);const F={};!D&&B&32&&(D=!0,F.resetCanteenUser=P[5],et(()=>D=!1)),E.$set(F),(V=P[2])!=null&&V.canteen_id?G?G.p(P,B):(G=Ke(P),G.c(),G.m(g,I)):G&&(G.d(1),G=null),(!$||B&8)&&ce(p,"d-none",P[3])},i(P){$||(W(E.$$.fragment,P),$=!0)},o(P){K(E.$$.fragment,P),$=!1},d(P){P&&f(e),C&&C.d(),re(E),G&&G.d(),r[11](null),r[12](null),H=!1,Ze(R)}}}function Kt(r,e,s){let t,l,n,a=!1,h,d,{userId:p}=e;async function g(){s(3,a=!0),s(2,n={});let T=new FormData(l);T.set("canteen_id",h);let i=await fetch(dt(p),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:T});we(i),i=await i.json(),s(3,a=!1),i.status=="success"?(t.click(),st("Added a new canteen to User","success"),lt("canteenUsers:refresh"),u()):s(2,n=i.errors)}function u(){l.reset(),s(2,n={}),d()}function E(T){d=T,s(5,d)}const D=T=>s(4,h=T.detail.canteenUser.id);function _(T){_e[T?"unshift":"push"](()=>{t=T,s(0,t)})}function I(T){_e[T?"unshift":"push"](()=>{l=T,s(1,l)})}return r.$$set=T=>{"userId"in T&&s(8,p=T.userId)},[t,l,n,a,h,d,g,u,p,E,D,_,I]}class Xt extends me{constructor(e){super(),ve(this,e,Kt,Wt,he,{userId:8})}}function Zt(r){let e,s='<i class="ri-add-line align-bottom me-1"></i> Add Canteen',t,l,n;return l=new Xt({props:{userId:r[1].id}}),{c(){e=m("button"),e.innerHTML=s,t=A(),le(l.$$.fragment),this.h()},l(a){e=v(a,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-o0412w"&&(e.innerHTML=s),t=N(a),ae(l.$$.fragment,a),this.h()},h(){c(e,"type","button"),c(e,"data-bs-toggle","modal"),c(e,"data-bs-target","#addCanteenUserModal"),c(e,"class","btn btn-primary waves-effect waves-light")},m(a,h){z(a,e,h),z(a,t,h),ne(l,a,h),n=!0},p(a,h){const d={};h&2&&(d.userId=a[1].id),l.$set(d)},i(a){n||(W(l.$$.fragment,a),n=!0)},o(a){K(l.$$.fragment,a),n=!1},d(a){a&&(f(e),f(t)),re(l,a)}}}function xt(r){let e,s,t,l,n;s=new Gt({props:{canteensList:r[3]}});const a=[r[2]];let h={};for(let d=0;d<a.length;d+=1)h=Ve(h,a[d]);return l=new pt({props:h}),{c(){e=m("div"),le(s.$$.fragment),t=A(),le(l.$$.fragment),this.h()},l(d){e=v(d,"DIV",{class:!0});var p=w(e);ae(s.$$.fragment,p),t=N(p),ae(l.$$.fragment,p),p.forEach(f),this.h()},h(){c(e,"class","card-body")},m(d,p){z(d,e,p),ne(s,e,null),o(e,t),ne(l,e,null),n=!0},p(d,p){const g={};p&8&&(g.canteensList=d[3]),s.$set(g);const u=p&4?Se(a,[Le(d[2])]):{};l.$set(u)},i(d){n||(W(s.$$.fragment,d),W(l.$$.fragment,d),n=!0)},o(d){K(s.$$.fragment,d),K(l.$$.fragment,d),n=!1},d(d){d&&f(e),re(s),re(l)}}}function es(r){let e,s,t,l,n,a,h,d,p,g,u,E=r[1].profile.fullname+"",D,_,I,T,i,S=JSON.parse(sessionStorage.getItem("permissions")).includes("canteenUsers.store"),L,b=JSON.parse(sessionStorage.getItem("permissions")).includes("canteenUsers.index"),$,H,R=S&&Zt(r),C=b&&xt(r);return{c(){e=m("div"),s=m("div"),t=m("div"),l=m("div"),n=m("div"),a=m("div"),h=m("img"),p=A(),g=m("h4"),u=m("span"),D=J(E),_=J("'s"),I=J(" - Canteens Managment"),T=A(),i=m("div"),R&&R.c(),L=A(),C&&C.c(),this.h()},l(k){e=v(k,"DIV",{class:!0});var j=w(e);s=v(j,"DIV",{class:!0});var G=w(s);t=v(G,"DIV",{class:!0});var M=w(t);l=v(M,"DIV",{class:!0});var P=w(l);n=v(P,"DIV",{class:!0});var B=w(n);a=v(B,"DIV",{class:!0});var F=w(a);h=v(F,"IMG",{src:!0,alt:!0,class:!0}),F.forEach(f),p=N(B),g=v(B,"H4",{class:!0});var V=w(g);u=v(V,"SPAN",{class:!0});var U=w(u);D=q(U,E),_=q(U,"'s"),U.forEach(f),I=q(V," - Canteens Managment"),V.forEach(f),B.forEach(f),T=N(P),i=v(P,"DIV",{class:!0});var O=w(i);R&&R.l(O),O.forEach(f),P.forEach(f),L=N(M),C&&C.l(M),M.forEach(f),G.forEach(f),j.forEach(f),this.h()},h(){ie(h.src,d=r[1].profile.image.full_path)||c(h,"src",d),c(h,"alt","user's image "),c(h,"class","avatar-xs rounded-circle"),c(a,"class","flex-shrink-0"),c(u,"class","text-primary"),c(g,"class","card-title mb-0 flex-grow-1"),c(n,"class","d-flex gap-2 align-items-center flex-grow-1"),c(i,"class","flex-shrink-0"),c(l,"class","card-header align-items-center d-flex"),c(t,"class","card"),c(s,"class","col-lg-12"),c(e,"class","row")},m(k,j){z(k,e,j),o(e,s),o(s,t),o(t,l),o(l,n),o(n,a),o(a,h),o(n,p),o(n,g),o(g,u),o(u,D),o(u,_),o(g,I),o(l,T),o(l,i),R&&R.m(i,null),o(t,L),C&&C.m(t,null),r[5](e),H=!0},p(k,[j]){(!H||j&2&&!ie(h.src,d=k[1].profile.image.full_path))&&c(h,"src",d),(!H||j&2)&&E!==(E=k[1].profile.fullname+"")&&Z(D,E),S&&R.p(k,j),b&&C.p(k,j)},i(k){H||(W(R),W(C),k&&($||mt(()=>{$=vt(e,$t,{duration:200}),$.start()})),H=!0)},o(k){K(R),K(C),H=!1},d(k){k&&f(e),R&&R.d(),C&&C.d(),r[5](null)}}}function ts(r,e,s){let t,l,n,{data:a}=e,h;xe(()=>{wt(h)});function d(p){_e[p?"unshift":"push"](()=>{h=p,s(0,h)})}return r.$$set=p=>{"data"in p&&s(4,a=p.data)},r.$$.update=()=>{r.$$.dirty&16&&s(3,t=a.canteenUsersResponse.data.canteens),r.$$.dirty&16&&s(2,l=a.canteenUsersResponse.pagination),r.$$.dirty&16&&s(1,n=a.canteenUsersResponse.data.user)},[h,n,l,t,a,d]}class ws extends me{constructor(e){super(),ve(this,e,ts,es,he,{data:4})}}export{ws as component,$s as universal};
