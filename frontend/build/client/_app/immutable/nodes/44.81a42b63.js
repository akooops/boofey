import{R as Qe,D as Ke,as as We,at as Xe,au as Ze}from"../chunks/paths.0e30d36d.js";import{a as Ee}from"../chunks/auth.660986fb.js";import{s as ve,f,a as L,l as Q,g as u,h as $,z as q,c as V,d as c,m as K,j as o,E as ke,W as Ie,k as Te,B as he,i as R,C as r,F as le,Q as Se,n as ae,A as ue,G as Ce,T as ye,y as $e,p as be,K as ge,I as et,e as Ve,J as qe,D as tt,H as st,o as it,R as at}from"../chunks/scheduler.726ac76d.js";import{S as pe,i as _e,b as ne,d as oe,m as re,a as W,t as X,e as de,g as Ge,c as Je,f as lt}from"../chunks/index.8a5ed380.js";import{g as nt,a as ot}from"../chunks/spread.8a54911c.js";import{P as rt}from"../chunks/Pagination.94643daa.js";import{S as dt}from"../chunks/SearchTable.d9fb7dc1.js";import{e as Ne}from"../chunks/each.381f634d.js";import{t as Me}from"../chunks/toast.aca1940a.js";import{i as Le,f as we}from"../chunks/utils.7c7f4a39.js";import{V as De}from"../chunks/ViewRow.487fb326.js";import{w as Ye}from"../chunks/singletons.08415598.js";import{n as ct}from"../chunks/stores.b420ea9f.js";import{i as ft}from"../chunks/initToolTip.b2308c6a.js";import{f as ut}from"../chunks/index.955fed47.js";const mt=!1;async function ht({fetch:n,url:e,depends:s,params:i}){s("divisions:refresh");let t=await n(Qe(i.schoolId,Ke(e)),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return Ee(t),{divisionsResponse:await t.json(),tabTitle:"Divisions"}}const ls=Object.freeze(Object.defineProperty({__proto__:null,load:ht,ssr:mt},Symbol.toStringTag,{value:"Module"}));function Ae(n){let e,s='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(i){e=u(i,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1ei7695"&&(e.innerHTML=s),this.h()},h(){o(e,"class","mt-2")},m(i,t){R(i,e,t)},d(i){i&&c(e)}}}function vt(n){let e,s,i,t,a,l='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',d,h,v,p,m,w,M,T,b="Are you Sure ?",P,E,D,y,O=`${n[2].name} #${n[2].id}`,U,S,H,x,I,C="Close",B,N,z="Delete",Y,j,g=n[1]&&Ae();return{c(){e=f("div"),s=f("div"),i=f("div"),t=f("div"),a=f("div"),a.innerHTML=l,d=L(),g&&g.c(),h=L(),v=f("div"),p=f("form"),m=f("lord-icon"),M=L(),T=f("h4"),T.textContent=b,P=L(),E=f("p"),D=Q("Are you Sure You want to Delete "),y=f("span"),U=Q(O),S=Q(" ?"),H=L(),x=f("div"),I=f("button"),I.textContent=C,B=L(),N=f("button"),N.textContent=z,this.h()},l(_){e=u(_,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var k=$(e);s=u(k,"DIV",{class:!0});var ce=$(s);i=u(ce,"DIV",{class:!0});var fe=$(i);t=u(fe,"DIV",{class:!0});var A=$(t);a=u(A,"DIV",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-3pipod"&&(a.innerHTML=l),d=V(A),g&&g.l(A),h=V(A),v=u(A,"DIV",{class:!0});var F=$(v);p=u(F,"FORM",{});var G=$(p);m=u(G,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),$(m).forEach(c),M=V(G),T=u(G,"H4",{class:!0,"data-svelte-h":!0}),q(T)!=="svelte-1s07vlj"&&(T.textContent=b),P=V(G),E=u(G,"P",{class:!0});var J=$(E);D=K(J,"Are you Sure You want to Delete "),y=u(J,"SPAN",{class:!0});var te=$(y);U=K(te,O),te.forEach(c),S=K(J," ?"),J.forEach(c),H=V(G),x=u(G,"DIV",{class:!0});var se=$(x);I=u(se,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),q(I)!=="svelte-1h5uvws"&&(I.textContent=C),B=V(se),N=u(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(N)!=="svelte-iuig3c"&&(N.textContent=z),se.forEach(c),G.forEach(c),F.forEach(c),A.forEach(c),fe.forEach(c),ce.forEach(c),k.forEach(c),this.h()},h(){o(a,"class","text-end"),ke(m.src,w="https://cdn.lordicon.com/gsqxdxog.json")||Ie(m,"src",w),Ie(m,"trigger","loop"),Ie(m,"colors","primary:#f7b84b,secondary:#f06548"),Te(m,"width","100px"),Te(m,"height","100px"),o(T,"class","mb-3 mt-4"),o(y,"class","text-primary"),o(E,"class","text-muted fs-15 mb-4"),o(I,"type","button"),o(I,"class","btn btn-light fw-light"),o(I,"data-bs-dismiss","modal"),o(N,"type","button"),o(N,"class","btn btn-danger waves-effect waves-light"),o(x,"class","hstack gap-2 justify-content-center"),he(p,"d-none",n[1]),o(v,"class","mt-2"),he(v,"d-none",n[1]),o(t,"class","modal-body text-center p-5"),o(i,"class","modal-content"),o(s,"class","modal-dialog modal-dialog-centered"),o(e,"id","deleteDivisionModal"),o(e,"class","modal fade"),o(e,"tabindex","-1"),o(e,"aria-hidden","true"),Te(e,"display","none")},m(_,k){R(_,e,k),r(e,s),r(s,i),r(i,t),r(t,a),r(t,d),g&&g.m(t,null),r(t,h),r(t,v),r(v,p),r(p,m),r(p,M),r(p,T),r(p,P),r(p,E),r(E,D),r(E,y),r(y,U),r(E,S),r(p,H),r(p,x),r(x,I),n[5](I),r(x,B),r(x,N),Y||(j=[le(N,"click",n[4]),le(p,"submit",Se(n[4]))],Y=!0)},p(_,[k]){_[1]?g||(g=Ae(),g.c(),g.m(t,h)):g&&(g.d(1),g=null),k&4&&O!==(O=`${_[2].name} #${_[2].id}`)&&ae(U,O),k&2&&he(p,"d-none",_[1]),k&2&&he(v,"d-none",_[1])},i:ue,o:ue,d(_){_&&c(e),g&&g.d(),n[5](null),Y=!1,Ce(j)}}}function pt(n,e,s){let i,t,a=!1,{divisionStore:l}=ye("divisionStore");$e(n,l,v=>s(2,i=v));async function d(){s(1,a=!0);let v=await fetch(We(i.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"DELETE"});if(Ee(v),v=await v.json(),s(1,a=!1),v.status=="success"){t.click();let p=`Deleted ${i.name} #${i.id}`;Me(p,"success"),Le("divisions:refresh")}}function h(v){be[v?"unshift":"push"](()=>{t=v,s(0,t)})}return[t,a,i,l,d,h]}class _t extends pe{constructor(e){super(),_e(this,e,pt,vt,ve,{})}}function gt(n){let e,s,i=n[0].name+"",t;return{c(){e=Q("Name : "),s=f("span"),t=Q(i),this.h()},l(a){e=K(a,"Name : "),s=u(a,"SPAN",{class:!0});var l=$(s);t=K(l,i),l.forEach(c),this.h()},h(){o(s,"class","fw-normal")},m(a,l){R(a,e,l),R(a,s,l),r(s,t)},p(a,l){l&1&&i!==(i=a[0].name+"")&&ae(t,i)},d(a){a&&(c(e),c(s))}}}function bt(n){let e,s,i=n[0].name_ar+"",t;return{c(){e=Q("Arabic Name : "),s=f("span"),t=Q(i),this.h()},l(a){e=K(a,"Arabic Name : "),s=u(a,"SPAN",{class:!0});var l=$(s);t=K(l,i),l.forEach(c),this.h()},h(){o(s,"class","fw-normal")},m(a,l){R(a,e,l),R(a,s,l),r(s,t)},p(a,l){l&1&&i!==(i=a[0].name_ar+"")&&ae(t,i)},d(a){a&&(c(e),c(s))}}}function $t(n){let e,s,i=we(n[0].created_at)+"",t;return{c(){e=Q("Created at : "),s=f("span"),t=Q(i),this.h()},l(a){e=K(a,"Created at : "),s=u(a,"SPAN",{class:!0});var l=$(s);t=K(l,i),l.forEach(c),this.h()},h(){o(s,"class","fw-normal")},m(a,l){R(a,e,l),R(a,s,l),r(s,t)},p(a,l){l&1&&i!==(i=we(a[0].created_at)+"")&&ae(t,i)},d(a){a&&(c(e),c(s))}}}function Dt(n){let e,s,i=we(n[0].updated_at)+"",t;return{c(){e=Q("Updated at : "),s=f("span"),t=Q(i),this.h()},l(a){e=K(a,"Updated at : "),s=u(a,"SPAN",{class:!0});var l=$(s);t=K(l,i),l.forEach(c),this.h()},h(){o(s,"class","fw-normal")},m(a,l){R(a,e,l),R(a,s,l),r(s,t)},p(a,l){l&1&&i!==(i=we(a[0].updated_at)+"")&&ae(t,i)},d(a){a&&(c(e),c(s))}}}function wt(n){let e,s,i,t,a='<h5 class="modal-title" id="exampleModalgridLabel">View Coupon</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',l,d,h,v,p,m,w,M,T,b,P,E='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>',D;return h=new De({props:{$$slots:{default:[gt]},$$scope:{ctx:n}}}),p=new De({props:{$$slots:{default:[bt]},$$scope:{ctx:n}}}),w=new De({props:{$$slots:{default:[$t]},$$scope:{ctx:n}}}),T=new De({props:{$$slots:{default:[Dt]},$$scope:{ctx:n}}}),{c(){e=f("div"),s=f("div"),i=f("div"),t=f("div"),t.innerHTML=a,l=L(),d=f("div"),ne(h.$$.fragment),v=L(),ne(p.$$.fragment),m=L(),ne(w.$$.fragment),M=L(),ne(T.$$.fragment),b=L(),P=f("div"),P.innerHTML=E,this.h()},l(y){e=u(y,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var O=$(e);s=u(O,"DIV",{class:!0});var U=$(s);i=u(U,"DIV",{class:!0});var S=$(i);t=u(S,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-16jl4jo"&&(t.innerHTML=a),l=V(S),d=u(S,"DIV",{class:!0});var H=$(d);oe(h.$$.fragment,H),v=V(H),oe(p.$$.fragment,H),m=V(H),oe(w.$$.fragment,H),M=V(H),oe(T.$$.fragment,H),b=V(H),P=u(H,"DIV",{class:!0,"data-svelte-h":!0}),q(P)!=="svelte-1vrqtk3"&&(P.innerHTML=E),H.forEach(c),S.forEach(c),U.forEach(c),O.forEach(c),this.h()},h(){o(t,"class","modal-header"),o(P,"class","hstack gap-2 justify-content-end"),o(d,"class","modal-body p-4"),o(i,"class","modal-content"),o(s,"class","modal-dialog modal-dialog-centered"),o(e,"class","modal fade"),o(e,"id","viewDivisionModal"),o(e,"tabindex","-1"),o(e,"aria-labelledby","exampleModalgridLabel"),o(e,"aria-modal","true")},m(y,O){R(y,e,O),r(e,s),r(s,i),r(i,t),r(i,l),r(i,d),re(h,d,null),r(d,v),re(p,d,null),r(d,m),re(w,d,null),r(d,M),re(T,d,null),r(d,b),r(d,P),D=!0},p(y,[O]){const U={};O&5&&(U.$$scope={dirty:O,ctx:y}),h.$set(U);const S={};O&5&&(S.$$scope={dirty:O,ctx:y}),p.$set(S);const H={};O&5&&(H.$$scope={dirty:O,ctx:y}),w.$set(H);const x={};O&5&&(x.$$scope={dirty:O,ctx:y}),T.$set(x)},i(y){D||(W(h.$$.fragment,y),W(p.$$.fragment,y),W(w.$$.fragment,y),W(T.$$.fragment,y),D=!0)},o(y){X(h.$$.fragment,y),X(p.$$.fragment,y),X(w.$$.fragment,y),X(T.$$.fragment,y),D=!1},d(y){y&&c(e),de(h),de(p),de(w),de(T)}}}function Et(n,e,s){let i,{divisionStore:t}=ye("divisionStore");return $e(n,t,a=>s(0,i=a)),[i,t]}class yt extends pe{constructor(e){super(),_e(this,e,Et,wt,ve,{})}}function xe(n){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(i){e=u(i,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-dxv6g9"&&(e.innerHTML=s),this.h()},h(){o(e,"class","text-center")},m(i,t){R(i,e,t)},d(i){i&&c(e)}}}function He(n){let e,s=n[2].name[0]+"",i;return{c(){e=f("strong"),i=Q(s),this.h()},l(t){e=u(t,"STRONG",{class:!0});var a=$(e);i=K(a,s),a.forEach(c),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(t,a){R(t,e,a),r(e,i)},p(t,a){a&4&&s!==(s=t[2].name[0]+"")&&ae(i,s)},d(t){t&&c(e)}}}function je(n){let e,s=n[2].name_ar[0]+"",i;return{c(){e=f("strong"),i=Q(s),this.h()},l(t){e=u(t,"STRONG",{class:!0});var a=$(e);i=K(a,s),a.forEach(c),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(t,a){R(t,e,a),r(e,i)},p(t,a){a&4&&s!==(s=t[2].name_ar[0]+"")&&ae(i,s)},d(t){t&&c(e)}}}function It(n){var ce,fe;let e,s,i,t,a='<h5 class="modal-title" id="exampleModalgridLabel">Add Division</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',l,d,h,v,p,m,w,M="Name",T,b,P,E,D,y,O="Arabic Name",U,S,H,x,I,C,B="Close",N,z,Y,j,g=n[3]&&xe(),_=((ce=n[2])==null?void 0:ce.name)&&He(n),k=((fe=n[2])==null?void 0:fe.name_ar)&&je(n);return{c(){e=f("div"),s=f("div"),i=f("div"),t=f("div"),t.innerHTML=a,l=L(),d=f("div"),g&&g.c(),h=L(),v=f("form"),p=f("div"),m=f("div"),w=f("label"),w.textContent=M,T=L(),b=f("input"),P=L(),_&&_.c(),E=L(),D=f("div"),y=f("label"),y.textContent=O,U=L(),S=f("input"),H=L(),k&&k.c(),x=L(),I=f("div"),C=f("button"),C.textContent=B,N=L(),z=f("input"),this.h()},l(A){e=u(A,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var F=$(e);s=u(F,"DIV",{class:!0});var G=$(s);i=u(G,"DIV",{class:!0});var J=$(i);t=u(J,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-ewxzyn"&&(t.innerHTML=a),l=V(J),d=u(J,"DIV",{class:!0});var te=$(d);g&&g.l(te),h=V(te),v=u(te,"FORM",{});var se=$(v);p=u(se,"DIV",{class:!0});var Z=$(p);m=u(Z,"DIV",{});var ee=$(m);w=u(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(w)!=="svelte-yxozon"&&(w.textContent=M),T=V(ee),b=u(ee,"INPUT",{type:!0,class:!0,id:!0,name:!0,placeholder:!0}),P=V(ee),_&&_.l(ee),ee.forEach(c),E=V(Z),D=u(Z,"DIV",{});var ie=$(D);y=u(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(y)!=="svelte-1kktvq2"&&(y.textContent=O),U=V(ie),S=u(ie,"INPUT",{type:!0,class:!0,id:!0,name:!0,dir:!0,placeholder:!0}),H=V(ie),k&&k.l(ie),ie.forEach(c),x=V(Z),I=u(Z,"DIV",{class:!0});var me=$(I);C=u(me,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),q(C)!=="svelte-1h5uvws"&&(C.textContent=B),N=V(me),z=u(me,"INPUT",{type:!0,class:!0}),me.forEach(c),Z.forEach(c),se.forEach(c),te.forEach(c),J.forEach(c),G.forEach(c),F.forEach(c),this.h()},h(){o(t,"class","modal-header"),o(w,"for","divisionName"),o(w,"class","form-label"),o(b,"type","text"),o(b,"class","form-control"),o(b,"id","divisionName"),o(b,"name","name"),o(b,"placeholder","Enter Division name"),o(y,"for","divisionarName"),o(y,"class","form-label"),o(S,"type","text"),o(S,"class","form-control"),o(S,"id","divisionName"),o(S,"name","name_ar"),o(S,"dir","rtl"),o(S,"placeholder","ادخل اسم القسم"),o(C,"type","button"),o(C,"class","btn btn-light fw-light"),o(C,"data-bs-dismiss","modal"),o(z,"type","submit"),o(z,"class","btn btn-primary waves-effect waves-light"),z.value="Save",o(I,"class","hstack gap-2 justify-content-end"),o(p,"class","row g-3"),he(v,"d-none",n[3]),o(d,"class","modal-body"),o(i,"class","modal-content"),o(s,"class","modal-dialog modal-dialog-centered"),o(e,"class","modal fade"),o(e,"id","editDivisionModal"),o(e,"tabindex","-1"),o(e,"aria-labelledby","exampleModalgridLabel"),o(e,"aria-modal","true")},m(A,F){R(A,e,F),r(e,s),r(s,i),r(i,t),r(i,l),r(i,d),g&&g.m(d,null),r(d,h),r(d,v),r(v,p),r(p,m),r(m,w),r(m,T),r(m,b),ge(b,n[4].name),r(m,P),_&&_.m(m,null),r(p,E),r(p,D),r(D,y),r(D,U),r(D,S),ge(S,n[4].name_ar),r(D,H),k&&k.m(D,null),r(p,x),r(p,I),r(I,C),n[10](C),r(I,N),r(I,z),n[11](v),Y||(j=[le(b,"input",n[8]),le(S,"input",n[9]),le(v,"submit",Se(n[6])),le(e,"hidden.bs.modal",n[7])],Y=!0)},p(A,[F]){var G,J;A[3]?g||(g=xe(),g.c(),g.m(d,h)):g&&(g.d(1),g=null),F&16&&b.value!==A[4].name&&ge(b,A[4].name),(G=A[2])!=null&&G.name?_?_.p(A,F):(_=He(A),_.c(),_.m(m,null)):_&&(_.d(1),_=null),F&16&&S.value!==A[4].name_ar&&ge(S,A[4].name_ar),(J=A[2])!=null&&J.name_ar?k?k.p(A,F):(k=je(A),k.c(),k.m(D,null)):k&&(k.d(1),k=null),F&8&&he(v,"d-none",A[3])},i:ue,o:ue,d(A){A&&c(e),g&&g.d(),_&&_.d(),k&&k.d(),n[10](null),n[11](null),Y=!1,Ce(j)}}}function Tt(n,e,s){let i,{divisionStore:t}=ye("divisionStore");$e(n,t,b=>s(4,i=b));let a,l,d,h=!1;async function v(){s(3,h=!0),s(2,d={});let b=new FormData(l),P=await fetch(Xe(i.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:b});if(Ee(P),P=await P.json(),s(3,h=!1),P.status=="success"){a.click();let E=`Edited ${t.name} successfuly`;Me(E,"success"),Le("divisions:refresh"),p()}else s(2,d=P.errors)}function p(){l.reset(),s(2,d={})}function m(){i.name=this.value,t.set(i)}function w(){i.name_ar=this.value,t.set(i)}function M(b){be[b?"unshift":"push"](()=>{a=b,s(0,a)})}function T(b){be[b?"unshift":"push"](()=>{l=b,s(1,l)})}return[a,l,d,h,i,t,v,p,m,w,M,T]}class kt extends pe{constructor(e){super(),_e(this,e,Tt,It,ve,{})}}function St(n){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="View"><i class="ri-eye-fill"></i></a>',i,t;return{c(){e=f("span"),e.innerHTML=s,this.h()},l(a){e=u(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),q(e)!=="svelte-2k10vf"&&(e.innerHTML=s),this.h()},h(){o(e,"data-bs-toggle","modal"),o(e,"data-bs-target","#viewDivisionModal")},m(a,l){R(a,e,l),i||(t=le(e,"click",n[2]),i=!0)},p:ue,d(a){a&&c(e),i=!1,t()}}}function Ct(n){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Edit"><i class="ri-edit-2-line"></i></a>',i,t;return{c(){e=f("span"),e.innerHTML=s,this.h()},l(a){e=u(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),q(e)!=="svelte-4xehdu"&&(e.innerHTML=s),this.h()},h(){o(e,"data-bs-toggle","modal"),o(e,"data-bs-target","#editDivisionModal")},m(a,l){R(a,e,l),i||(t=le(e,"click",n[2]),i=!0)},p:ue,d(a){a&&c(e),i=!1,t()}}}function Mt(n){let e,s='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Delete"><i class="ri-delete-bin-line"></i></a>',i,t;return{c(){e=f("span"),e.innerHTML=s,this.h()},l(a){e=u(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),q(e)!=="svelte-12qhecw"&&(e.innerHTML=s),this.h()},h(){o(e,"data-bs-toggle","modal"),o(e,"data-bs-target","#deleteDivisionModal")},m(a,l){R(a,e,l),i||(t=le(e,"click",n[2]),i=!0)},p:ue,d(a){a&&c(e),i=!1,t()}}}function Lt(n){let e,s,i='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',t,a,l=n[0].id+"",d,h,v,p=n[0].name+"",m,w,M,T=n[0].name_ar+"",b,P,E,D,y=JSON.parse(sessionStorage.getItem("permissions")).includes("divisions.show"),O,U=JSON.parse(sessionStorage.getItem("permissions")).includes("divisions.update"),S,H=JSON.parse(sessionStorage.getItem("permissions")).includes("divisions.destroy"),x=y&&St(n),I=U&&Ct(n),C=H&&Mt(n);return{c(){e=f("tr"),s=f("td"),s.innerHTML=i,t=L(),a=f("td"),d=Q(l),h=L(),v=f("td"),m=Q(p),w=L(),M=f("td"),b=Q(T),P=L(),E=f("td"),D=f("div"),x&&x.c(),O=L(),I&&I.c(),S=L(),C&&C.c(),this.h()},l(B){e=u(B,"TR",{scope:!0});var N=$(e);s=u(N,"TD",{"data-svelte-h":!0}),q(s)!=="svelte-1wqjv4e"&&(s.innerHTML=i),t=V(N),a=u(N,"TD",{});var z=$(a);d=K(z,l),z.forEach(c),h=V(N),v=u(N,"TD",{});var Y=$(v);m=K(Y,p),Y.forEach(c),w=V(N),M=u(N,"TD",{});var j=$(M);b=K(j,T),j.forEach(c),P=V(N),E=u(N,"TD",{});var g=$(E);D=u(g,"DIV",{class:!0});var _=$(D);x&&x.l(_),O=V(_),I&&I.l(_),S=V(_),C&&C.l(_),_.forEach(c),g.forEach(c),N.forEach(c),this.h()},h(){o(D,"class","hstack gap-3 flex-wrap"),o(e,"scope","row")},m(B,N){R(B,e,N),r(e,s),r(e,t),r(e,a),r(a,d),r(e,h),r(e,v),r(v,m),r(e,w),r(e,M),r(M,b),r(e,P),r(e,E),r(E,D),x&&x.m(D,null),r(D,O),I&&I.m(D,null),r(D,S),C&&C.m(D,null)},p(B,[N]){N&1&&l!==(l=B[0].id+"")&&ae(d,l),N&1&&p!==(p=B[0].name+"")&&ae(m,p),N&1&&T!==(T=B[0].name_ar+"")&&ae(b,T),y&&x.p(B,N),U&&I.p(B,N),H&&C.p(B,N)},i:ue,o:ue,d(B){B&&c(e),x&&x.d(),I&&I.d(),C&&C.d()}}}function Vt(n,e,s){let i,{division:t}=e,{divisionStore:a}=ye("divisionStore");$e(n,a,d=>s(3,i=d));function l(){et(a,i=JSON.parse(JSON.stringify(t)),i)}return n.$$set=d=>{"division"in d&&s(0,t=d.division)},[t,a,l]}class Nt extends pe{constructor(e){super(),_e(this,e,Vt,Lt,ve,{division:0})}}function Pe(n,e,s){const i=n.slice();return i[2]=e[s],i}function Oe(n){let e,s,i=Ne(n[0]),t=[];for(let l=0;l<i.length;l+=1)t[l]=Re(Pe(n,i,l));const a=l=>X(t[l],1,1,()=>{t[l]=null});return{c(){e=f("tbody");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=u(l,"TBODY",{class:!0});var d=$(e);for(let h=0;h<t.length;h+=1)t[h].l(d);d.forEach(c),this.h()},h(){o(e,"class","list")},m(l,d){R(l,e,d);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s=!0},p(l,d){if(d&1){i=Ne(l[0]);let h;for(h=0;h<i.length;h+=1){const v=Pe(l,i,h);t[h]?(t[h].p(v,d),W(t[h],1)):(t[h]=Re(v),t[h].c(),W(t[h],1),t[h].m(e,null))}for(Ge(),h=i.length;h<t.length;h+=1)a(h);Je()}},i(l){if(!s){for(let d=0;d<i.length;d+=1)W(t[d]);s=!0}},o(l){t=t.filter(Boolean);for(let d=0;d<t.length;d+=1)X(t[d]);s=!1},d(l){l&&c(e),tt(t,l)}}}function Re(n){let e,s;return e=new Nt({props:{division:n[2]}}),{c(){ne(e.$$.fragment)},l(i){oe(e.$$.fragment,i)},m(i,t){re(e,i,t),s=!0},p(i,t){const a={};t&1&&(a.division=i[2]),e.$set(a)},i(i){s||(W(e.$$.fragment,i),s=!0)},o(i){X(e.$$.fragment,i),s=!1},d(i){de(e,i)}}}function Ue(n){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(i){e=u(i,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-2svhwp"&&(e.innerHTML=s),this.h()},h(){o(e,"class","text-center")},m(i,t){R(i,e,t)},d(i){i&&c(e)}}}function At(n){var y,O,U,S,H,x,I,C,B,N,z,Y;let e,s,i,t,a,l='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Name</th> <th scope="col">Arabic name</th> <th scope="col">Action</th></tr>',d,h,v,p,m,w,M,T,b,P,E=(n[1]==null||((U=(O=(y=n[1])==null?void 0:y.from)==null?void 0:O.route)==null?void 0:U.id)!=((x=(H=(S=n[1])==null?void 0:S.to)==null?void 0:H.route)==null?void 0:x.id))&&Oe(n);v=new kt({}),m=new yt({}),M=new _t({});let D=((B=(C=(I=n[1])==null?void 0:I.from)==null?void 0:C.route)==null?void 0:B.id)==((Y=(z=(N=n[1])==null?void 0:N.to)==null?void 0:z.route)==null?void 0:Y.id)&&n[1]&&Ue();return{c(){e=f("div"),s=f("div"),i=Q(`²
        `),t=f("table"),a=f("thead"),a.innerHTML=l,d=L(),E&&E.c(),h=L(),ne(v.$$.fragment),p=L(),ne(m.$$.fragment),w=L(),ne(M.$$.fragment),T=L(),D&&D.c(),b=Ve(),this.h()},l(j){e=u(j,"DIV",{class:!0});var g=$(e);s=u(g,"DIV",{class:!0});var _=$(s);i=K(_,`²
        `),t=u(_,"TABLE",{class:!0});var k=$(t);a=u(k,"THEAD",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-bep7pd"&&(a.innerHTML=l),d=V(k),E&&E.l(k),k.forEach(c),h=V(_),oe(v.$$.fragment,_),p=V(_),oe(m.$$.fragment,_),w=V(_),oe(M.$$.fragment,_),_.forEach(c),g.forEach(c),T=V(j),D&&D.l(j),b=Ve(),this.h()},h(){o(a,"class","table-light"),o(t,"class","table align-middle table-nowrap mb-0 border-top"),o(s,"class","table-responsive"),o(e,"class","row pe-0")},m(j,g){R(j,e,g),r(e,s),r(s,i),r(s,t),r(t,a),r(t,d),E&&E.m(t,null),r(s,h),re(v,s,null),r(s,p),re(m,s,null),r(s,w),re(M,s,null),R(j,T,g),D&&D.m(j,g),R(j,b,g),P=!0},p(j,[g]){var _,k,ce,fe,A,F,G,J,te,se,Z,ee;j[1]==null||((ce=(k=(_=j[1])==null?void 0:_.from)==null?void 0:k.route)==null?void 0:ce.id)!=((F=(A=(fe=j[1])==null?void 0:fe.to)==null?void 0:A.route)==null?void 0:F.id)?E?(E.p(j,g),g&2&&W(E,1)):(E=Oe(j),E.c(),W(E,1),E.m(t,null)):E&&(Ge(),X(E,1,1,()=>{E=null}),Je()),((te=(J=(G=j[1])==null?void 0:G.from)==null?void 0:J.route)==null?void 0:te.id)==((ee=(Z=(se=j[1])==null?void 0:se.to)==null?void 0:Z.route)==null?void 0:ee.id)&&j[1]?D||(D=Ue(),D.c(),D.m(b.parentNode,b)):D&&(D.d(1),D=null)},i(j){P||(W(E),W(v.$$.fragment,j),W(m.$$.fragment,j),W(M.$$.fragment,j),P=!0)},o(j){X(E),X(v.$$.fragment,j),X(m.$$.fragment,j),X(M.$$.fragment,j),P=!1},d(j){j&&(c(e),c(T),c(b)),E&&E.d(),de(v),de(m),de(M),D&&D.d(j)}}}function xt(n,e,s){let i;$e(n,ct,a=>s(1,i=a));let{divisionsList:t}=e;return qe("divisionStore",{divisionStore:Ye({})}),n.$$set=a=>{"divisionsList"in a&&s(0,t=a.divisionsList)},[t,i]}class Ht extends pe{constructor(e){super(),_e(this,e,xt,At,ve,{divisionsList:0})}}function Be(n){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=s,this.h()},l(i){e=u(i,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-dxv6g9"&&(e.innerHTML=s),this.h()},h(){o(e,"class","text-center")},m(i,t){R(i,e,t)},d(i){i&&c(e)}}}function ze(n){let e,s=n[3].name[0]+"",i;return{c(){e=f("strong"),i=Q(s),this.h()},l(t){e=u(t,"STRONG",{class:!0});var a=$(e);i=K(a,s),a.forEach(c),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(t,a){R(t,e,a),r(e,i)},p(t,a){a&8&&s!==(s=t[3].name[0]+"")&&ae(i,s)},d(t){t&&c(e)}}}function Fe(n){let e,s=n[3].name_ar[0]+"",i;return{c(){e=f("strong"),i=Q(s),this.h()},l(t){e=u(t,"STRONG",{class:!0});var a=$(e);i=K(a,s),a.forEach(c),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(t,a){R(t,e,a),r(e,i)},p(t,a){a&8&&s!==(s=t[3].name_ar[0]+"")&&ae(i,s)},d(t){t&&c(e)}}}function jt(n){var ce,fe;let e,s,i,t,a='<h5 class="modal-title" id="exampleModalgridLabel">Add Division</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',l,d,h,v,p,m,w,M="Name",T,b,P,E,D,y,O="Arabic Name",U,S,H,x,I,C,B="Close",N,z,Y,j,g=n[4]&&Be(),_=((ce=n[3])==null?void 0:ce.name)&&ze(n),k=((fe=n[3])==null?void 0:fe.name_ar)&&Fe(n);return{c(){e=f("div"),s=f("div"),i=f("div"),t=f("div"),t.innerHTML=a,l=L(),d=f("div"),g&&g.c(),h=L(),v=f("form"),p=f("div"),m=f("div"),w=f("label"),w.textContent=M,T=L(),b=f("input"),P=L(),_&&_.c(),E=L(),D=f("div"),y=f("label"),y.textContent=O,U=L(),S=f("input"),H=L(),k&&k.c(),x=L(),I=f("div"),C=f("button"),C.textContent=B,N=L(),z=f("input"),this.h()},l(A){e=u(A,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var F=$(e);s=u(F,"DIV",{class:!0});var G=$(s);i=u(G,"DIV",{class:!0});var J=$(i);t=u(J,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-ewxzyn"&&(t.innerHTML=a),l=V(J),d=u(J,"DIV",{class:!0});var te=$(d);g&&g.l(te),h=V(te),v=u(te,"FORM",{});var se=$(v);p=u(se,"DIV",{class:!0});var Z=$(p);m=u(Z,"DIV",{});var ee=$(m);w=u(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(w)!=="svelte-yxozon"&&(w.textContent=M),T=V(ee),b=u(ee,"INPUT",{type:!0,class:!0,id:!0,name:!0,placeholder:!0}),P=V(ee),_&&_.l(ee),ee.forEach(c),E=V(Z),D=u(Z,"DIV",{});var ie=$(D);y=u(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(y)!=="svelte-1kktvq2"&&(y.textContent=O),U=V(ie),S=u(ie,"INPUT",{type:!0,class:!0,id:!0,name:!0,dir:!0,placeholder:!0}),H=V(ie),k&&k.l(ie),ie.forEach(c),x=V(Z),I=u(Z,"DIV",{class:!0});var me=$(I);C=u(me,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),q(C)!=="svelte-1h5uvws"&&(C.textContent=B),N=V(me),z=u(me,"INPUT",{type:!0,class:!0}),me.forEach(c),Z.forEach(c),se.forEach(c),te.forEach(c),J.forEach(c),G.forEach(c),F.forEach(c),this.h()},h(){o(t,"class","modal-header"),o(w,"for","divisionName"),o(w,"class","form-label"),o(b,"type","text"),o(b,"class","form-control"),o(b,"id","divisionName"),o(b,"name","name"),o(b,"placeholder","Enter Division name"),o(y,"for","divisionarName"),o(y,"class","form-label"),o(S,"type","text"),o(S,"class","form-control"),o(S,"id","divisionName"),o(S,"name","name_ar"),o(S,"dir","rtl"),o(S,"placeholder","ادخل اسم القسم"),o(C,"type","button"),o(C,"class","btn btn-light fw-light"),o(C,"data-bs-dismiss","modal"),o(z,"type","submit"),o(z,"class","btn btn-primary waves-effect waves-light"),z.value="Save",o(I,"class","hstack gap-2 justify-content-end"),o(p,"class","row g-3"),he(v,"d-none",n[4]),o(d,"class","modal-body"),o(i,"class","modal-content"),o(s,"class","modal-dialog modal-dialog-centered"),o(e,"class","modal fade"),o(e,"id","addDivisionModal"),o(e,"tabindex","-1"),o(e,"aria-labelledby","exampleModalgridLabel"),o(e,"aria-modal","true")},m(A,F){R(A,e,F),r(e,s),r(s,i),r(i,t),r(i,l),r(i,d),g&&g.m(d,null),r(d,h),r(d,v),r(v,p),r(p,m),r(m,w),r(m,T),r(m,b),ge(b,n[0]),r(m,P),_&&_.m(m,null),r(p,E),r(p,D),r(D,y),r(D,U),r(D,S),r(D,H),k&&k.m(D,null),r(p,x),r(p,I),r(I,C),n[9](C),r(I,N),r(I,z),n[10](v),Y||(j=[le(b,"input",n[8]),le(v,"submit",Se(n[5])),le(e,"hidden.bs.modal",n[6])],Y=!0)},p(A,[F]){var G,J;A[4]?g||(g=Be(),g.c(),g.m(d,h)):g&&(g.d(1),g=null),F&1&&b.value!==A[0]&&ge(b,A[0]),(G=A[3])!=null&&G.name?_?_.p(A,F):(_=ze(A),_.c(),_.m(m,null)):_&&(_.d(1),_=null),(J=A[3])!=null&&J.name_ar?k?k.p(A,F):(k=Fe(A),k.c(),k.m(D,null)):k&&(k.d(1),k=null),F&16&&he(v,"d-none",A[4])},i:ue,o:ue,d(A){A&&c(e),g&&g.d(),_&&_.d(),k&&k.d(),n[9](null),n[10](null),Y=!1,Ce(j)}}}function Pt(n,e,s){let{schoolId:i}=e,t,a,l,d,h=!1;async function v(){s(4,h=!0),s(3,d={});let T=new FormData(l),b=await fetch(Ze(i),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:T});if(Ee(b),b=await b.json(),s(4,h=!1),b.status=="success"){a.click();let P=`Added ${t} as a new division`;Me(P,"success"),Le("divisions:refresh"),p()}else s(3,d=b.errors)}function p(){l.reset(),s(3,d={})}function m(){t=this.value,s(0,t)}function w(T){be[T?"unshift":"push"](()=>{a=T,s(1,a)})}function M(T){be[T?"unshift":"push"](()=>{l=T,s(2,l)})}return n.$$set=T=>{"schoolId"in T&&s(7,i=T.schoolId)},[t,a,l,d,h,v,p,i,m,w,M]}class Ot extends pe{constructor(e){super(),_e(this,e,Pt,jt,ve,{schoolId:7})}}function Rt(n){let e,s='<i class="ri-add-line align-bottom me-1"></i>Add Division',i,t,a;return t=new Ot({props:{schoolId:n[2].id}}),{c(){e=f("button"),e.innerHTML=s,i=L(),ne(t.$$.fragment),this.h()},l(l){e=u(l,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),q(e)!=="svelte-spi3o3"&&(e.innerHTML=s),i=V(l),oe(t.$$.fragment,l),this.h()},h(){o(e,"type","button"),o(e,"data-bs-toggle","modal"),o(e,"data-bs-target","#addDivisionModal"),o(e,"class","btn btn-primary waves-effect waves-light")},m(l,d){R(l,e,d),R(l,i,d),re(t,l,d),a=!0},p(l,d){const h={};d&4&&(h.schoolId=l[2].id),t.$set(h)},i(l){a||(W(t.$$.fragment,l),a=!0)},o(l){X(t.$$.fragment,l),a=!1},d(l){l&&(c(e),c(i)),de(t,l)}}}function Ut(n){let e,s,i,t,a,l,d,h;i=new dt({props:{type:"Division"}}),a=new Ht({props:{divisionsList:n[3]}});const v=[n[1]];let p={};for(let m=0;m<v.length;m+=1)p=at(p,v[m]);return d=new rt({props:p}),{c(){e=f("div"),s=f("div"),ne(i.$$.fragment),t=L(),ne(a.$$.fragment),l=L(),ne(d.$$.fragment),this.h()},l(m){e=u(m,"DIV",{class:!0});var w=$(e);s=u(w,"DIV",{class:!0});var M=$(s);oe(i.$$.fragment,M),t=V(M),oe(a.$$.fragment,M),l=V(M),oe(d.$$.fragment,M),M.forEach(c),w.forEach(c),this.h()},h(){o(s,"class","row"),o(e,"class","card-body")},m(m,w){R(m,e,w),r(e,s),re(i,s,null),r(s,t),re(a,s,null),r(s,l),re(d,s,null),h=!0},p(m,w){const M={};w&8&&(M.divisionsList=m[3]),a.$set(M);const T=w&2?nt(v,[ot(m[1])]):{};d.$set(T)},i(m){h||(W(i.$$.fragment,m),W(a.$$.fragment,m),W(d.$$.fragment,m),h=!0)},o(m){X(i.$$.fragment,m),X(a.$$.fragment,m),X(d.$$.fragment,m),h=!1},d(m){m&&c(e),de(i),de(a),de(d)}}}function Bt(n){let e,s,i,t,a,l,d,h,v,p,m,w=n[2].name+"",M,T,b,P,E,D=JSON.parse(sessionStorage.getItem("permissions")).includes("divisions.store"),y,O=JSON.parse(sessionStorage.getItem("permissions")).includes("divisions.index"),U,S,H=D&&Rt(n),x=O&&Ut(n);return{c(){e=f("div"),s=f("div"),i=f("div"),t=f("div"),a=f("div"),l=f("div"),d=f("img"),v=L(),p=f("h4"),m=f("span"),M=Q(w),T=Q("'s"),b=Q(" Divisions Management"),P=L(),E=f("div"),H&&H.c(),y=L(),x&&x.c(),this.h()},l(I){e=u(I,"DIV",{class:!0});var C=$(e);s=u(C,"DIV",{class:!0});var B=$(s);i=u(B,"DIV",{class:!0});var N=$(i);t=u(N,"DIV",{class:!0});var z=$(t);a=u(z,"DIV",{class:!0});var Y=$(a);l=u(Y,"DIV",{class:!0});var j=$(l);d=u(j,"IMG",{src:!0,alt:!0,class:!0}),j.forEach(c),v=V(Y),p=u(Y,"H4",{class:!0});var g=$(p);m=u(g,"SPAN",{class:!0});var _=$(m);M=K(_,w),T=K(_,"'s"),_.forEach(c),b=K(g," Divisions Management"),g.forEach(c),Y.forEach(c),P=V(z),E=u(z,"DIV",{class:!0});var k=$(E);H&&H.l(k),k.forEach(c),z.forEach(c),y=V(N),x&&x.l(N),N.forEach(c),B.forEach(c),C.forEach(c),this.h()},h(){ke(d.src,h=n[2].logo.full_path)||o(d,"src",h),o(d,"alt",""),o(d,"class","avatar-xs rounded-circle"),o(l,"class","flex-shrink-0"),o(m,"class","text-primary"),o(p,"class","card-title mb-0 flex-grow-1"),o(a,"class","d-flex gap-2 align-items-center flex-grow-1"),o(E,"class","flex-shrink-0"),o(t,"class","card-header align-items-center d-flex"),o(i,"class","card"),o(s,"class","col-lg-12"),o(e,"class","row")},m(I,C){R(I,e,C),r(e,s),r(s,i),r(i,t),r(t,a),r(a,l),r(l,d),r(a,v),r(a,p),r(p,m),r(m,M),r(m,T),r(p,b),r(t,P),r(t,E),H&&H.m(E,null),r(i,y),x&&x.m(i,null),n[5](e),S=!0},p(I,[C]){(!S||C&4&&!ke(d.src,h=I[2].logo.full_path))&&o(d,"src",h),(!S||C&4)&&w!==(w=I[2].name+"")&&ae(M,w),D&&H.p(I,C),O&&x.p(I,C)},i(I){S||(W(H),W(x),I&&(U||st(()=>{U=lt(e,ut,{duration:200}),U.start()})),S=!0)},o(I){X(H),X(x),S=!1},d(I){I&&c(e),H&&H.d(),x&&x.d(),n[5](null)}}}function zt(n,e,s){let i,t,a,{data:l}=e,d;it(()=>{ft(d)}),qe("divisionStore",{divisionStore:Ye({})});function h(v){be[v?"unshift":"push"](()=>{d=v,s(0,d)})}return n.$$set=v=>{"data"in v&&s(4,l=v.data)},n.$$.update=()=>{n.$$.dirty&16&&s(3,i=l.divisionsResponse.data.divisions),n.$$.dirty&16&&s(2,t=l.divisionsResponse.data.school),n.$$.dirty&16&&s(1,a=l.divisionsResponse.pagination)},[d,a,t,i,l,h]}class ns extends pe{constructor(e){super(),_e(this,e,zt,Bt,ve,{data:4})}}export{ns as component,ls as universal};
