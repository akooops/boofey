import{a2 as ot,D as dt,a3 as ct,a4 as ft,a5 as ut}from"../chunks/paths.29c5142d.js";import{a as ke}from"../chunks/auth.82ff8344.js";import{s as ve,f as c,a as V,l as Z,g as f,h as b,z as B,c as L,d as m,m as ee,j as i,E as mt,W as Se,k as Pe,B as oe,i as F,C as l,F as ie,Q as $e,n as de,A as te,G as He,T as Me,y as we,p as ge,K as xe,I as ht,e as Qe,J as vt,D as pt,H as _t,o as bt,R as gt}from"../chunks/scheduler.726ac76d.js";import{S as pe,i as _e,b as ce,d as fe,m as ue,a as Y,g as rt,t as X,c as nt,e as me,f as wt}from"../chunks/index.8a5ed380.js";import{g as Dt,a as Et}from"../chunks/spread.8a54911c.js";import{P as yt}from"../chunks/Pagination.0a529dad.js";import{S as It}from"../chunks/SearchTable.1c079677.js";import{e as Ke}from"../chunks/each.381f634d.js";import{t as Ne}from"../chunks/toast.aca1940a.js";import{i as je,f as Te}from"../chunks/utils.5f096ebf.js";import{w as Tt}from"../chunks/singletons.df66ea99.js";import{n as xt}from"../chunks/stores.1008b3f8.js";import{i as kt}from"../chunks/initToolTip.b2308c6a.js";import{f as Mt}from"../chunks/index.955fed47.js";import"../chunks/paths.7846b4ff.js";const Ct=!1;async function Vt({fetch:n,cookies:e,url:a,depends:t}){t("permissions:refresh");let s=await n(ot(dt(a)),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return ke(s),{permissionsResponse:await s.json(),tabTitle:"Permissions"}}const _s=Object.freeze(Object.defineProperty({__proto__:null,load:Vt,ssr:Ct},Symbol.toStringTag,{value:"Module"}));function We(n){let e,a='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=c("div"),e.innerHTML=a,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1ei7695"&&(e.innerHTML=a),this.h()},h(){i(e,"class","mt-2")},m(t,s){F(t,e,s)},d(t){t&&m(e)}}}function Lt(n){let e,a,t,s,r,d='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',o,u,v,h,_,y,I,p,g="Are you Sure ?",w,x,H,C,N=`${n[2].name} #${n[2].id}`,$,S,O,P,D,T="Close",z,E,R="Delete",k,U,M=n[1]&&We();return{c(){e=c("div"),a=c("div"),t=c("div"),s=c("div"),r=c("div"),r.innerHTML=d,o=V(),M&&M.c(),u=V(),v=c("div"),h=c("form"),_=c("lord-icon"),I=V(),p=c("h4"),p.textContent=g,w=V(),x=c("p"),H=Z("Are you Sure You want to Delete "),C=c("span"),$=Z(N),S=Z(" ?"),O=V(),P=c("div"),D=c("button"),D.textContent=T,z=V(),E=c("button"),E.textContent=R,this.h()},l(j){e=f(j,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var A=b(e);a=f(A,"DIV",{class:!0});var q=b(a);t=f(q,"DIV",{class:!0});var J=b(t);s=f(J,"DIV",{class:!0});var G=b(s);r=f(G,"DIV",{class:!0,"data-svelte-h":!0}),B(r)!=="svelte-3pipod"&&(r.innerHTML=d),o=L(G),M&&M.l(G),u=L(G),v=f(G,"DIV",{class:!0});var K=b(v);h=f(K,"FORM",{});var Q=b(h);_=f(Q,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),b(_).forEach(m),I=L(Q),p=f(Q,"H4",{class:!0,"data-svelte-h":!0}),B(p)!=="svelte-1s07vlj"&&(p.textContent=g),w=L(Q),x=f(Q,"P",{class:!0});var W=b(x);H=ee(W,"Are you Sure You want to Delete "),C=f(W,"SPAN",{class:!0});var ae=b(C);$=ee(ae,N),ae.forEach(m),S=ee(W," ?"),W.forEach(m),O=L(Q),P=f(Q,"DIV",{class:!0});var se=b(P);D=f(se,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),B(D)!=="svelte-1h5uvws"&&(D.textContent=T),z=L(se),E=f(se,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(E)!=="svelte-iuig3c"&&(E.textContent=R),se.forEach(m),Q.forEach(m),K.forEach(m),G.forEach(m),J.forEach(m),q.forEach(m),A.forEach(m),this.h()},h(){i(r,"class","text-end"),mt(_.src,y="https://cdn.lordicon.com/gsqxdxog.json")||Se(_,"src",y),Se(_,"trigger","loop"),Se(_,"colors","primary:#f7b84b,secondary:#f06548"),Pe(_,"width","100px"),Pe(_,"height","100px"),i(p,"class","mb-3 mt-4"),i(C,"class","text-primary"),i(x,"class","text-muted fs-15 mb-4"),i(D,"type","button"),i(D,"class","btn btn-light fw-light"),i(D,"data-bs-dismiss","modal"),i(E,"type","button"),i(E,"class","btn btn-danger waves-effect waves-light"),i(P,"class","hstack gap-2 justify-content-center"),oe(h,"d-none",n[1]),i(v,"class","mt-2"),oe(v,"d-none",n[1]),i(s,"class","modal-body text-center p-5"),i(t,"class","modal-content"),i(a,"class","modal-dialog modal-dialog-centered"),i(e,"id","deletePermissionModal"),i(e,"class","modal fade"),i(e,"tabindex","-1"),i(e,"aria-hidden","true"),Pe(e,"display","none")},m(j,A){F(j,e,A),l(e,a),l(a,t),l(t,s),l(s,r),l(s,o),M&&M.m(s,null),l(s,u),l(s,v),l(v,h),l(h,_),l(h,I),l(h,p),l(h,w),l(h,x),l(x,H),l(x,C),l(C,$),l(x,S),l(h,O),l(h,P),l(P,D),n[5](D),l(P,z),l(P,E),k||(U=[ie(E,"click",n[4]),ie(h,"submit",$e(n[4]))],k=!0)},p(j,[A]){j[1]?M||(M=We(),M.c(),M.m(s,u)):M&&(M.d(1),M=null),A&4&&N!==(N=`${j[2].name} #${j[2].id}`)&&de($,N),A&2&&oe(h,"d-none",j[1]),A&2&&oe(v,"d-none",j[1])},i:te,o:te,d(j){j&&m(e),M&&M.d(),n[5](null),k=!1,He(U)}}}function St(n,e,a){let t,s,r=!1,{permissionStore:d}=Me("permissionStore");we(n,d,v=>a(2,t=v));async function o(){a(1,r=!0);let v=await fetch(ct(t.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"DELETE"});if(ke(v),v=await v.json(),a(1,r=!1),v.status=="success"){s.click();let h=`Deleted ${t.name} #${t.id}`;Ne(h,"success"),je("permissions:refresh")}}function u(v){ge[v?"unshift":"push"](()=>{s=v,a(0,s)})}return[s,r,t,d,o,u]}class Pt extends pe{constructor(e){super(),_e(this,e,St,Lt,ve,{})}}function $t(n){let e,a,t,s,r='<h5 class="modal-title" id="exampleModalgridLabel">View Permission</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',d,o,u,v,h,_='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',y,I,p,g,w,x=n[0].name+"",H,C,N,$,S,O='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',P,D,T,z,E,R=Te(n[0].created_at)+"",k,U,M,j,A,q='<i class="ri-arrow-right-s-line text-muted fs-16"></i>',J,G,K,Q,W,ae=Te(n[0].updated_at)+"",se,be,he,Ae='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>';return{c(){e=c("div"),a=c("div"),t=c("div"),s=c("div"),s.innerHTML=r,d=V(),o=c("div"),u=c("div"),v=c("div"),h=c("div"),h.innerHTML=_,y=V(),I=c("div"),p=c("h6"),g=Z("Name : "),w=c("span"),H=Z(x),C=V(),N=c("div"),$=c("div"),S=c("div"),S.innerHTML=O,P=V(),D=c("div"),T=c("h6"),z=Z("Created at : "),E=c("span"),k=Z(R),U=V(),M=c("div"),j=c("div"),A=c("div"),A.innerHTML=q,J=V(),G=c("div"),K=c("h6"),Q=Z("Updated at : "),W=c("span"),se=Z(ae),be=V(),he=c("div"),he.innerHTML=Ae,this.h()},l(le){e=f(le,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var re=b(e);a=f(re,"DIV",{class:!0});var Oe=b(a);t=f(Oe,"DIV",{class:!0});var De=b(t);s=f(De,"DIV",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-fwqd2z"&&(s.innerHTML=r),d=L(De),o=f(De,"DIV",{class:!0});var ne=b(o);u=f(ne,"DIV",{class:!0});var Re=b(u);v=f(Re,"DIV",{class:!0});var Ee=b(v);h=f(Ee,"DIV",{class:!0,"data-svelte-h":!0}),B(h)!=="svelte-1x836j2"&&(h.innerHTML=_),y=L(Ee),I=f(Ee,"DIV",{class:!0});var Ue=b(I);p=f(Ue,"H6",{class:!0,id:!0});var Ce=b(p);g=ee(Ce,"Name : "),w=f(Ce,"SPAN",{class:!0});var Be=b(w);H=ee(Be,x),Be.forEach(m),Ce.forEach(m),Ue.forEach(m),Ee.forEach(m),Re.forEach(m),C=L(ne),N=f(ne,"DIV",{class:!0});var Fe=b(N);$=f(Fe,"DIV",{class:!0});var ye=b($);S=f(ye,"DIV",{class:!0,"data-svelte-h":!0}),B(S)!=="svelte-1x836j2"&&(S.innerHTML=O),P=L(ye),D=f(ye,"DIV",{class:!0});var ze=b(D);T=f(ze,"H6",{class:!0,id:!0});var Ve=b(T);z=ee(Ve,"Created at : "),E=f(Ve,"SPAN",{class:!0});var Je=b(E);k=ee(Je,R),Je.forEach(m),Ve.forEach(m),ze.forEach(m),ye.forEach(m),Fe.forEach(m),U=L(ne),M=f(ne,"DIV",{class:!0});var qe=b(M);j=f(qe,"DIV",{class:!0});var Ie=b(j);A=f(Ie,"DIV",{class:!0,"data-svelte-h":!0}),B(A)!=="svelte-1x836j2"&&(A.innerHTML=q),J=L(Ie),G=f(Ie,"DIV",{class:!0});var Ge=b(G);K=f(Ge,"H6",{class:!0,id:!0});var Le=b(K);Q=ee(Le,"Updated at : "),W=f(Le,"SPAN",{class:!0});var Ye=b(W);se=ee(Ye,ae),Ye.forEach(m),Le.forEach(m),Ge.forEach(m),Ie.forEach(m),qe.forEach(m),be=L(ne),he=f(ne,"DIV",{class:!0,"data-svelte-h":!0}),B(he)!=="svelte-1vrqtk3"&&(he.innerHTML=Ae),ne.forEach(m),De.forEach(m),Oe.forEach(m),re.forEach(m),this.h()},h(){i(s,"class","modal-header"),i(h,"class","flex-shrink-0 me-3"),i(w,"class","fw-normal"),i(p,"class","d-block fw-semibold mb-0"),i(p,"id","event-start-date-tag"),i(I,"class","flex-grow-1"),i(v,"class","flex-grow-1 d-flex align-items-center"),i(u,"class","d-flex mb-2"),i(S,"class","flex-shrink-0 me-3"),i(E,"class","fw-normal"),i(T,"class","d-block fw-semibold mb-0"),i(T,"id","event-start-date-tag"),i(D,"class","flex-grow-1"),i($,"class","flex-grow-1 d-flex align-items-center"),i(N,"class","d-flex mb-2"),i(A,"class","flex-shrink-0 me-3"),i(W,"class","fw-normal"),i(K,"class","d-block fw-semibold mb-0"),i(K,"id","event-start-date-tag"),i(G,"class","flex-grow-1"),i(j,"class","flex-grow-1 d-flex align-items-center"),i(M,"class","d-flex mb-2"),i(he,"class","hstack gap-2 justify-content-end"),i(o,"class","modal-body p-4"),i(t,"class","modal-content"),i(a,"class","modal-dialog modal-dialog-centered"),i(e,"class","modal fade"),i(e,"id","viewPermissionModal"),i(e,"tabindex","-1"),i(e,"aria-labelledby","exampleModalgridLabel"),i(e,"aria-modal","true")},m(le,re){F(le,e,re),l(e,a),l(a,t),l(t,s),l(t,d),l(t,o),l(o,u),l(u,v),l(v,h),l(v,y),l(v,I),l(I,p),l(p,g),l(p,w),l(w,H),l(o,C),l(o,N),l(N,$),l($,S),l($,P),l($,D),l(D,T),l(T,z),l(T,E),l(E,k),l(o,U),l(o,M),l(M,j),l(j,A),l(j,J),l(j,G),l(G,K),l(K,Q),l(K,W),l(W,se),l(o,be),l(o,he)},p(le,[re]){re&1&&x!==(x=le[0].name+"")&&de(H,x),re&1&&R!==(R=Te(le[0].created_at)+"")&&de(k,R),re&1&&ae!==(ae=Te(le[0].updated_at)+"")&&de(se,ae)},i:te,o:te,d(le){le&&m(e)}}}function Ht(n,e,a){let t,{permissionStore:s}=Me("permissionStore");return we(n,s,r=>a(0,t=r)),[t,s]}class Nt extends pe{constructor(e){super(),_e(this,e,Ht,$t,ve,{})}}function Xe(n){let e,a='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=a,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-dxv6g9"&&(e.innerHTML=a),this.h()},h(){i(e,"class","text-center")},m(t,s){F(t,e,s)},d(t){t&&m(e)}}}function Ze(n){let e,a=n[1].name[0]+"",t;return{c(){e=c("strong"),t=Z(a),this.h()},l(s){e=f(s,"STRONG",{class:!0});var r=b(e);t=ee(r,a),r.forEach(m),this.h()},h(){i(e,"class","text-danger ms-1 my-2")},m(s,r){F(s,e,r),l(e,t)},p(s,r){r&2&&a!==(a=s[1].name[0]+"")&&de(t,a)},d(s){s&&m(e)}}}function jt(n){var z;let e,a,t,s,r='<h5 class="modal-title" id="exampleModalgridLabel">Edit Permission</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',d,o,u,v,h,_,y,I="Permission Name",p,g,w,x,H,C,N="Close",$,S,O,P,D=n[2]&&Xe(),T=((z=n[1])==null?void 0:z.name)&&Ze(n);return{c(){e=c("div"),a=c("div"),t=c("div"),s=c("div"),s.innerHTML=r,d=V(),o=c("div"),D&&D.c(),u=V(),v=c("form"),h=c("div"),_=c("div"),y=c("label"),y.textContent=I,p=V(),g=c("input"),w=V(),T&&T.c(),x=V(),H=c("div"),C=c("button"),C.textContent=N,$=V(),S=c("input"),this.h()},l(E){e=f(E,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var R=b(e);a=f(R,"DIV",{class:!0});var k=b(a);t=f(k,"DIV",{class:!0});var U=b(t);s=f(U,"DIV",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-1iyfbl6"&&(s.innerHTML=r),d=L(U),o=f(U,"DIV",{class:!0});var M=b(o);D&&D.l(M),u=L(M),v=f(M,"FORM",{});var j=b(v);h=f(j,"DIV",{class:!0});var A=b(h);_=f(A,"DIV",{});var q=b(_);y=f(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(y)!=="svelte-13mx5ln"&&(y.textContent=I),p=L(q),g=f(q,"INPUT",{type:!0,class:!0,name:!0,id:!0,placeholder:!0}),q.forEach(m),w=L(A),T&&T.l(A),x=L(A),H=f(A,"DIV",{class:!0});var J=b(H);C=f(J,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),B(C)!=="svelte-1h5uvws"&&(C.textContent=N),$=L(J),S=f(J,"INPUT",{type:!0,class:!0}),J.forEach(m),A.forEach(m),j.forEach(m),M.forEach(m),U.forEach(m),k.forEach(m),R.forEach(m),this.h()},h(){i(s,"class","modal-header"),i(y,"for","firstName"),i(y,"class","form-label"),i(g,"type","text"),i(g,"class","form-control"),i(g,"name","name"),i(g,"id","firstName"),i(g,"placeholder","Enter Permission name"),i(C,"type","button"),i(C,"class","btn btn-light fw-light"),i(C,"data-bs-dismiss","modal"),i(S,"type","submit"),i(S,"class","btn btn-primary waves-effect waves-light"),S.value="Save",i(H,"class","hstack gap-2 justify-content-end"),i(h,"class","row g-3"),oe(v,"d-none",n[2]),i(o,"class","modal-body"),i(t,"class","modal-content"),i(a,"class","modal-dialog modal-dialog-centered"),i(e,"class","modal fade"),i(e,"id","editPermissionModal"),i(e,"tabindex","-1"),i(e,"aria-labelledby","exampleModalgridLabel"),i(e,"aria-modal","true")},m(E,R){F(E,e,R),l(e,a),l(a,t),l(t,s),l(t,d),l(t,o),D&&D.m(o,null),l(o,u),l(o,v),l(v,h),l(h,_),l(_,y),l(_,p),l(_,g),xe(g,n[4].name),l(h,w),T&&T.m(h,null),l(h,x),l(h,H),l(H,C),n[9](C),l(H,$),l(H,S),n[10](v),O||(P=[ie(g,"input",n[8]),ie(v,"submit",$e(n[6])),ie(e,"hidden.bs.modal",n[7])],O=!0)},p(E,[R]){var k;E[2]?D||(D=Xe(),D.c(),D.m(o,u)):D&&(D.d(1),D=null),R&16&&g.value!==E[4].name&&xe(g,E[4].name),(k=E[1])!=null&&k.name?T?T.p(E,R):(T=Ze(E),T.c(),T.m(h,x)):T&&(T.d(1),T=null),R&4&&oe(v,"d-none",E[2])},i:te,o:te,d(E){E&&m(e),D&&D.d(),T&&T.d(),n[9](null),n[10](null),O=!1,He(P)}}}function At(n,e,a){let t,{permissionStore:s}=Me("permissionStore");we(n,s,p=>a(4,t=p));let r,d,o=!1,u;async function v(){a(2,o=!0),a(1,d={});let p=new FormData(u),g=await fetch(ft(t.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:p});if(ke(g),g=await g.json(),a(2,o=!1),g.status=="success"){r.click();let w=`Edited #${t.id} to ${t.name}`;Ne(w,"success"),je("permissions:refresh"),h()}else a(1,d=g.errors)}function h(){a(1,d={})}function _(){t.name=this.value,s.set(t)}function y(p){ge[p?"unshift":"push"](()=>{r=p,a(0,r)})}function I(p){ge[p?"unshift":"push"](()=>{u=p,a(3,u)})}return[r,d,o,u,t,s,v,h,_,y,I]}class Ot extends pe{constructor(e){super(),_e(this,e,At,jt,ve,{})}}function Rt(n){let e,a='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-title="View"><i class="ri-eye-fill"></i></a>',t,s;return{c(){e=c("span"),e.innerHTML=a,this.h()},l(r){e=f(r,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),B(e)!=="svelte-ipkwbf"&&(e.innerHTML=a),this.h()},h(){i(e,"data-bs-toggle","modal"),i(e,"data-bs-target","#viewPermissionModal")},m(r,d){F(r,e,d),t||(s=ie(e,"click",n[2]),t=!0)},p:te,d(r){r&&m(e),t=!1,s()}}}function Ut(n){let e,a='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-title="Edit"><i class="ri-edit-2-line"></i></a>',t,s;return{c(){e=c("span"),e.innerHTML=a,this.h()},l(r){e=f(r,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),B(e)!=="svelte-1b8llua"&&(e.innerHTML=a),this.h()},h(){i(e,"data-bs-toggle","modal"),i(e,"data-bs-target","#editPermissionModal")},m(r,d){F(r,e,d),t||(s=ie(e,"click",n[2]),t=!0)},p:te,d(r){r&&m(e),t=!1,s()}}}function Bt(n){let e,a='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-title="Delete"><i class="ri-delete-bin-line"></i></a>',t,s;return{c(){e=c("span"),e.innerHTML=a,this.h()},l(r){e=f(r,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),B(e)!=="svelte-1g4c2tm"&&(e.innerHTML=a),this.h()},h(){i(e,"data-bs-toggle","modal"),i(e,"data-bs-target","#deletePermissionModal")},m(r,d){F(r,e,d),t||(s=ie(e,"click",n[2]),t=!0)},p:te,d(r){r&&m(e),t=!1,s()}}}function Ft(n){let e,a,t='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',s,r,d=n[0].id+"",o,u,v,h=n[0].name+"",_,y,I,p,g=JSON.parse(sessionStorage.getItem("permissions")).includes("permissions.show"),w,x=JSON.parse(sessionStorage.getItem("permissions")).includes("permissions.update"),H,C=JSON.parse(sessionStorage.getItem("permissions")).includes("permissions.destroy"),N=g&&Rt(n),$=x&&Ut(n),S=C&&Bt(n);return{c(){e=c("tr"),a=c("td"),a.innerHTML=t,s=V(),r=c("td"),o=Z(d),u=V(),v=c("td"),_=Z(h),y=V(),I=c("td"),p=c("div"),N&&N.c(),w=V(),$&&$.c(),H=V(),S&&S.c(),this.h()},l(O){e=f(O,"TR",{scope:!0});var P=b(e);a=f(P,"TD",{"data-svelte-h":!0}),B(a)!=="svelte-1wqjv4e"&&(a.innerHTML=t),s=L(P),r=f(P,"TD",{});var D=b(r);o=ee(D,d),D.forEach(m),u=L(P),v=f(P,"TD",{});var T=b(v);_=ee(T,h),T.forEach(m),y=L(P),I=f(P,"TD",{});var z=b(I);p=f(z,"DIV",{class:!0});var E=b(p);N&&N.l(E),w=L(E),$&&$.l(E),H=L(E),S&&S.l(E),E.forEach(m),z.forEach(m),P.forEach(m),this.h()},h(){i(p,"class","hstack gap-3 flex-wrap"),i(e,"scope","row")},m(O,P){F(O,e,P),l(e,a),l(e,s),l(e,r),l(r,o),l(e,u),l(e,v),l(v,_),l(e,y),l(e,I),l(I,p),N&&N.m(p,null),l(p,w),$&&$.m(p,null),l(p,H),S&&S.m(p,null)},p(O,[P]){P&1&&d!==(d=O[0].id+"")&&de(o,d),P&1&&h!==(h=O[0].name+"")&&de(_,h),g&&N.p(O,P),x&&$.p(O,P),C&&S.p(O,P)},i:te,o:te,d(O){O&&m(e),N&&N.d(),$&&$.d(),S&&S.d()}}}function zt(n,e,a){let t,{permission:s}=e,{permissionStore:r}=Me("permissionStore");we(n,r,o=>a(3,t=o));function d(){ht(r,t=JSON.parse(JSON.stringify(s)),t)}return n.$$set=o=>{"permission"in o&&a(0,s=o.permission)},[s,r,d]}class Jt extends pe{constructor(e){super(),_e(this,e,zt,Ft,ve,{permission:0})}}function et(n,e,a){const t=n.slice();return t[2]=e[a],t}function tt(n){let e,a,t=Ke(n[0]),s=[];for(let d=0;d<t.length;d+=1)s[d]=st(et(n,t,d));const r=d=>X(s[d],1,1,()=>{s[d]=null});return{c(){e=c("tbody");for(let d=0;d<s.length;d+=1)s[d].c();this.h()},l(d){e=f(d,"TBODY",{class:!0});var o=b(e);for(let u=0;u<s.length;u+=1)s[u].l(o);o.forEach(m),this.h()},h(){i(e,"class","list")},m(d,o){F(d,e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);a=!0},p(d,o){if(o&1){t=Ke(d[0]);let u;for(u=0;u<t.length;u+=1){const v=et(d,t,u);s[u]?(s[u].p(v,o),Y(s[u],1)):(s[u]=st(v),s[u].c(),Y(s[u],1),s[u].m(e,null))}for(rt(),u=t.length;u<s.length;u+=1)r(u);nt()}},i(d){if(!a){for(let o=0;o<t.length;o+=1)Y(s[o]);a=!0}},o(d){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)X(s[o]);a=!1},d(d){d&&m(e),pt(s,d)}}}function st(n){let e,a;return e=new Jt({props:{permission:n[2]}}),{c(){ce(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,s){ue(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.permission=t[2]),e.$set(r)},i(t){a||(Y(e.$$.fragment,t),a=!0)},o(t){X(e.$$.fragment,t),a=!1},d(t){me(e,t)}}}function at(n){let e,a='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=a,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-2svhwp"&&(e.innerHTML=a),this.h()},h(){i(e,"class","text-center")},m(t,s){F(t,e,s)},d(t){t&&m(e)}}}function qt(n){var H,C,N,$,S,O,P,D,T,z,E,R;let e,a,t,s,r='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Name</th> <th scope="col">Action</th></tr>',d,o,u,v,h,_,y,I,p,g,w=(n[1]==null||((N=(C=(H=n[1])==null?void 0:H.from)==null?void 0:C.route)==null?void 0:N.id)!=((O=(S=($=n[1])==null?void 0:$.to)==null?void 0:S.route)==null?void 0:O.id))&&tt(n);u=new Pt({}),h=new Nt({}),y=new Ot({});let x=((T=(D=(P=n[1])==null?void 0:P.from)==null?void 0:D.route)==null?void 0:T.id)==((R=(E=(z=n[1])==null?void 0:z.to)==null?void 0:E.route)==null?void 0:R.id)&&n[1]&&at();return{c(){e=c("div"),a=c("div"),t=c("table"),s=c("thead"),s.innerHTML=r,d=V(),w&&w.c(),o=V(),ce(u.$$.fragment),v=V(),ce(h.$$.fragment),_=V(),ce(y.$$.fragment),I=V(),x&&x.c(),p=Qe(),this.h()},l(k){e=f(k,"DIV",{class:!0});var U=b(e);a=f(U,"DIV",{class:!0});var M=b(a);t=f(M,"TABLE",{class:!0});var j=b(t);s=f(j,"THEAD",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-rfmh2a"&&(s.innerHTML=r),d=L(j),w&&w.l(j),j.forEach(m),o=L(M),fe(u.$$.fragment,M),v=L(M),fe(h.$$.fragment,M),_=L(M),fe(y.$$.fragment,M),M.forEach(m),U.forEach(m),I=L(k),x&&x.l(k),p=Qe(),this.h()},h(){i(s,"class","table-light"),i(t,"class","table align-end table-nowrap mb-0 border-top"),i(a,"class","table-responsive"),i(e,"class","row pe-0")},m(k,U){F(k,e,U),l(e,a),l(a,t),l(t,s),l(t,d),w&&w.m(t,null),l(a,o),ue(u,a,null),l(a,v),ue(h,a,null),l(a,_),ue(y,a,null),F(k,I,U),x&&x.m(k,U),F(k,p,U),g=!0},p(k,[U]){var M,j,A,q,J,G,K,Q,W,ae,se,be;k[1]==null||((A=(j=(M=k[1])==null?void 0:M.from)==null?void 0:j.route)==null?void 0:A.id)!=((G=(J=(q=k[1])==null?void 0:q.to)==null?void 0:J.route)==null?void 0:G.id)?w?(w.p(k,U),U&2&&Y(w,1)):(w=tt(k),w.c(),Y(w,1),w.m(t,null)):w&&(rt(),X(w,1,1,()=>{w=null}),nt()),((W=(Q=(K=k[1])==null?void 0:K.from)==null?void 0:Q.route)==null?void 0:W.id)==((be=(se=(ae=k[1])==null?void 0:ae.to)==null?void 0:se.route)==null?void 0:be.id)&&k[1]?x||(x=at(),x.c(),x.m(p.parentNode,p)):x&&(x.d(1),x=null)},i(k){g||(Y(w),Y(u.$$.fragment,k),Y(h.$$.fragment,k),Y(y.$$.fragment,k),g=!0)},o(k){X(w),X(u.$$.fragment,k),X(h.$$.fragment,k),X(y.$$.fragment,k),g=!1},d(k){k&&(m(e),m(I),m(p)),w&&w.d(),me(u),me(h),me(y),x&&x.d(k)}}}function Gt(n,e,a){let t;we(n,xt,r=>a(1,t=r));let{permissionsList:s}=e;return vt("permissionStore",{permissionStore:Tt({})}),n.$$set=r=>{"permissionsList"in r&&a(0,s=r.permissionsList)},[s,t]}class Yt extends pe{constructor(e){super(),_e(this,e,Gt,qt,ve,{permissionsList:0})}}function it(n){let e,a='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=a,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-dxv6g9"&&(e.innerHTML=a),this.h()},h(){i(e,"class","text-center")},m(t,s){F(t,e,s)},d(t){t&&m(e)}}}function lt(n){let e,a=n[2].name[0]+"",t;return{c(){e=c("strong"),t=Z(a),this.h()},l(s){e=f(s,"STRONG",{class:!0});var r=b(e);t=ee(r,a),r.forEach(m),this.h()},h(){i(e,"class","text-danger ms-1 my-2")},m(s,r){F(s,e,r),l(e,t)},p(s,r){r&4&&a!==(a=s[2].name[0]+"")&&de(t,a)},d(s){s&&m(e)}}}function Qt(n){var z;let e,a,t,s,r='<h5 class="modal-title" id="exampleModalgridLabel">Add Permission</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',d,o,u,v,h,_,y,I="Permission Name",p,g,w,x,H,C,N="Close",$,S,O,P,D=n[3]&&it(),T=((z=n[2])==null?void 0:z.name)&&lt(n);return{c(){e=c("div"),a=c("div"),t=c("div"),s=c("div"),s.innerHTML=r,d=V(),o=c("div"),D&&D.c(),u=V(),v=c("form"),h=c("div"),_=c("div"),y=c("label"),y.textContent=I,p=V(),g=c("input"),w=V(),T&&T.c(),x=V(),H=c("div"),C=c("button"),C.textContent=N,$=V(),S=c("input"),this.h()},l(E){e=f(E,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var R=b(e);a=f(R,"DIV",{class:!0});var k=b(a);t=f(k,"DIV",{class:!0});var U=b(t);s=f(U,"DIV",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-revt2f"&&(s.innerHTML=r),d=L(U),o=f(U,"DIV",{class:!0});var M=b(o);D&&D.l(M),u=L(M),v=f(M,"FORM",{});var j=b(v);h=f(j,"DIV",{class:!0});var A=b(h);_=f(A,"DIV",{});var q=b(_);y=f(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(y)!=="svelte-13mx5ln"&&(y.textContent=I),p=L(q),g=f(q,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),q.forEach(m),w=L(A),T&&T.l(A),x=L(A),H=f(A,"DIV",{class:!0});var J=b(H);C=f(J,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),B(C)!=="svelte-1h5uvws"&&(C.textContent=N),$=L(J),S=f(J,"INPUT",{type:!0,class:!0}),J.forEach(m),A.forEach(m),j.forEach(m),M.forEach(m),U.forEach(m),k.forEach(m),R.forEach(m),this.h()},h(){i(s,"class","modal-header"),i(y,"for","firstName"),i(y,"class","form-label"),i(g,"type","text"),i(g,"name","name"),i(g,"class","form-control"),i(g,"id","firstName"),i(g,"placeholder","Enter Permission name"),i(C,"type","button"),i(C,"class","btn btn-light fw-light"),i(C,"data-bs-dismiss","modal"),i(S,"type","submit"),i(S,"class","btn btn-primary waves-effect waves-light"),S.value="Save",i(H,"class","hstack gap-2 justify-content-end"),i(h,"class","row g-3"),oe(v,"d-none",n[3]),i(o,"class","modal-body"),i(t,"class","modal-content"),i(a,"class","modal-dialog modal-dialog-centered"),i(e,"class","modal fade"),i(e,"id","addPermissionModal"),i(e,"tabindex","-1"),i(e,"aria-labelledby","exampleModalgridLabel"),i(e,"aria-modal","true")},m(E,R){F(E,e,R),l(e,a),l(a,t),l(t,s),l(t,d),l(t,o),D&&D.m(o,null),l(o,u),l(o,v),l(v,h),l(h,_),l(_,y),l(_,p),l(_,g),xe(g,n[0]),l(h,w),T&&T.m(h,null),l(h,x),l(h,H),l(H,C),n[8](C),l(H,$),l(H,S),n[9](v),O||(P=[ie(g,"input",n[7]),ie(v,"submit",$e(n[5])),ie(e,"hidden.bs.modal",n[6])],O=!0)},p(E,[R]){var k;E[3]?D||(D=it(),D.c(),D.m(o,u)):D&&(D.d(1),D=null),R&1&&g.value!==E[0]&&xe(g,E[0]),(k=E[2])!=null&&k.name?T?T.p(E,R):(T=lt(E),T.c(),T.m(h,x)):T&&(T.d(1),T=null),R&8&&oe(v,"d-none",E[3])},i:te,o:te,d(E){E&&m(e),D&&D.d(),T&&T.d(),n[8](null),n[9](null),O=!1,He(P)}}}function Kt(n,e,a){let t,s,r,d=!1,o;async function u(){a(3,d=!0),a(2,r={});let I=new FormData(o),p=await fetch(ut(),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:I});if(ke(p),p=await p.json(),a(3,d=!1),p.status=="success"){s.click();let g=`Added ${t} as a new permission`;Ne(g,"success"),je("permissions:refresh"),v()}else a(2,r=p.errors)}function v(){a(0,t=""),a(2,r={})}function h(){t=this.value,a(0,t)}function _(I){ge[I?"unshift":"push"](()=>{s=I,a(1,s)})}function y(I){ge[I?"unshift":"push"](()=>{o=I,a(4,o)})}return[t,s,r,d,o,u,v,h,_,y]}class Wt extends pe{constructor(e){super(),_e(this,e,Kt,Qt,ve,{})}}function Xt(n){let e,a='<i class="ri-add-line align-bottom me-1"></i> Add Permission',t,s,r;return s=new Wt({}),{c(){e=c("button"),e.innerHTML=a,t=V(),ce(s.$$.fragment),this.h()},l(d){e=f(d,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1ymtdar"&&(e.innerHTML=a),t=L(d),fe(s.$$.fragment,d),this.h()},h(){i(e,"type","button"),i(e,"data-bs-toggle","modal"),i(e,"data-bs-target","#addPermissionModal"),i(e,"class","btn btn-primary waves-effect waves-light")},m(d,o){F(d,e,o),F(d,t,o),ue(s,d,o),r=!0},i(d){r||(Y(s.$$.fragment,d),r=!0)},o(d){X(s.$$.fragment,d),r=!1},d(d){d&&(m(e),m(t)),me(s,d)}}}function Zt(n){let e,a,t,s,r,d,o,u;t=new It({props:{type:"Permission"}}),r=new Yt({props:{permissionsList:n[2]}});const v=[n[1]];let h={};for(let _=0;_<v.length;_+=1)h=gt(h,v[_]);return o=new yt({props:h}),{c(){e=c("div"),a=c("div"),ce(t.$$.fragment),s=V(),ce(r.$$.fragment),d=V(),ce(o.$$.fragment),this.h()},l(_){e=f(_,"DIV",{class:!0});var y=b(e);a=f(y,"DIV",{class:!0});var I=b(a);fe(t.$$.fragment,I),s=L(I),fe(r.$$.fragment,I),d=L(I),fe(o.$$.fragment,I),I.forEach(m),y.forEach(m),this.h()},h(){i(a,"class","row"),i(e,"class","card-body")},m(_,y){F(_,e,y),l(e,a),ue(t,a,null),l(a,s),ue(r,a,null),l(a,d),ue(o,a,null),u=!0},p(_,y){const I={};y&4&&(I.permissionsList=_[2]),r.$set(I);const p=y&2?Dt(v,[Et(_[1])]):{};o.$set(p)},i(_){u||(Y(t.$$.fragment,_),Y(r.$$.fragment,_),Y(o.$$.fragment,_),u=!0)},o(_){X(t.$$.fragment,_),X(r.$$.fragment,_),X(o.$$.fragment,_),u=!1},d(_){_&&m(e),me(t),me(r),me(o)}}}function es(n){let e,a,t,s,r,d="Permissions Managment",o,u,v=JSON.parse(sessionStorage.getItem("permissions")).includes("permissions.store"),h,_=JSON.parse(sessionStorage.getItem("permissions")).includes("permissions.index"),y,I,p=v&&Xt(),g=_&&Zt(n);return{c(){e=c("div"),a=c("div"),t=c("div"),s=c("div"),r=c("h4"),r.textContent=d,o=V(),u=c("div"),p&&p.c(),h=V(),g&&g.c(),this.h()},l(w){e=f(w,"DIV",{class:!0});var x=b(e);a=f(x,"DIV",{class:!0});var H=b(a);t=f(H,"DIV",{class:!0});var C=b(t);s=f(C,"DIV",{class:!0});var N=b(s);r=f(N,"H4",{class:!0,"data-svelte-h":!0}),B(r)!=="svelte-1sqzu9n"&&(r.textContent=d),o=L(N),u=f(N,"DIV",{class:!0});var $=b(u);p&&p.l($),$.forEach(m),N.forEach(m),h=L(C),g&&g.l(C),C.forEach(m),H.forEach(m),x.forEach(m),this.h()},h(){i(r,"class","card-title mb-0 flex-grow-1"),i(u,"class","flex-shrink-0"),i(s,"class","card-header align-items-center d-flex"),i(t,"class","card"),i(a,"class","col-lg-12"),i(e,"class","row")},m(w,x){F(w,e,x),l(e,a),l(a,t),l(t,s),l(s,r),l(s,o),l(s,u),p&&p.m(u,null),l(t,h),g&&g.m(t,null),n[4](e),I=!0},p(w,[x]){_&&g.p(w,x)},i(w){I||(Y(p),Y(g),w&&(y||_t(()=>{y=wt(e,Mt,{duration:200}),y.start()})),I=!0)},o(w){X(p),X(g),I=!1},d(w){w&&m(e),p&&p.d(),g&&g.d(),n[4](null)}}}function ts(n,e,a){let t,s,{data:r}=e,d;bt(()=>{kt(d)});function o(u){ge[u?"unshift":"push"](()=>{d=u,a(0,d)})}return n.$$set=u=>{"data"in u&&a(3,r=u.data)},n.$$.update=()=>{n.$$.dirty&8&&a(2,t=r.permissionsResponse.data),n.$$.dirty&8&&a(1,s=r.permissionsResponse.pagination)},[d,s,t,r,o]}class bs extends pe{constructor(e){super(),_e(this,e,ts,es,ve,{data:3})}}export{bs as component,_s as universal};
