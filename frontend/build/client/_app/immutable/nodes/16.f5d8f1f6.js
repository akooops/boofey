import{p as Gt,D as ut,q as Ft,r as Ut,s as zt,t as Yt,u as Kt}from"../chunks/paths.29c5142d.js";import{a as Re}from"../chunks/auth.82ff8344.js";import{s as He,f as _,a as y,g,h as b,z,c as M,d as m,j as n,K as ct,H as lt,B as Ce,i as J,C as o,L as dt,F as ke,Q as yt,A as me,G as Mt,T as st,y as Ke,l as ae,m as ne,n as he,p as we,M as Wt,P as Xt,o as at,E as Ee,R as We,D as nt,S as Vt,W as et,k as tt,X as Qt,I as Zt,e as $e,J as Lt}from"../chunks/scheduler.726ac76d.js";import{S as Pe,i as Ae,g as Ge,t as U,c as Fe,a as F,b as oe,d as ue,m as ce,e as de,h as $t,f as Ht}from"../chunks/index.8a5ed380.js";import{g as Xe,a as Ze}from"../chunks/spread.8a54911c.js";import{A as Pt,V as At,D as xt,E as el,C as tl,a as ll,Q as sl}from"../chunks/CloseQueueModal.7573cbe4.js";import{P as Nt}from"../chunks/Pagination.0a529dad.js";import{w as Ot}from"../chunks/singletons.df66ea99.js";import"../chunks/paths.7846b4ff.js";import{f as jt}from"../chunks/index.955fed47.js";import{e as Be,u as al,o as nl}from"../chunks/each.381f634d.js";import{i as ze,g as Ye,a as il}from"../chunks/utils.5f096ebf.js";import{n as rl}from"../chunks/stores.1008b3f8.js";import{t as it}from"../chunks/toast.aca1940a.js";import{M as Bt,a as Jt}from"../chunks/ModalPagination.ba1b79f6.js";import{A as ol}from"../chunks/Accordion.adfb252c.js";import{i as ul}from"../chunks/initToolTip.b2308c6a.js";import{E as cl}from"../chunks/ExitQueueStudent.51973554.js";const dl=!1;async function fl({fetch:a,url:e,depends:l,params:t}){l("queues:refresh");let s=await a(Gt(t.canteenId,ut(e)),{headers:{Authorization:`${localStorage.getItem("SID")}`}});Re(s);let i=await s.json(),r=i.data.activeQueue,c;return r&&(s=await a(Ft(r.id,ut(e),!0),{headers:{Authorization:`${localStorage.getItem("SID")}`}}),Re(s),c=(await s.json()).data.queueStudents),{queuesResponse:i,activeQueueStudents:c,tabTitle:"Queues"}}const Ts=Object.freeze(Object.defineProperty({__proto__:null,load:fl,ssr:dl},Symbol.toStringTag,{value:"Module"}));function ft(a){let e,l='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-dxv6g9"&&(e.innerHTML=l),this.h()},h(){n(e,"class","text-center")},m(t,s){J(t,e,s)},d(t){t&&m(e)}}}function ht(a){let e,l=a[1].type[0]+"",t;return{c(){e=_("strong"),t=ae(l),this.h()},l(s){e=g(s,"STRONG",{class:!0});var i=b(e);t=ne(i,l),i.forEach(m),this.h()},h(){n(e,"class","text-danger ms-1 my-2")},m(s,i){J(s,e,i),o(e,t)},p(s,i){i&2&&l!==(l=s[1].type[0]+"")&&he(t,l)},d(s){s&&m(e)}}}function mt(a){let e,l=a[1][422]+"",t;return{c(){e=_("strong"),t=ae(l),this.h()},l(s){e=g(s,"STRONG",{class:!0});var i=b(e);t=ne(i,l),i.forEach(m),this.h()},h(){n(e,"class","text-danger ms-1 my-2")},m(s,i){J(s,e,i),o(e,t)},p(s,i){i&2&&l!==(l=s[1][422]+"")&&he(t,l)},d(s){s&&m(e)}}}function hl(a){var O,K;let e,l,t,s,i='<h5 class="modal-title" id="exampleModalgridLabel">Start Queue</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',r,c,d,u,f,h,p,I="Type",k,E,D,v="Main Meal",w,T="Snack",S,V,C,B,q,Q="Close",N,H,$,x,j=a[2]&&ft(),L=((O=a[1])==null?void 0:O.type)&&ht(a),P=((K=a[1])==null?void 0:K["422"])&&mt(a);return{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),s.innerHTML=i,r=y(),c=_("div"),j&&j.c(),d=y(),u=_("form"),f=_("div"),h=_("div"),p=_("label"),p.textContent=I,k=y(),E=_("select"),D=_("option"),D.textContent=v,w=_("option"),w.textContent=T,S=y(),L&&L.c(),V=y(),P&&P.c(),C=y(),B=_("div"),q=_("button"),q.textContent=Q,N=y(),H=_("input"),this.h()},l(R){e=g(R,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var G=b(e);l=g(G,"DIV",{class:!0});var ee=b(l);t=g(ee,"DIV",{class:!0});var fe=b(t);s=g(fe,"DIV",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-6wsm1a"&&(s.innerHTML=i),r=M(fe),c=g(fe,"DIV",{class:!0});var te=b(c);j&&j.l(te),d=M(te),u=g(te,"FORM",{});var ie=b(u);f=g(ie,"DIV",{class:!0});var X=b(f);h=g(X,"DIV",{class:!0});var Y=b(h);p=g(Y,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(p)!=="svelte-vk0u42"&&(p.textContent=I),k=M(Y),E=g(Y,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var Z=b(E);D=g(Z,"OPTION",{"data-svelte-h":!0}),z(D)!=="svelte-wki2rk"&&(D.textContent=v),w=g(Z,"OPTION",{"data-svelte-h":!0}),z(w)!=="svelte-54q1vx"&&(w.textContent=T),Z.forEach(m),S=M(Y),L&&L.l(Y),Y.forEach(m),V=M(X),P&&P.l(X),C=M(X),B=g(X,"DIV",{class:!0});var W=b(B);q=g(W,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),z(q)!=="svelte-1h5uvws"&&(q.textContent=Q),N=M(W),H=g(W,"INPUT",{type:!0,class:!0}),W.forEach(m),X.forEach(m),ie.forEach(m),te.forEach(m),fe.forEach(m),ee.forEach(m),G.forEach(m),this.h()},h(){n(s,"class","modal-header"),n(p,"for","role"),n(p,"class","form-label"),D.__value=0,ct(D,D.__value),w.__value=1,ct(w,w.__value),n(E,"class","form-select"),n(E,"name","type"),n(E,"id","role"),n(E,"aria-label","Default select example"),a[5]===void 0&&lt(()=>a[10].call(E)),n(h,"class","col-lg-12"),n(q,"type","button"),n(q,"class","btn btn-light fw-light"),n(q,"data-bs-dismiss","modal"),n(H,"type","submit"),n(H,"class","btn btn-primary waves-effect waves-light"),H.value="Save",n(B,"class","hstack gap-2 justify-content-end"),n(f,"class","row g-3"),Ce(u,"d-none",a[2]),n(c,"class","modal-body"),n(t,"class","modal-content"),n(l,"class","modal-dialog modal-dialog-centered"),n(e,"class","modal fade"),n(e,"id","editQueueModal"),n(e,"tabindex","-1"),n(e,"aria-labelledby","exampleModalgridLabel"),n(e,"aria-modal","true")},m(R,G){J(R,e,G),o(e,l),o(l,t),o(t,s),o(t,r),o(t,c),j&&j.m(c,null),o(c,d),o(c,u),o(u,f),o(f,h),o(h,p),o(h,k),o(h,E),o(E,D),o(E,w),a[9](E),dt(E,a[5],!0),o(h,S),L&&L.m(h,null),o(f,V),P&&P.m(f,null),o(f,C),o(f,B),o(B,q),a[11](q),o(B,N),o(B,H),a[12](u),$||(x=[ke(E,"change",a[10]),ke(u,"submit",yt(a[7])),ke(e,"hidden.bs.modal",a[8])],$=!0)},p(R,[G]){var ee,fe;R[2]?j||(j=ft(),j.c(),j.m(c,d)):j&&(j.d(1),j=null),G&32&&dt(E,R[5]),(ee=R[1])!=null&&ee.type?L?L.p(R,G):(L=ht(R),L.c(),L.m(h,null)):L&&(L.d(1),L=null),(fe=R[1])!=null&&fe["422"]?P?P.p(R,G):(P=mt(R),P.c(),P.m(f,C)):P&&(P.d(1),P=null),G&4&&Ce(u,"d-none",R[2])},i:me,o:me,d(R){R&&m(e),j&&j.d(),a[9](null),L&&L.d(),P&&P.d(),a[11](null),a[12](null),$=!1,Mt(x)}}}function ml(a,e,l){let t,{queueStore:s}=st("queueStore");Ke(a,s,v=>l(13,t=v));let i,r,c=!1,d,u,f=0;async function h(){l(2,c=!0),l(1,r={});let v=new FormData(u),w=await fetch(Ut(t.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:v});Re(w),w=await w.json(),l(2,c=!1),w.status=="success"?(i.click(),it("Successfuly Edited","success"),ze("queues:refresh"),p()):l(1,r=w.errors)}function p(){u.reset(),l(1,r={})}s.subscribe(()=>{l(5,f=t.type)});function I(v){we[v?"unshift":"push"](()=>{d=v,l(3,d)})}function k(){f=Wt(this),l(5,f)}function E(v){we[v?"unshift":"push"](()=>{i=v,l(0,i)})}function D(v){we[v?"unshift":"push"](()=>{u=v,l(4,u)})}return[i,r,c,d,u,f,s,h,p,I,k,E,D]}class vl extends Pe{constructor(e){super(),Ae(this,e,ml,hl,He,{})}}function vt(a,e,l){const t=a.slice();return t[19]=e[l],t}function _t(a,e,l){const t=a.slice();return t[19]=e[l],t}function gt(a){let e,l,t,s,i,r,c,d,u=a[0].id+"",f,h,p,I,k,E,D,v,w,T=a[0].fullname+"",S,V,C,B,q,Q='<i class="ri-close-line"></i>',N,H;return{c(){e=_("label"),l=ae(a[2]),t=y(),s=_("div"),i=_("table"),r=_("tbody"),c=_("tr"),d=_("th"),f=ae(u),h=y(),p=_("th"),I=_("div"),k=_("div"),E=_("img"),v=y(),w=_("div"),S=ae(T),V=y(),C=_("th"),B=_("div"),q=_("a"),q.innerHTML=Q,this.h()},l($){e=g($,"LABEL",{for:!0,class:!0});var x=b(e);l=ne(x,a[2]),x.forEach(m),t=M($),s=g($,"DIV",{class:!0});var j=b(s);i=g(j,"TABLE",{class:!0});var L=b(i);r=g(L,"TBODY",{class:!0});var P=b(r);c=g(P,"TR",{class:!0});var O=b(c);d=g(O,"TH",{});var K=b(d);f=ne(K,u),K.forEach(m),h=M(O),p=g(O,"TH",{});var R=b(p);I=g(R,"DIV",{class:!0});var G=b(I);k=g(G,"DIV",{class:!0});var ee=b(k);E=g(ee,"IMG",{src:!0,alt:!0,class:!0}),ee.forEach(m),v=M(G),w=g(G,"DIV",{class:!0});var fe=b(w);S=ne(fe,T),fe.forEach(m),G.forEach(m),R.forEach(m),V=M(O),C=g(O,"TH",{scope:!0});var te=b(C);B=g(te,"DIV",{class:!0});var ie=b(B);q=g(ie,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),z(q)!=="svelte-1b3cw3w"&&(q.innerHTML=Q),ie.forEach(m),te.forEach(m),O.forEach(m),P.forEach(m),L.forEach(m),j.forEach(m),this.h()},h(){n(e,"for","productarName"),n(e,"class","form-label"),Ee(E.src,D=a[0].image.full_path)||n(E,"src",D),n(E,"alt",""),n(E,"class","avatar-xs rounded-circle"),n(k,"class","flex-shrink-0"),n(w,"class","flex-grow-1"),n(I,"class","d-flex gap-2 align-items-center"),n(q,"href","javascript:void(0);"),n(q,"class","fs-15"),n(q,"data-bs-toggle","tooltip"),n(q,"data-bs-original-title","Select"),n(B,"class","hstack gap-3 flex-wrap"),n(C,"scope","col"),n(c,"class","bg-secondary-subtle"),n(r,"class","list align-middle"),n(i,"class","table align-middle table-nowrap mb-0 border-top"),n(s,"class","table-responsive mt-0")},m($,x){J($,e,x),o(e,l),J($,t,x),J($,s,x),o(s,i),o(i,r),o(r,c),o(c,d),o(d,f),o(c,h),o(c,p),o(p,I),o(I,k),o(k,E),o(I,v),o(I,w),o(w,S),o(c,V),o(c,C),o(C,B),o(B,q),N||(H=ke(q,"click",a[7]),N=!0)},p($,x){x&4&&he(l,$[2]),x&1&&u!==(u=$[0].id+"")&&he(f,u),x&1&&!Ee(E.src,D=$[0].image.full_path)&&n(E,"src",D),x&1&&T!==(T=$[0].fullname+"")&&he(S,T)},d($){$&&(m(e),m(t),m(s)),N=!1,H()}}}function _l(a){let e,l,t,s,i,r,c='<tr scope="row"><td scope="col">ID</td> <td scope="col">Full Name</td> <td scope="col">Action</td></tr>',d,u,f,h,p;e=new Bt({props:{type:"Student"}}),e.$on("search",a[8]);let I=Be(a[3]),k=[];for(let v=0;v<I.length;v+=1)k[v]=pt(vt(a,I,v));const E=[a[4]];let D={};for(let v=0;v<E.length;v+=1)D=We(D,E[v]);return h=new Jt({props:D}),h.$on("switchPage",a[9]),{c(){oe(e.$$.fragment),l=y(),t=_("div"),s=_("div"),i=_("table"),r=_("thead"),r.innerHTML=c,d=y(),u=_("tbody");for(let v=0;v<k.length;v+=1)k[v].c();f=y(),oe(h.$$.fragment),this.h()},l(v){ue(e.$$.fragment,v),l=M(v),t=g(v,"DIV",{class:!0});var w=b(t);s=g(w,"DIV",{class:!0});var T=b(s);i=g(T,"TABLE",{class:!0});var S=b(i);r=g(S,"THEAD",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-doigdf"&&(r.innerHTML=c),d=M(S),u=g(S,"TBODY",{class:!0});var V=b(u);for(let C=0;C<k.length;C+=1)k[C].l(V);V.forEach(m),S.forEach(m),T.forEach(m),w.forEach(m),f=M(v),ue(h.$$.fragment,v),this.h()},h(){n(r,"class","table-light"),n(u,"class","list"),n(i,"class","table align-middle table-nowrap mb-0 border-top"),n(s,"class","table-responsive"),n(t,"class","row pe-0")},m(v,w){ce(e,v,w),J(v,l,w),J(v,t,w),o(t,s),o(s,i),o(i,r),o(i,d),o(i,u);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(u,null);J(v,f,w),ce(h,v,w),p=!0},p(v,w){if(w&73){I=Be(v[3]);let S;for(S=0;S<I.length;S+=1){const V=vt(v,I,S);k[S]?k[S].p(V,w):(k[S]=pt(V),k[S].c(),k[S].m(u,null))}for(;S<k.length;S+=1)k[S].d(1);k.length=I.length}const T=w&16?Xe(E,[Ze(v[4])]):{};h.$set(T)},i(v){p||(F(e.$$.fragment,v),F(h.$$.fragment,v),p=!0)},o(v){U(e.$$.fragment,v),U(h.$$.fragment,v),p=!1},d(v){v&&(m(l),m(t),m(f)),de(e,v),nt(k,v),de(h,v)}}}function gl(a){let e,l,t;function s(r){a[13](r)}let i={id:"student",title:a[2],$$slots:{default:[pl]},$$scope:{ctx:a}};return a[5]!==void 0&&(i.openCollapse=a[5]),e=new ol({props:i}),we.push(()=>$t(e,"openCollapse",s)),{c(){oe(e.$$.fragment)},l(r){ue(e.$$.fragment,r)},m(r,c){ce(e,r,c),t=!0},p(r,c){const d={};c&4&&(d.title=r[2]),c&16777241&&(d.$$scope={dirty:c,ctx:r}),!l&&c&32&&(l=!0,d.openCollapse=r[5],Vt(()=>l=!1)),e.$set(d)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){de(e,r)}}}function pt(a){let e,l,t=a[19].id+"",s,i,r,c,d,u,f,h,p,I=a[19].fullname+"",k,E,D,v,w,T='<i class="ri-check-line"></i>',S,V,C;function B(){return a[14](a[19])}return{c(){e=_("tr"),l=_("td"),s=ae(t),i=y(),r=_("td"),c=_("div"),d=_("div"),u=_("img"),h=y(),p=_("div"),k=ae(I),E=y(),D=_("td"),v=_("div"),w=_("a"),w.innerHTML=T,S=y(),this.h()},l(q){e=g(q,"TR",{scope:!0});var Q=b(e);l=g(Q,"TD",{});var N=b(l);s=ne(N,t),N.forEach(m),i=M(Q),r=g(Q,"TD",{});var H=b(r);c=g(H,"DIV",{class:!0});var $=b(c);d=g($,"DIV",{class:!0});var x=b(d);u=g(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(m),h=M($),p=g($,"DIV",{class:!0});var j=b(p);k=ne(j,I),j.forEach(m),$.forEach(m),H.forEach(m),E=M(Q),D=g(Q,"TD",{});var L=b(D);v=g(L,"DIV",{class:!0});var P=b(v);w=g(P,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),z(w)!=="svelte-f140kx"&&(w.innerHTML=T),P.forEach(m),L.forEach(m),S=M(Q),Q.forEach(m),this.h()},h(){var q;Ee(u.src,f=a[19].image.full_path)||n(u,"src",f),n(u,"alt",""),n(u,"class","avatar-xs rounded-circle"),n(d,"class","flex-shrink-0"),n(p,"class","flex-grow-1"),n(c,"class","d-flex gap-2 align-items-center"),n(w,"href","javascript:void(0);"),n(w,"class","fs-15"),n(w,"data-bs-toggle","tooltip"),n(w,"data-bs-original-title","Select"),n(v,"class","hstack gap-3 flex-wrap"),n(e,"scope","row"),Ce(e,"bg-secondary-subtle",a[19].id==((q=a[0])==null?void 0:q.id))},m(q,Q){J(q,e,Q),o(e,l),o(l,s),o(e,i),o(e,r),o(r,c),o(c,d),o(d,u),o(c,h),o(c,p),o(p,k),o(e,E),o(e,D),o(D,v),o(v,w),o(e,S),V||(C=ke(w,"click",B),V=!0)},p(q,Q){var N;a=q,Q&8&&t!==(t=a[19].id+"")&&he(s,t),Q&8&&!Ee(u.src,f=a[19].image.full_path)&&n(u,"src",f),Q&8&&I!==(I=a[19].fullname+"")&&he(k,I),Q&9&&Ce(e,"bg-secondary-subtle",a[19].id==((N=a[0])==null?void 0:N.id))},d(q){q&&m(e),V=!1,C()}}}function bt(a){let e,l,t=a[19].id+"",s,i,r,c,d,u,f,h,p,I=a[19].fullname+"",k,E,D,v,w,T='<i class="ri-check-line"></i>',S,V,C;function B(){return a[12](a[19])}return{c(){e=_("tr"),l=_("td"),s=ae(t),i=y(),r=_("td"),c=_("div"),d=_("div"),u=_("img"),h=y(),p=_("div"),k=ae(I),E=y(),D=_("td"),v=_("div"),w=_("a"),w.innerHTML=T,S=y(),this.h()},l(q){e=g(q,"TR",{scope:!0});var Q=b(e);l=g(Q,"TD",{});var N=b(l);s=ne(N,t),N.forEach(m),i=M(Q),r=g(Q,"TD",{});var H=b(r);c=g(H,"DIV",{class:!0});var $=b(c);d=g($,"DIV",{class:!0});var x=b(d);u=g(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(m),h=M($),p=g($,"DIV",{class:!0});var j=b(p);k=ne(j,I),j.forEach(m),$.forEach(m),H.forEach(m),E=M(Q),D=g(Q,"TD",{});var L=b(D);v=g(L,"DIV",{class:!0});var P=b(v);w=g(P,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),z(w)!=="svelte-f140kx"&&(w.innerHTML=T),P.forEach(m),L.forEach(m),S=M(Q),Q.forEach(m),this.h()},h(){var q;Ee(u.src,f=a[19].image.full_path)||n(u,"src",f),n(u,"alt",""),n(u,"class","avatar-xs rounded-circle"),n(d,"class","flex-shrink-0"),n(p,"class","flex-grow-1"),n(c,"class","d-flex gap-2 align-items-center"),n(w,"href","javascript:void(0);"),n(w,"class","fs-15"),n(w,"data-bs-toggle","tooltip"),n(w,"data-bs-original-title","Select"),n(v,"class","hstack gap-3 flex-wrap"),n(e,"scope","row"),Ce(e,"bg-secondary-subtle",a[19].id==((q=a[0])==null?void 0:q.id))},m(q,Q){J(q,e,Q),o(e,l),o(l,s),o(e,i),o(e,r),o(r,c),o(c,d),o(d,u),o(c,h),o(c,p),o(p,k),o(e,E),o(e,D),o(D,v),o(v,w),o(e,S),V||(C=ke(w,"click",B),V=!0)},p(q,Q){var N;a=q,Q&8&&t!==(t=a[19].id+"")&&he(s,t),Q&8&&!Ee(u.src,f=a[19].image.full_path)&&n(u,"src",f),Q&8&&I!==(I=a[19].fullname+"")&&he(k,I),Q&9&&Ce(e,"bg-secondary-subtle",a[19].id==((N=a[0])==null?void 0:N.id))},d(q){q&&m(e),V=!1,C()}}}function pl(a){let e,l,t,s,i,r,c='<tr scope="row"><td scope="col">ID</td> <td scope="col">Full Name</td> <td scope="col">Action</td></tr>',d,u,f,h,p;e=new Bt({props:{type:"Student"}}),e.$on("search",a[8]);let I=Be(a[3]),k=[];for(let v=0;v<I.length;v+=1)k[v]=bt(_t(a,I,v));const E=[a[4]];let D={};for(let v=0;v<E.length;v+=1)D=We(D,E[v]);return h=new Jt({props:D}),h.$on("switchPage",a[9]),{c(){oe(e.$$.fragment),l=y(),t=_("div"),s=_("div"),i=_("table"),r=_("thead"),r.innerHTML=c,d=y(),u=_("tbody");for(let v=0;v<k.length;v+=1)k[v].c();f=y(),oe(h.$$.fragment),this.h()},l(v){ue(e.$$.fragment,v),l=M(v),t=g(v,"DIV",{class:!0});var w=b(t);s=g(w,"DIV",{class:!0});var T=b(s);i=g(T,"TABLE",{class:!0});var S=b(i);r=g(S,"THEAD",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-q6ex5v"&&(r.innerHTML=c),d=M(S),u=g(S,"TBODY",{class:!0});var V=b(u);for(let C=0;C<k.length;C+=1)k[C].l(V);V.forEach(m),S.forEach(m),T.forEach(m),w.forEach(m),f=M(v),ue(h.$$.fragment,v),this.h()},h(){n(r,"class","table-light"),n(u,"class","list"),n(i,"class","table align-middle table-nowrap mb-0 border-top"),n(s,"class","table-responsive"),n(t,"class","row pe-0")},m(v,w){ce(e,v,w),J(v,l,w),J(v,t,w),o(t,s),o(s,i),o(i,r),o(i,d),o(i,u);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(u,null);J(v,f,w),ce(h,v,w),p=!0},p(v,w){if(w&73){I=Be(v[3]);let S;for(S=0;S<I.length;S+=1){const V=_t(v,I,S);k[S]?k[S].p(V,w):(k[S]=bt(V),k[S].c(),k[S].m(u,null))}for(;S<k.length;S+=1)k[S].d(1);k.length=I.length}const T=w&16?Xe(E,[Ze(v[4])]):{};h.$set(T)},i(v){p||(F(e.$$.fragment,v),F(h.$$.fragment,v),p=!0)},o(v){U(e.$$.fragment,v),U(h.$$.fragment,v),p=!1},d(v){v&&(m(l),m(t),m(f)),de(e,v),nt(k,v),de(h,v)}}}function bl(a){var f;let e,l,t,s,i,r=((f=a[0])==null?void 0:f.id)&&gt(a);const c=[gl,_l],d=[];function u(h,p){return h[1]?0:1}return t=u(a),s=d[t]=c[t](a),{c(){r&&r.c(),e=y(),l=_("div"),s.c(),this.h()},l(h){r&&r.l(h),e=M(h),l=g(h,"DIV",{});var p=b(l);s.l(p),p.forEach(m),this.h()},h(){var h;Ce(l,"d-none",((h=a[0])==null?void 0:h.id)!=null)},m(h,p){r&&r.m(h,p),J(h,e,p),J(h,l,p),d[t].m(l,null),i=!0},p(h,[p]){var k,E;(k=h[0])!=null&&k.id?r?r.p(h,p):(r=gt(h),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null);let I=t;t=u(h),t===I?d[t].p(h,p):(Ge(),U(d[I],1,1,()=>{d[I]=null}),Fe(),s=d[t],s?s.p(h,p):(s=d[t]=c[t](h),s.c()),F(s,1),s.m(l,null)),(!i||p&1)&&Ce(l,"d-none",((E=h[0])==null?void 0:E.id)!=null)},i(h){i||(F(s),i=!0)},o(h){U(s),i=!1},d(h){h&&(m(e),m(l)),r&&r.d(h),d[t].d()}}}function Sl(a,e,l){const t=Xt();let s=[],i,r=1,c="",{selected:d={}}=e,{collapse:u}=e,{title:f}=e,{schoolId:h}=e,p;async function I(){console.log("fetching from collapse");let C=await fetch(zt(h,{page:r,search:c},null,{subscribed:!0,archived:!1}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});Re(C);let B=await C.json();l(3,s=B.data.students),l(4,i=B.pagination)}at(()=>{I()});function k(C){l(0,d=C),t("select",{studentId:d.id})}function E(){l(0,d={}),t("select",{studentId:""}),p()}function D(C){r=1,c=C.detail.searchQuery,I()}function v(C){r=C.detail.page,I()}function w(){l(0,d={})}const T=C=>k(C);function S(C){p=C,l(5,p)}const V=C=>k(C);return a.$$set=C=>{"selected"in C&&l(0,d=C.selected),"collapse"in C&&l(1,u=C.collapse),"title"in C&&l(2,f=C.title),"schoolId"in C&&l(10,h=C.schoolId)},[d,u,f,s,i,p,k,E,D,v,h,w,T,S,V]}class Il extends Pe{constructor(e){super(),Ae(this,e,Sl,bl,He,{selected:0,collapse:1,title:2,schoolId:10,resetStudent:11})}get resetStudent(){return this.$$.ctx[11]}}function St(a){let e,l='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1eqlld5"&&(e.innerHTML=l),this.h()},h(){n(e,"class","text-center")},m(t,s){J(t,e,s)},d(t){t&&m(e)}}}function It(a){let e,l=a[3].student_id[0]+"",t;return{c(){e=_("strong"),t=ae(l),this.h()},l(s){e=g(s,"STRONG",{class:!0});var i=b(e);t=ne(i,l),i.forEach(m),this.h()},h(){n(e,"class","text-danger ms-1 my-2")},m(s,i){J(s,e,i),o(e,t)},p(s,i){i&8&&l!==(l=s[3].student_id[0]+"")&&he(t,l)},d(s){s&&m(e)}}}function wl(a){var $,x,j;let e,l,t,s,i='<h5 class="modal-title" id="exampleModalgridLabel">Add Student</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',r,c,d,u,f,h,p,I,k,E,D,v,w="Close",T,S,V,C,B,q=a[4]&&St();function Q(L){a[10](L)}let N={collapse:!0,title:"Students",schoolId:(x=($=a[0])==null?void 0:$.school)==null?void 0:x.id};a[5]!==void 0&&(N.resetStudent=a[5]),f=new Il({props:N}),we.push(()=>$t(f,"resetStudent",Q)),f.$on("select",a[11]);let H=((j=a[3])==null?void 0:j.student_id)&&It(a);return{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),s.innerHTML=i,r=y(),c=_("div"),q&&q.c(),d=y(),u=_("div"),oe(f.$$.fragment),p=y(),H&&H.c(),I=y(),k=_("form"),E=_("div"),D=_("div"),v=_("button"),v.textContent=w,T=y(),S=_("input"),this.h()},l(L){e=g(L,"DIV",{class:!0,id:!0,tabindex:!0,"data-bs-focus":!0,"aria-labelledby":!0,"aria-modal":!0});var P=b(e);l=g(P,"DIV",{class:!0});var O=b(l);t=g(O,"DIV",{class:!0});var K=b(t);s=g(K,"DIV",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-4b19vr"&&(s.innerHTML=i),r=M(K),c=g(K,"DIV",{class:!0});var R=b(c);q&&q.l(R),d=M(R),u=g(R,"DIV",{class:!0});var G=b(u);ue(f.$$.fragment,G),p=M(G),H&&H.l(G),I=M(G),k=g(G,"FORM",{});var ee=b(k);E=g(ee,"DIV",{class:!0});var fe=b(E);D=g(fe,"DIV",{class:!0});var te=b(D);v=g(te,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),z(v)!=="svelte-1h5uvws"&&(v.textContent=w),T=M(te),S=g(te,"INPUT",{type:!0,class:!0}),te.forEach(m),fe.forEach(m),ee.forEach(m),G.forEach(m),R.forEach(m),K.forEach(m),O.forEach(m),P.forEach(m),this.h()},h(){n(s,"class","modal-header"),n(v,"type","button"),n(v,"class","btn btn-light fw-light"),n(v,"data-bs-dismiss","modal"),n(S,"type","submit"),n(S,"class","btn btn-primary waves-effect waves-light"),S.value="Save",n(D,"class","hstack gap-2 justify-content-end"),n(E,"class","row g-3"),n(u,"class","row g-3"),Ce(u,"d-none",a[4]),n(c,"class","modal-body"),n(t,"class","modal-content"),n(l,"class","modal-dialog modal-dialog-centered"),n(e,"class","modal fade"),n(e,"id","addQueueStudentModal"),n(e,"tabindex","-1"),n(e,"data-bs-focus","false"),n(e,"aria-labelledby","exampleModalgridLabel"),n(e,"aria-modal","true")},m(L,P){J(L,e,P),o(e,l),o(l,t),o(t,s),o(t,r),o(t,c),q&&q.m(c,null),o(c,d),o(c,u),ce(f,u,null),o(u,p),H&&H.m(u,null),o(u,I),o(u,k),o(k,E),o(E,D),o(D,v),a[12](v),o(D,T),o(D,S),a[13](k),V=!0,C||(B=[ke(k,"submit",yt(a[7])),ke(e,"hidden.bs.modal",a[8])],C=!0)},p(L,[P]){var K,R,G;L[4]?q||(q=St(),q.c(),q.m(c,d)):q&&(q.d(1),q=null);const O={};P&1&&(O.schoolId=(R=(K=L[0])==null?void 0:K.school)==null?void 0:R.id),!h&&P&32&&(h=!0,O.resetStudent=L[5],Vt(()=>h=!1)),f.$set(O),(G=L[3])!=null&&G.student_id?H?H.p(L,P):(H=It(L),H.c(),H.m(u,I)):H&&(H.d(1),H=null),(!V||P&16)&&Ce(u,"d-none",L[4])},i(L){V||(F(f.$$.fragment,L),V=!0)},o(L){U(f.$$.fragment,L),V=!1},d(L){L&&m(e),q&&q.d(),de(f),H&&H.d(),a[12](null),a[13](null),C=!1,Mt(B)}}}function kl(a,e,l){let t,s,i,r=!1,c,d="",{queue:u}=e,{canteen:f}=e;async function h(){l(4,r=!0),l(3,i={});let v=new FormData(s);d&&v.set("student_id",d),v.set("simplified",!0);let w=await fetch(Yt(u.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:v});Re(w),w=await w.json(),l(4,r=!1),w.status=="success"?(t.click(),it("Added a new student to the  queue","success"),ze("queues:refresh"),p()):l(3,i=w.errors)}function p(){s.reset(),c(),l(6,d=""),l(3,i={})}function I(v){c=v,l(5,c)}const k=v=>l(6,d=v.detail.studentId);function E(v){we[v?"unshift":"push"](()=>{t=v,l(1,t)})}function D(v){we[v?"unshift":"push"](()=>{s=v,l(2,s)})}return a.$$set=v=>{"queue"in v&&l(9,u=v.queue),"canteen"in v&&l(0,f=v.canteen)},[f,t,s,i,r,c,d,h,p,u,I,k,E,D]}class El extends Pe{constructor(e){super(),Ae(this,e,kl,wl,He,{queue:9,canteen:0})}}function wt(a){let e,l='<div class="text-center"><lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon></div>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1ei7695"&&(e.innerHTML=l),this.h()},h(){n(e,"class","mt-2")},m(t,s){J(t,e,s)},d(t){t&&m(e)}}}function kt(a){let e,l,t=a[2].close[0]+"",s,i,r;return{c(){e=_("div"),l=_("i"),s=ae(t),i=y(),r=_("button"),this.h()},l(c){e=g(c,"DIV",{class:!0,role:!0});var d=b(e);l=g(d,"I",{class:!0}),b(l).forEach(m),s=ne(d,t),i=M(d),r=g(d,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),b(r).forEach(m),d.forEach(m),this.h()},h(){n(l,"class","ri-alert-line me-3 align-middle"),n(r,"type","button"),n(r,"class","btn-close"),n(r,"data-bs-dismiss","alert"),n(r,"aria-label","Close"),n(e,"class","alert text-start alert-danger alert-border-left alert-dismissible fade show"),n(e,"role","alert")},m(c,d){J(c,e,d),o(e,l),o(e,s),o(e,i),o(e,r)},p(c,d){d&4&&t!==(t=c[2].close[0]+"")&&he(s,t)},d(c){c&&m(e)}}}function ql(a){var j;let e,l,t,s,i,r='<button type="button" class="btn-close text-end" data-bs-dismiss="modal" aria-label="Close"></button>',c,d,u,f,h,p,I,k="Are you Sure ?",E,D,v='Are you Sure You want to close this <span class="text-primary">active Queue</span> ?',w,T,S,V,C="Cancel",B,q,Q="Close Queue",N,H,$=a[1]&&wt(),x=((j=a[2])==null?void 0:j.close)&&kt(a);return{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),i=_("div"),i.innerHTML=r,c=y(),$&&$.c(),d=y(),u=_("div"),f=_("lord-icon"),p=y(),I=_("h4"),I.textContent=k,E=y(),D=_("p"),D.innerHTML=v,w=y(),x&&x.c(),T=y(),S=_("div"),V=_("button"),V.textContent=C,B=y(),q=_("button"),q.textContent=Q,this.h()},l(L){e=g(L,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,style:!0});var P=b(e);l=g(P,"DIV",{class:!0});var O=b(l);t=g(O,"DIV",{class:!0});var K=b(t);s=g(K,"DIV",{class:!0});var R=b(s);i=g(R,"DIV",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-3pipod"&&(i.innerHTML=r),c=M(R),$&&$.l(R),d=M(R),u=g(R,"DIV",{class:!0});var G=b(u);f=g(G,"LORD-ICON",{src:!0,trigger:!0,colors:!0,style:!0}),b(f).forEach(m),p=M(G),I=g(G,"H4",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-1s07vlj"&&(I.textContent=k),E=M(G),D=g(G,"P",{class:!0,"data-svelte-h":!0}),z(D)!=="svelte-tu6baa"&&(D.innerHTML=v),w=M(G),x&&x.l(G),T=M(G),S=g(G,"DIV",{class:!0});var ee=b(S);V=g(ee,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),z(V)!=="svelte-s1avm2"&&(V.textContent=C),B=M(ee),q=g(ee,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(q)!=="svelte-17dma38"&&(q.textContent=Q),ee.forEach(m),G.forEach(m),R.forEach(m),K.forEach(m),O.forEach(m),P.forEach(m),this.h()},h(){n(i,"class","text-end"),Ee(f.src,h="https://cdn.lordicon.com/crithpny.json")||et(f,"src",h),et(f,"trigger","loop"),et(f,"colors","primary:#f7b84b,secondary:#f06548"),tt(f,"width","100px"),tt(f,"height","100px"),n(I,"class","mb-3 mt-4"),n(D,"class","text-muted fs-15 mb-4"),n(V,"type","button"),n(V,"class","btn btn-light fw-light"),n(V,"data-bs-dismiss","modal"),n(q,"type","button"),n(q,"class","btn btn-warning waves-effect waves-light"),n(S,"class","hstack gap-2 justify-content-center"),n(u,"class","mt-2"),Ce(u,"d-none",a[1]),n(s,"class","modal-body text-center p-5"),n(t,"class","modal-content"),n(l,"class","modal-dialog modal-dialog-centered"),n(e,"id","closeQueueModal"),n(e,"class","modal fade"),n(e,"tabindex","-1"),n(e,"aria-hidden","true"),tt(e,"display","none")},m(L,P){J(L,e,P),o(e,l),o(l,t),o(t,s),o(s,i),o(s,c),$&&$.m(s,null),o(s,d),o(s,u),o(u,f),o(u,p),o(u,I),o(u,E),o(u,D),o(u,w),x&&x.m(u,null),o(u,T),o(u,S),o(S,V),a[6](V),o(S,B),o(S,q),N||(H=ke(q,"click",a[3]),N=!0)},p(L,[P]){var O;L[1]?$||($=wt(),$.c(),$.m(s,d)):$&&($.d(1),$=null),(O=L[2])!=null&&O.close?x?x.p(L,P):(x=kt(L),x.c(),x.m(u,T)):x&&(x.d(1),x=null),P&2&&Ce(u,"d-none",L[1])},i:me,o:me,d(L){L&&m(e),$&&$.d(),x&&x.d(),a[6](null),N=!1,H()}}}function Dl(a,e,l){let t,s=!1,{queue:i}=e,{counter:r}=e,c;async function d(){l(1,s=!0);let f=await fetch(Kt(i.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"Post"});Re(f),f=await f.json(),l(1,s=!1),f.status=="success"?(t.click(),it("Queue closed","success"),ze("queues:refresh")):l(2,c=f.errors)}function u(f){we[f?"unshift":"push"](()=>{t=f,l(0,t)})}return a.$$set=f=>{"queue"in f&&l(4,i=f.queue),"counter"in f&&l(5,r=f.counter)},[t,s,c,d,i,r,u]}class Tl extends Pe{constructor(e){super(),Ae(this,e,Dl,ql,He,{queue:4,counter:5})}}function Cl(a){let e,l='<button type="button" class="btn col-12 text-start btn-soft-primary btn-label waves-effect waves-light"><i class="ri-user-2-line label-icon align-middle fs-16 me-2"></i> Students</button>',t,s;return{c(){e=_("span"),e.innerHTML=l,this.h()},l(i){e=g(i,"SPAN",{class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),z(e)!=="svelte-1owwoi6"&&(e.innerHTML=l),this.h()},h(){n(e,"class","col-12"),n(e,"data-bs-dismiss","modal")},m(i,r){J(i,e,r),a[6](e),t||(s=ke(e,"click",Qt(a[3])),t=!0)},p:me,d(i){i&&m(e),a[6](null),t=!1,s()}}}function yl(a){var Z;let e,l,t,s,i,r,c=(((Z=a[0])==null?void 0:Z.started_at)==null?"Not started yet":a[0].started_at)+"",d,u,f,h,p=a[0].type==1?"Snack":"Main Meal",I,k,E,D,v,w="All",T,S,V=a[0].studentsCount+"",C,B,q,Q,N="In",H,$,x=a[0].studentsInCount+"",j,L,P,O,K="Out",R,G,ee=a[0].studentsExitedCount+"",fe,te,ie,X=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.index.simplified"),Y=X&&Cl(a);return{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),i=_("p"),r=ae("Started At : "),d=ae(c),u=y(),f=_("td"),h=_("span"),I=ae(p),k=y(),E=_("div"),D=_("div"),v=_("p"),v.textContent=w,T=y(),S=_("h2"),C=ae(V),B=y(),q=_("div"),Q=_("p"),Q.textContent=N,H=y(),$=_("h2"),j=ae(x),L=y(),P=_("div"),O=_("p"),O.textContent=K,R=y(),G=_("h2"),fe=ae(ee),te=y(),ie=_("div"),Y&&Y.c(),this.h()},l(W){e=g(W,"DIV",{class:!0});var re=b(e);l=g(re,"DIV",{class:!0,role:!0});var _e=b(l);t=g(_e,"DIV",{class:!0});var ve=b(t);s=g(ve,"DIV",{class:!0});var qe=b(s);i=g(qe,"P",{class:!0});var Se=b(i);r=ne(Se,"Started At : "),d=ne(Se,c),Se.forEach(m),qe.forEach(m),u=M(ve),f=g(ve,"TD",{});var ge=b(f);h=g(ge,"SPAN",{class:!0});var xe=b(h);I=ne(xe,p),xe.forEach(m),ge.forEach(m),ve.forEach(m),k=M(_e),E=g(_e,"DIV",{class:!0});var pe=b(E);D=g(pe,"DIV",{class:!0});var le=b(D);v=g(le,"P",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-1a9rlwd"&&(v.textContent=w),T=M(le),S=g(le,"H2",{class:!0});var be=b(S);C=ne(be,V),be.forEach(m),le.forEach(m),B=M(pe),q=g(pe,"DIV",{class:!0});var Ie=b(q);Q=g(Ie,"P",{class:!0,"data-svelte-h":!0}),z(Q)!=="svelte-8yas4f"&&(Q.textContent=N),H=M(Ie),$=g(Ie,"H2",{class:!0});var De=b($);j=ne(De,x),De.forEach(m),Ie.forEach(m),L=M(pe),P=g(pe,"DIV",{class:!0});var Je=b(P);O=g(Je,"P",{class:!0,"data-svelte-h":!0}),z(O)!=="svelte-1nbudfu"&&(O.textContent=K),R=M(Je),G=g(Je,"H2",{class:!0});var ye=b(G);fe=ne(ye,ee),ye.forEach(m),Je.forEach(m),pe.forEach(m),te=M(_e),ie=g(_e,"DIV",{class:!0});var Ue=b(ie);Y&&Y.l(Ue),Ue.forEach(m),_e.forEach(m),re.forEach(m),this.h()},h(){n(i,"class","text-muted mb-0"),n(s,"class","flex-grow-1"),n(h,"class","badge bg-primary-subtle text-primary"),n(t,"class","d-flex align-items-center"),n(v,"class","text-muted mb-0"),n(S,"class","mb-1"),n(D,"class","col-4"),n(Q,"class","text-muted mb-0"),n($,"class","mb-1"),n(q,"class","col-4"),n(O,"class","text-muted mb-0"),n(G,"class","mb-1"),n(P,"class","col-4"),n(E,"class","d-flex mt-2 justify-content-center"),n(ie,"class","d-flex gap-2 mt-4 flex-wrap"),n(l,"class","card card-animate p-3 "),n(l,"role","button"),n(e,"class","col-xxl-3 col-xl-4 col-lg-5 col-sm-6 col-xs-12")},m(W,re){J(W,e,re),o(e,l),o(l,t),o(t,s),o(s,i),o(i,r),o(i,d),o(t,u),o(t,f),o(f,h),o(h,I),o(l,k),o(l,E),o(E,D),o(D,v),o(D,T),o(D,S),o(S,C),o(E,B),o(E,q),o(q,Q),o(q,H),o(q,$),o($,j),o(E,L),o(E,P),o(P,O),o(P,R),o(P,G),o(G,fe),o(l,te),o(l,ie),Y&&Y.m(ie,null)},p(W,[re]){var _e;re&1&&c!==(c=(((_e=W[0])==null?void 0:_e.started_at)==null?"Not started yet":W[0].started_at)+"")&&he(d,c),re&1&&p!==(p=W[0].type==1?"Snack":"Main Meal")&&he(I,p),re&1&&V!==(V=W[0].studentsCount+"")&&he(C,V),re&1&&x!==(x=W[0].studentsInCount+"")&&he(j,x),re&1&&ee!==(ee=W[0].studentsExitedCount+"")&&he(fe,ee),X&&Y.p(W,re)},i:me,o:me,d(W){W&&m(e),Y&&Y.d()}}}function Ml(a,e,l){let{queue:t}=e,{active:s}=e,{canteen:i}=e,r,{queueStore:c}=st("queueStore");Ke(a,c,f=>l(7,f));async function d(){bootstrap.Tooltip.getOrCreateInstance(r).hide(),s&&await Ye(`/admin/canteens/${i.id}/queues`),await Ye(`/admin/canteens/${i.id}/queues/${t.id}/`)}function u(f){we[f?"unshift":"push"](()=>{r=f,l(1,r)})}return a.$$set=f=>{"queue"in f&&l(0,t=f.queue),"active"in f&&l(4,s=f.active),"canteen"in f&&l(5,i=f.canteen)},[t,r,c,d,s,i,u]}class Rt extends Pe{constructor(e){super(),Ae(this,e,Ml,yl,He,{queue:0,active:4,canteen:5})}}function Vl(a){let e,l='<button type="button" class="btn col-12 text-start btn-soft-success btn-label waves-effect waves-light"><i class="ri-logout-box-r-line label-icon align-middle fs-16 me-2"></i> Exit Queue</button>',t,s;return{c(){e=_("span"),e.innerHTML=l,this.h()},l(i){e=g(i,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0,"data-svelte-h":!0}),z(e)!=="svelte-mi0vlo"&&(e.innerHTML=l),this.h()},h(){n(e,"data-bs-toggle","modal"),n(e,"class","col-12"),n(e,"data-bs-target","#exitQueueStudent")},m(i,r){J(i,e,r),t||(s=ke(e,"click",Qt(a[2])),t=!0)},p:me,d(i){i&&m(e),t=!1,s()}}}function Ql(a){let e,l,t,s,i,r,c,d,u,f,h=a[0].number+"",p,I,k,E=a[0].student.fullname+"",D,v,w,T,S=a[0].started_at+"",V,C,B,q=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.exit.simplified"),Q=q&&Vl(a);return{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),i=_("div"),r=_("img"),d=y(),u=_("p"),f=ae("#"),p=ae(h),I=y(),k=_("h5"),D=ae(E),v=y(),w=_("p"),T=ae("Started at : "),V=ae(S),C=y(),B=_("div"),Q&&Q.c(),this.h()},l(N){e=g(N,"DIV",{class:!0});var H=b(e);l=g(H,"DIV",{class:!0,role:!0});var $=b(l);t=g($,"DIV",{class:!0});var x=b(t);s=g(x,"DIV",{class:!0});var j=b(s);i=g(j,"DIV",{class:!0});var L=b(i);r=g(L,"IMG",{src:!0,alt:!0,id:!0,class:!0}),L.forEach(m),d=M(j),u=g(j,"P",{class:!0});var P=b(u);f=ne(P,"#"),p=ne(P,h),P.forEach(m),I=M(j),k=g(j,"H5",{id:!0,class:!0});var O=b(k);D=ne(O,E),O.forEach(m),v=M(j),w=g(j,"P",{class:!0});var K=b(w);T=ne(K,"Started at : "),V=ne(K,S),K.forEach(m),C=M(j),B=g(j,"DIV",{class:!0});var R=b(B);Q&&Q.l(R),R.forEach(m),j.forEach(m),x.forEach(m),$.forEach(m),H.forEach(m),this.h()},h(){Ee(r.src,c=a[0].student.image.full_path)||n(r,"src",c),n(r,"alt",""),n(r,"id","candidate-img"),n(r,"class","avatar-md rounded-circle"),n(i,"class","avatar-md mb-3 mx-auto"),n(u,"class","text-muted mb-0 fs-6"),n(k,"id","candidate-name"),n(k,"class","mb-1 text-truncate"),n(w,"class","text-muted mb-0 fs-6"),n(B,"class","d-flex gap-2 mt-4 flex-wrap"),n(s,"class","card-body text-center"),n(t,"class","row g-0"),n(l,"class","card card-animate p-3 py-2"),n(l,"role","button"),n(e,"class","col-xxl-2 col-xl-2 col-lg-3 col-sm-4 col-xs-6")},m(N,H){J(N,e,H),o(e,l),o(l,t),o(t,s),o(s,i),o(i,r),o(s,d),o(s,u),o(u,f),o(u,p),o(s,I),o(s,k),o(k,D),o(s,v),o(s,w),o(w,T),o(w,V),o(s,C),o(s,B),Q&&Q.m(B,null)},p(N,[H]){H&1&&!Ee(r.src,c=N[0].student.image.full_path)&&n(r,"src",c),H&1&&h!==(h=N[0].number+"")&&he(p,h),H&1&&E!==(E=N[0].student.fullname+"")&&he(D,E),H&1&&S!==(S=N[0].started_at+"")&&he(V,S),q&&Q.p(N,H)},i:me,o:me,d(N){N&&m(e),Q&&Q.d()}}}function Ll(a,e,l){let t,{queueStudent:s}=e,{queueStudentStore:i}=st("queueStudentStore");Ke(a,i,c=>l(3,t=c));function r(){Zt(i,t=JSON.parse(JSON.stringify(s)),t)}return a.$$set=c=>{"queueStudent"in c&&l(0,s=c.queueStudent)},[s,i,r]}class $l extends Pe{constructor(e){super(),Ae(this,e,Ll,Ql,He,{queueStudent:0})}}function Et(a,e,l){const t=a.slice();return t[6]=e[l],t[8]=l,t}function Hl(a){let e,l,t,s;const i=[Al,Pl],r=[];function c(d,u){return d[1]?0:1}return e=c(a),l=r[e]=i[e](a),{c(){l.c(),t=$e()},l(d){l.l(d),t=$e()},m(d,u){r[e].m(d,u),J(d,t,u),s=!0},p(d,u){let f=e;e=c(d),e===f?r[e].p(d,u):(Ge(),U(r[f],1,1,()=>{r[f]=null}),Fe(),l=r[e],l?l.p(d,u):(l=r[e]=i[e](d),l.c()),F(l,1),l.m(t.parentNode,t))},i(d){s||(F(l),s=!0)},o(d){U(l),s=!1},d(d){d&&m(t),r[e].d(d)}}}function Pl(a){let e,l=`<i class="ri-airplay-line me-3 align-middle"></i> There are no <strong>Active Queues</strong> at the moment 
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`;return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=g(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),z(e)!=="svelte-119pvrl"&&(e.innerHTML=l),this.h()},h(){n(e,"class","alert alert-info alert-border-left alert-dismissible fade show"),n(e,"role","alert")},m(t,s){J(t,e,s)},p:me,i:me,o:me,d(t){t&&m(e)}}}function Al(a){let e,l;return e=new Rt({props:{canteen:a[2],active:!0,queue:a[1]}}),{c(){oe(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,s){ce(e,t,s),l=!0},p(t,s){const i={};s&4&&(i.canteen=t[2]),s&2&&(i.queue=t[1]),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){de(e,t)}}}function xl(a){let e,l=[],t=new Map,s,i,r,c=Be(a[0]);const d=h=>h[6].id;for(let h=0;h<c.length;h+=1){let p=Et(a,c,h),I=d(p);t.set(I,l[h]=qt(I,p))}const u=[a[3]];let f={};for(let h=0;h<u.length;h+=1)f=We(f,u[h]);return i=new Nt({props:f}),{c(){e=_("div");for(let h=0;h<l.length;h+=1)l[h].c();s=y(),oe(i.$$.fragment),this.h()},l(h){e=g(h,"DIV",{class:!0});var p=b(e);for(let I=0;I<l.length;I+=1)l[I].l(p);s=M(p),ue(i.$$.fragment,p),p.forEach(m),this.h()},h(){n(e,"class","row")},m(h,p){J(h,e,p);for(let I=0;I<l.length;I+=1)l[I]&&l[I].m(e,null);o(e,s),ce(i,e,null),r=!0},p(h,p){p&5&&(c=Be(h[0]),Ge(),l=al(l,p,d,1,h,c,t,e,nl,qt,s,Et),Fe());const I=p&8?Xe(u,[Ze(h[3])]):{};i.$set(I)},i(h){if(!r){for(let p=0;p<c.length;p+=1)F(l[p]);F(i.$$.fragment,h),r=!0}},o(h){for(let p=0;p<l.length;p+=1)U(l[p]);U(i.$$.fragment,h),r=!1},d(h){h&&m(e);for(let p=0;p<l.length;p+=1)l[p].d();de(i)}}}function qt(a,e){let l,t,s;return t=new Rt({props:{canteen:e[2],queue:e[6]}}),{key:a,first:null,c(){l=$e(),oe(t.$$.fragment),this.h()},l(i){l=$e(),ue(t.$$.fragment,i),this.h()},h(){this.first=l},m(i,r){J(i,l,r),ce(t,i,r),s=!0},p(i,r){e=i;const c={};r&4&&(c.canteen=e[2]),r&1&&(c.queue=e[6]),t.$set(c)},i(i){s||(F(t.$$.fragment,i),s=!0)},o(i){U(t.$$.fragment,i),s=!1},d(i){i&&m(l),de(t,i)}}}function Nl(a){let e,l,t,s,i='<h5 class="modal-title" id="exampleModalgridLabel">Queues</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',r,c,d,u,f,h,p="Active Queue Students",I,k=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index.simplified"),E,D,v="All queues",w,T=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index.simplified"),S,V,C,B="Close",q,Q=k&&Hl(a),N=T&&xl(a);return{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),s.innerHTML=i,r=y(),c=_("div"),d=y(),u=_("div"),f=_("div"),h=_("h4"),h.textContent=p,I=y(),Q&&Q.c(),E=y(),D=_("h4"),D.textContent=v,w=y(),N&&N.c(),S=y(),V=_("div"),C=_("button"),C.textContent=B,this.h()},l(H){e=g(H,"DIV",{class:!0,id:!0,tabindex:!0,"data-bs-focus":!0,"aria-labelledby":!0,"aria-modal":!0});var $=b(e);l=g($,"DIV",{class:!0});var x=b(l);t=g(x,"DIV",{class:!0});var j=b(t);s=g(j,"DIV",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-xvci6d"&&(s.innerHTML=i),r=M(j),c=g(j,"DIV",{class:!0});var L=b(c);d=M(L),u=g(L,"DIV",{class:!0});var P=b(u);f=g(P,"DIV",{class:!0});var O=b(f);h=g(O,"H4",{class:!0,"data-svelte-h":!0}),z(h)!=="svelte-17fypv1"&&(h.textContent=p),I=M(O),Q&&Q.l(O),E=M(O),D=g(O,"H4",{class:!0,"data-svelte-h":!0}),z(D)!=="svelte-a0tarp"&&(D.textContent=v),w=M(O),N&&N.l(O),S=M(O),V=g(O,"DIV",{class:!0});var K=b(V);C=g(K,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),z(C)!=="svelte-1h5uvws"&&(C.textContent=B),K.forEach(m),O.forEach(m),P.forEach(m),L.forEach(m),j.forEach(m),x.forEach(m),$.forEach(m),this.h()},h(){n(s,"class","modal-header"),n(h,"class","card-title mb-0 flex-grow-1 mb-3"),n(D,"class","card-title mb-0 flex-grow-1 mb-3"),n(C,"type","button"),n(C,"class","btn btn-light fw-light"),n(C,"data-bs-dismiss","modal"),n(V,"class","hstack gap-2 justify-content-end"),n(f,"class","col-lg-12"),n(u,"class","row g-3"),n(c,"class","modal-body"),n(t,"class","modal-content"),n(l,"class","modal-dialog modal-dialog-centered modal-xl"),n(e,"class","modal fade"),n(e,"id","ViewAllQueuesModal"),n(e,"tabindex","-1"),n(e,"data-bs-focus","false"),n(e,"aria-labelledby","exampleModalgridLabel"),n(e,"aria-modal","true")},m(H,$){J(H,e,$),o(e,l),o(l,t),o(t,s),o(t,r),o(t,c),o(c,d),o(c,u),o(u,f),o(f,h),o(f,I),Q&&Q.m(f,null),o(f,E),o(f,D),o(f,w),N&&N.m(f,null),o(f,S),o(f,V),o(V,C),a[5](C),q=!0},p(H,[$]){k&&Q.p(H,$),T&&N.p(H,$)},i(H){q||(F(Q),F(N),q=!0)},o(H){U(Q),U(N),q=!1},d(H){H&&m(e),Q&&Q.d(),N&&N.d(),a[5](null)}}}function Ol(a,e,l){let{queuesList:t}=e,{activeQueue:s}=e,{canteen:i}=e,{queuesPagination:r}=e,c;function d(u){we[u?"unshift":"push"](()=>{c=u,l(4,c)})}return a.$$set=u=>{"queuesList"in u&&l(0,t=u.queuesList),"activeQueue"in u&&l(1,s=u.activeQueue),"canteen"in u&&l(2,i=u.canteen),"queuesPagination"in u&&l(3,r=u.queuesPagination)},[t,s,i,r,c,d]}class jl extends Pe{constructor(e){super(),Ae(this,e,Ol,Nl,He,{queuesList:0,activeQueue:1,canteen:2,queuesPagination:3})}}function Dt(a,e,l){const t=a.slice();return t[16]=e[l],t}function Bl(a){let e,l='<button type="button" class="btn col-12 text-start btn-success btn-label waves-effect waves-light"><i class="ri-add-line label-icon align-middle fs-16 me-2"></i> Open Queue</button>';return{c(){e=_("span"),e.innerHTML=l,this.h()},l(t){e=g(t,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0,"data-svelte-h":!0}),z(e)!=="svelte-13k8pur"&&(e.innerHTML=l),this.h()},h(){n(e,"data-bs-toggle","modal"),n(e,"class","col-auto col-xs-2"),n(e,"data-bs-target","#addQueueModal")},m(t,s){J(t,e,s)},d(t){t&&m(e)}}}function Jl(a){let e,l='<button type="button" class="btn col-12 text-start btn-danger btn-label waves-effect waves-light"><i class="ri-stop-circle-line label-icon align-middle fs-16 me-2"></i> Close queue</button>';return{c(){e=_("span"),e.innerHTML=l,this.h()},l(t){e=g(t,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0,"data-svelte-h":!0}),z(e)!=="svelte-hvzv0o"&&(e.innerHTML=l),this.h()},h(){n(e,"data-bs-toggle","modal"),n(e,"class","col-auto col-xs-2"),n(e,"data-bs-target","#closeQueueModal")},m(t,s){J(t,e,s)},d(t){t&&m(e)}}}function Rl(a){let e,l='<button type="button" class="btn col-12 text-start btn-secondary btn-label waves-effect waves-light"><i class="ri-team-line label-icon align-middle fs-16 me-2"></i> Queues</button>';return{c(){e=_("span"),e.innerHTML=l,this.h()},l(t){e=g(t,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0,"data-svelte-h":!0}),z(e)!=="svelte-1g0ko2f"&&(e.innerHTML=l),this.h()},h(){n(e,"data-bs-toggle","modal"),n(e,"class","col-auto col-xs-2"),n(e,"data-bs-target","#ViewAllQueuesModal")},m(t,s){J(t,e,s)},d(t){t&&m(e)}}}function Gl(a){let e,l='<button type="button" class="btn col-12 text-start btn-info btn-label waves-effect waves-light"><i class="ri-qr-code-line label-icon align-middle fs-16 me-2"></i> Qr Exit</button>',t,s;return{c(){e=_("span"),e.innerHTML=l,this.h()},l(i){e=g(i,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1pp8cec"&&(e.innerHTML=l),this.h()},h(){n(e,"class","col-auto col-xs-2 ")},m(i,r){J(i,e,r),a[12](e),t||(s=ke(e,"click",a[9]),t=!0)},p:me,d(i){i&&m(e),a[12](null),t=!1,s()}}}function Fl(a){let e,l='<button type="button" class="btn col-12 text-start btn-info btn-label waves-effect waves-light"><i class="ri-survey-line label-icon align-middle fs-16 me-2"></i> POS</button>',t,s;return{c(){e=_("span"),e.innerHTML=l,this.h()},l(i){e=g(i,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1jvgf2a"&&(e.innerHTML=l),this.h()},h(){n(e,"class","col-auto col-xs-2")},m(i,r){J(i,e,r),a[13](e),t||(s=ke(e,"click",a[10]),t=!0)},p:me,d(i){i&&m(e),a[13](null),t=!1,s()}}}function Ul(a){let e,l,t="Active Queue Students",s,i=JSON.parse(sessionStorage.getItem("permissions")).includes("queueStudents.store.simplified"),r,c=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index.simplified"),d,u,f=i&&Yl(),h=c&&Kl(a);return{c(){e=_("div"),l=_("h4"),l.textContent=t,s=y(),f&&f.c(),r=y(),h&&h.c(),d=$e(),this.h()},l(p){e=g(p,"DIV",{class:!0});var I=b(e);l=g(I,"H4",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-141hl8a"&&(l.textContent=t),s=M(I),f&&f.l(I),I.forEach(m),r=M(p),h&&h.l(p),d=$e(),this.h()},h(){n(l,"class","card-title mb-0 flex-grow-1"),n(e,"class","card-header align-items-center d-flex mb-3")},m(p,I){J(p,e,I),o(e,l),o(e,s),f&&f.m(e,null),J(p,r,I),h&&h.m(p,I),J(p,d,I),u=!0},p(p,I){c&&h.p(p,I)},i(p){u||(F(h),u=!0)},o(p){U(h),u=!1},d(p){p&&(m(e),m(r),m(d)),f&&f.d(),h&&h.d(p)}}}function zl(a){let e,l='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-y60bxl"&&(e.innerHTML=l),this.h()},h(){n(e,"class","text-center")},m(t,s){J(t,e,s)},p:me,i:me,o:me,d(t){t&&m(e)}}}function Yl(a){let e,l='<i class="ri-add-line align-bottom me-1"></i>Add Student';return{c(){e=_("button"),e.innerHTML=l,this.h()},l(t){e=g(t,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1mrtfp4"&&(e.innerHTML=l),this.h()},h(){n(e,"type","button"),n(e,"data-bs-toggle","modal"),n(e,"data-bs-target","#addQueueStudentModal"),n(e,"class","btn btn-primary waves-effect waves-light flex-shrink-0")},m(t,s){J(t,e,s)},d(t){t&&m(e)}}}function Kl(a){let e,l,t,s;const i=[Xl,Wl],r=[];function c(d,u){return d[1]?0:1}return e=c(a),l=r[e]=i[e](a),{c(){l.c(),t=$e()},l(d){l.l(d),t=$e()},m(d,u){r[e].m(d,u),J(d,t,u),s=!0},p(d,u){let f=e;e=c(d),e===f?r[e].p(d,u):(Ge(),U(r[f],1,1,()=>{r[f]=null}),Fe(),l=r[e],l?l.p(d,u):(l=r[e]=i[e](d),l.c()),F(l,1),l.m(t.parentNode,t))},i(d){s||(F(l),s=!0)},o(d){U(l),s=!1},d(d){d&&m(t),r[e].d(d)}}}function Wl(a){let e,l=`<i class="ri-airplay-line me-3 align-middle"></i> There are no <strong>Active Queues</strong> at the moment 
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`;return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=g(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),z(e)!=="svelte-2mkakx"&&(e.innerHTML=l),this.h()},h(){n(e,"class","alert alert-info alert-border-left alert-dismissible fade show"),n(e,"role","alert")},m(t,s){J(t,e,s)},p:me,i:me,o:me,d(t){t&&m(e)}}}function Xl(a){let e,l,t=Be(a[4]),s=[];for(let c=0;c<t.length;c+=1)s[c]=Ct(Dt(a,t,c));const i=c=>U(s[c],1,1,()=>{s[c]=null});let r=null;return t.length||(r=Tt()),{c(){e=_("div");for(let c=0;c<s.length;c+=1)s[c].c();r&&r.c(),this.h()},l(c){e=g(c,"DIV",{class:!0});var d=b(e);for(let u=0;u<s.length;u+=1)s[u].l(d);r&&r.l(d),d.forEach(m),this.h()},h(){n(e,"class","row g-3")},m(c,d){J(c,e,d);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);r&&r.m(e,null),l=!0},p(c,d){if(d&16){t=Be(c[4]);let u;for(u=0;u<t.length;u+=1){const f=Dt(c,t,u);s[u]?(s[u].p(f,d),F(s[u],1)):(s[u]=Ct(f),s[u].c(),F(s[u],1),s[u].m(e,null))}for(Ge(),u=t.length;u<s.length;u+=1)i(u);Fe(),!t.length&&r?r.p(c,d):t.length?r&&(r.d(1),r=null):(r=Tt(),r.c(),r.m(e,null))}},i(c){if(!l){for(let d=0;d<t.length;d+=1)F(s[d]);l=!0}},o(c){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)U(s[d]);l=!1},d(c){c&&m(e),nt(s,c),r&&r.d()}}}function Tt(a){let e,l=`<i class="ri-airplay-line me-3 align-middle"></i> There are no <strong>Students</strong> at the moment 
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> `;return{c(){e=_("div"),e.innerHTML=l,this.h()},l(t){e=g(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),z(e)!=="svelte-2o3u47"&&(e.innerHTML=l),this.h()},h(){n(e,"class","alert alert-info alert-border-left alert-dismissible fade show"),n(e,"role","alert")},m(t,s){J(t,e,s)},p:me,d(t){t&&m(e)}}}function Ct(a){let e,l;return e=new $l({props:{queueStudent:a[16]}}),{c(){oe(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,s){ce(e,t,s),l=!0},p(t,s){const i={};s&16&&(i.queueStudent=t[16]),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){de(e,t)}}}function Zl(a){let e,l,t,s,i,r,c,d,u,f,h,p=a[2].school.name+"",I,k,E,D=a[2].name+"",v,w,T,S,V,C,B,q,Q=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index.simplified"),N,H=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.exit.simplified"),$,x=JSON.parse(sessionStorage.getItem("permissions")).includes("orders.index"),j,L,P,O,K,R,G,ee,fe,te,ie,X,Y,Z,W,re,_e,ve,qe,Se,ge;function xe(A,se){if(se&2&&(C=null),C==null&&(C=!!(A[1]&&JSON.parse(sessionStorage.getItem("permissions")).includes("queues.close.simplified"))),C)return Jl;if(B==null&&(B=!!JSON.parse(sessionStorage.getItem("permissions")).includes("queues.store.simplified")),B)return Bl}let pe=xe(a,-1),le=pe&&pe(a),be=Q&&Rl(),Ie=H&&Gl(a),De=x&&Fl(a);L=new Pt({props:{canteen:a[2]}}),O=new At({}),R=new vl({}),ee=new xt({}),te=new Tl({props:{queue:a[1]}});const Je=[zl,Ul],ye=[];function Ue(A,se){var Le,Ne,Me,Ve,Qe,Oe;return((Me=(Ne=(Le=A[8])==null?void 0:Le.from)==null?void 0:Ne.route)==null?void 0:Me.id)==((Oe=(Qe=(Ve=A[8])==null?void 0:Ve.to)==null?void 0:Qe.route)==null?void 0:Oe.id)&&A[8]?0:1}return X=Ue(a),Y=ye[X]=Je[X](a),re=new El({props:{queue:a[1],canteen:a[2]}}),ve=new cl({props:{route:"queues"}}),ve.$on("exit",a[11]),Se=new jl({props:{queuesList:a[0],activeQueue:a[1],canteen:a[2],queuesPagination:a[3]}}),{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),i=_("div"),r=_("div"),c=_("img"),u=y(),f=_("h4"),h=_("span"),I=ae(p),k=ae(" - "),E=_("span"),v=ae(D),w=ae(" - Queue Managment"),T=y(),S=_("div"),V=_("div"),le&&le.c(),q=y(),be&&be.c(),N=y(),Ie&&Ie.c(),$=y(),De&&De.c(),j=y(),oe(L.$$.fragment),P=y(),oe(O.$$.fragment),K=y(),oe(R.$$.fragment),G=y(),oe(ee.$$.fragment),fe=y(),oe(te.$$.fragment),ie=y(),Y.c(),W=y(),oe(re.$$.fragment),_e=y(),oe(ve.$$.fragment),qe=y(),oe(Se.$$.fragment),this.h()},l(A){e=g(A,"DIV",{class:!0});var se=b(e);l=g(se,"DIV",{class:!0});var Le=b(l);t=g(Le,"DIV",{class:!0});var Ne=b(t);s=g(Ne,"DIV",{class:!0});var Me=b(s);i=g(Me,"DIV",{class:!0});var Ve=b(i);r=g(Ve,"DIV",{class:!0});var Qe=b(r);c=g(Qe,"IMG",{src:!0,alt:!0,class:!0}),Qe.forEach(m),u=M(Ve),f=g(Ve,"H4",{class:!0});var Oe=b(f);h=g(Oe,"SPAN",{class:!0});var rt=b(h);I=ne(rt,p),rt.forEach(m),k=ne(Oe," - "),E=g(Oe,"SPAN",{class:!0});var ot=b(E);v=ne(ot,D),ot.forEach(m),w=ne(Oe," - Queue Managment"),Oe.forEach(m),Ve.forEach(m),T=M(Me),S=g(Me,"DIV",{class:!0});var Te=b(S);V=g(Te,"DIV",{class:!0});var je=b(V);le&&le.l(je),q=M(je),be&&be.l(je),N=M(je),Ie&&Ie.l(je),$=M(je),De&&De.l(je),je.forEach(m),j=M(Te),ue(L.$$.fragment,Te),P=M(Te),ue(O.$$.fragment,Te),K=M(Te),ue(R.$$.fragment,Te),G=M(Te),ue(ee.$$.fragment,Te),fe=M(Te),ue(te.$$.fragment,Te),Te.forEach(m),Me.forEach(m),Ne.forEach(m),ie=M(Le),Y.l(Le),Le.forEach(m),se.forEach(m),W=M(A),ue(re.$$.fragment,A),_e=M(A),ue(ve.$$.fragment,A),qe=M(A),ue(Se.$$.fragment,A),this.h()},h(){Ee(c.src,d=a[2].school.logo.full_path)||n(c,"src",d),n(c,"alt",""),n(c,"class","avatar-xs rounded-circle"),n(r,"class","flex-shrink-0"),n(h,"class","text-primary"),n(E,"class","text-primary"),n(f,"class","card-title mb-0 flex-grow-1"),n(i,"class","d-flex gap-2 align-items-center col-sm-12 col-md-3"),n(V,"class","d-flex gap-2 justify-content-md-end justify-content-xs-start flex-wrap"),n(S,"class","col-sm-12 col-md-9"),n(s,"class","card-header align-items-center d-flex flex-wrap"),n(t,"class","card mb-2"),n(l,"class","col-lg-12"),n(e,"class","row")},m(A,se){J(A,e,se),o(e,l),o(l,t),o(t,s),o(s,i),o(i,r),o(r,c),o(i,u),o(i,f),o(f,h),o(h,I),o(f,k),o(f,E),o(E,v),o(f,w),o(s,T),o(s,S),o(S,V),le&&le.m(V,null),o(V,q),be&&be.m(V,null),o(V,N),Ie&&Ie.m(V,null),o(V,$),De&&De.m(V,null),o(S,j),ce(L,S,null),o(S,P),ce(O,S,null),o(S,K),ce(R,S,null),o(S,G),ce(ee,S,null),o(S,fe),ce(te,S,null),o(l,ie),ye[X].m(l,null),a[14](e),J(A,W,se),ce(re,A,se),J(A,_e,se),ce(ve,A,se),J(A,qe,se),ce(Se,A,se),ge=!0},p(A,[se]){(!ge||se&4&&!Ee(c.src,d=A[2].school.logo.full_path))&&n(c,"src",d),(!ge||se&4)&&p!==(p=A[2].school.name+"")&&he(I,p),(!ge||se&4)&&D!==(D=A[2].name+"")&&he(v,D),pe!==(pe=xe(A,se))&&(le&&le.d(1),le=pe&&pe(A),le&&(le.c(),le.m(V,q))),H&&Ie.p(A,se),x&&De.p(A,se);const Le={};se&4&&(Le.canteen=A[2]),L.$set(Le);const Ne={};se&2&&(Ne.queue=A[1]),te.$set(Ne);let Me=X;X=Ue(A),X===Me?ye[X].p(A,se):(Ge(),U(ye[Me],1,1,()=>{ye[Me]=null}),Fe(),Y=ye[X],Y?Y.p(A,se):(Y=ye[X]=Je[X](A),Y.c()),F(Y,1),Y.m(l,null));const Ve={};se&2&&(Ve.queue=A[1]),se&4&&(Ve.canteen=A[2]),re.$set(Ve);const Qe={};se&1&&(Qe.queuesList=A[0]),se&2&&(Qe.activeQueue=A[1]),se&4&&(Qe.canteen=A[2]),se&8&&(Qe.queuesPagination=A[3]),Se.$set(Qe)},i(A){ge||(F(L.$$.fragment,A),F(O.$$.fragment,A),F(R.$$.fragment,A),F(ee.$$.fragment,A),F(te.$$.fragment,A),F(Y),A&&(Z||lt(()=>{Z=Ht(e,jt,{duration:200}),Z.start()})),F(re.$$.fragment,A),F(ve.$$.fragment,A),F(Se.$$.fragment,A),ge=!0)},o(A){U(L.$$.fragment,A),U(O.$$.fragment,A),U(R.$$.fragment,A),U(ee.$$.fragment,A),U(te.$$.fragment,A),U(Y),U(re.$$.fragment,A),U(ve.$$.fragment,A),U(Se.$$.fragment,A),ge=!1},d(A){A&&(m(e),m(W),m(_e),m(qe)),le&&le.d(),be&&be.d(),Ie&&Ie.d(),De&&De.d(),de(L),de(O),de(R),de(ee),de(te),ye[X].d(),a[14](null),de(re,A),de(ve,A),de(Se,A)}}}function es(a,e,l){let t;Ke(a,rl,T=>l(8,t=T));let{queuesList:s}=e,{activeQueue:i}=e,{canteen:r}=e,{queuesPagination:c}=e,{activeQueueStudents:d}=e,u,f;at(()=>{ul(u),f=setInterval(()=>{ze("queues:refresh")},1e4)}),Lt("queueStudentStore",{queueStudentStore:Ot({})});let h;function p(){let T=bootstrap.Tooltip.getOrCreateInstance(h);Ye(`/admin/canteens/${r.id}/qr-exit`),T.hide()}let I;function k(){let T=bootstrap.Tooltip.getOrCreateInstance(I);Ye(`/admin/canteens/${r.id}/orders`),T.hide()}il(()=>{f&&clearInterval(f)});function E(){clearInterval(f),f=setInterval(()=>{ze("queues:refresh")},1e4)}function D(T){we[T?"unshift":"push"](()=>{h=T,l(6,h)})}function v(T){we[T?"unshift":"push"](()=>{I=T,l(7,I)})}function w(T){we[T?"unshift":"push"](()=>{u=T,l(5,u)})}return a.$$set=T=>{"queuesList"in T&&l(0,s=T.queuesList),"activeQueue"in T&&l(1,i=T.activeQueue),"canteen"in T&&l(2,r=T.canteen),"queuesPagination"in T&&l(3,c=T.queuesPagination),"activeQueueStudents"in T&&l(4,d=T.activeQueueStudents)},[s,i,r,c,d,u,h,I,t,p,k,E,D,v,w]}class ts extends Pe{constructor(e){super(),Ae(this,e,es,Zl,He,{queuesList:0,activeQueue:1,canteen:2,queuesPagination:3,activeQueueStudents:4})}}function ls(a){let e,l,t,s,i,r,c,d,u,f,h,p=a[3].school.name+"",I,k,E,D=a[3].name+"",v,w,T,S,V=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.store"),C,B,q,Q,N,H,$,x,j,L=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index"),P,O,K,R='<h4 class="card-title mb-0 flex-grow-1">All queues</h4>',G,ee=JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index"),fe,te,ie=V&&as(a);B=new At({}),Q=new el({}),H=new xt({}),x=new tl({});let X=L&&ns(a),Y=ee&&is(a);return{c(){e=_("div"),l=_("div"),t=_("div"),s=_("div"),i=_("div"),r=_("div"),c=_("img"),u=y(),f=_("h4"),h=_("span"),I=ae(p),k=ae(" - "),E=_("span"),v=ae(D),w=ae(" - Queue Managment"),T=y(),S=_("div"),ie&&ie.c(),C=y(),oe(B.$$.fragment),q=y(),oe(Q.$$.fragment),N=y(),oe(H.$$.fragment),$=y(),oe(x.$$.fragment),j=y(),X&&X.c(),P=y(),O=_("div"),K=_("div"),K.innerHTML=R,G=y(),Y&&Y.c(),this.h()},l(Z){e=g(Z,"DIV",{class:!0});var W=b(e);l=g(W,"DIV",{class:!0});var re=b(l);t=g(re,"DIV",{class:!0});var _e=b(t);s=g(_e,"DIV",{class:!0});var ve=b(s);i=g(ve,"DIV",{class:!0});var qe=b(i);r=g(qe,"DIV",{class:!0});var Se=b(r);c=g(Se,"IMG",{src:!0,alt:!0,class:!0}),Se.forEach(m),u=M(qe),f=g(qe,"H4",{class:!0});var ge=b(f);h=g(ge,"SPAN",{class:!0});var xe=b(h);I=ne(xe,p),xe.forEach(m),k=ne(ge," - "),E=g(ge,"SPAN",{class:!0});var pe=b(E);v=ne(pe,D),pe.forEach(m),w=ne(ge," - Queue Managment"),ge.forEach(m),qe.forEach(m),T=M(ve),S=g(ve,"DIV",{class:!0});var le=b(S);ie&&ie.l(le),C=M(le),ue(B.$$.fragment,le),q=M(le),ue(Q.$$.fragment,le),N=M(le),ue(H.$$.fragment,le),$=M(le),ue(x.$$.fragment,le),le.forEach(m),ve.forEach(m),_e.forEach(m),j=M(re),X&&X.l(re),P=M(re),O=g(re,"DIV",{class:!0});var be=b(O);K=g(be,"DIV",{class:!0,"data-svelte-h":!0}),z(K)!=="svelte-12yogok"&&(K.innerHTML=R),G=M(be),Y&&Y.l(be),be.forEach(m),re.forEach(m),W.forEach(m),this.h()},h(){Ee(c.src,d=a[3].school.logo.full_path)||n(c,"src",d),n(c,"alt",""),n(c,"class","avatar-xs rounded-circle"),n(r,"class","flex-shrink-0"),n(h,"class","text-primary"),n(E,"class","text-primary"),n(f,"class","card-title mb-0 flex-grow-1"),n(i,"class","d-flex gap-2 align-items-center flex-grow-1"),n(S,"class","flex-shrink-0"),n(s,"class","card-header align-items-center d-flex"),n(t,"class","card"),n(K,"class","card-header align-items-center d-flex"),n(O,"class","card"),n(l,"class","col-lg-12"),n(e,"class","row")},m(Z,W){J(Z,e,W),o(e,l),o(l,t),o(t,s),o(s,i),o(i,r),o(r,c),o(i,u),o(i,f),o(f,h),o(h,I),o(f,k),o(f,E),o(E,v),o(f,w),o(s,T),o(s,S),ie&&ie.m(S,null),o(S,C),ce(B,S,null),o(S,q),ce(Q,S,null),o(S,N),ce(H,S,null),o(S,$),ce(x,S,null),o(l,j),X&&X.m(l,null),o(l,P),o(l,O),o(O,K),o(O,G),Y&&Y.m(O,null),a[7](e),te=!0},p(Z,W){(!te||W&8&&!Ee(c.src,d=Z[3].school.logo.full_path))&&n(c,"src",d),(!te||W&8)&&p!==(p=Z[3].school.name+"")&&he(I,p),(!te||W&8)&&D!==(D=Z[3].name+"")&&he(v,D),V&&ie.p(Z,W),L&&X.p(Z,W),ee&&Y.p(Z,W)},i(Z){te||(F(ie),F(B.$$.fragment,Z),F(Q.$$.fragment,Z),F(H.$$.fragment,Z),F(x.$$.fragment,Z),F(X),F(Y),Z&&(fe||lt(()=>{fe=Ht(e,jt,{duration:200}),fe.start()})),te=!0)},o(Z){U(ie),U(B.$$.fragment,Z),U(Q.$$.fragment,Z),U(H.$$.fragment,Z),U(x.$$.fragment,Z),U(X),U(Y),te=!1},d(Z){Z&&m(e),ie&&ie.d(),de(B),de(Q),de(H),de(x),X&&X.d(),Y&&Y.d(),a[7](null)}}}function ss(a){let e,l;return e=new ts({props:{queuesList:a[5],activeQueue:a[4],canteen:a[3],queuesPagination:a[2],activeQueueStudents:a[1]}}),{c(){oe(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,s){ce(e,t,s),l=!0},p(t,s){const i={};s&32&&(i.queuesList=t[5]),s&16&&(i.activeQueue=t[4]),s&8&&(i.canteen=t[3]),s&4&&(i.queuesPagination=t[2]),s&2&&(i.activeQueueStudents=t[1]),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){de(e,t)}}}function as(a){let e,l='<i class="ri-add-line align-bottom me-1"></i>Start Queue',t,s,i;return s=new Pt({props:{canteen:a[3]}}),{c(){e=_("button"),e.innerHTML=l,t=y(),oe(s.$$.fragment),this.h()},l(r){e=g(r,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1vhclkq"&&(e.innerHTML=l),t=M(r),ue(s.$$.fragment,r),this.h()},h(){n(e,"type","button"),n(e,"data-bs-toggle","modal"),n(e,"data-bs-target","#addQueueModal"),n(e,"class","btn btn-primary waves-effect waves-light")},m(r,c){J(r,e,c),J(r,t,c),ce(s,r,c),i=!0},p(r,c){const d={};c&8&&(d.canteen=r[3]),s.$set(d)},i(r){i||(F(s.$$.fragment,r),i=!0)},o(r){U(s.$$.fragment,r),i=!1},d(r){r&&(m(e),m(t)),de(s,r)}}}function ns(a){let e,l;return e=new ll({props:{activeQueue:a[4]}}),{c(){oe(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,s){ce(e,t,s),l=!0},p(t,s){const i={};s&16&&(i.activeQueue=t[4]),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){de(e,t)}}}function is(a){let e,l,t,s,i,r;t=new sl({props:{queuesList:a[5]}});const c=[a[2]];let d={};for(let u=0;u<c.length;u+=1)d=We(d,c[u]);return i=new Nt({props:d}),{c(){e=_("div"),l=_("div"),oe(t.$$.fragment),s=y(),oe(i.$$.fragment),this.h()},l(u){e=g(u,"DIV",{class:!0});var f=b(e);l=g(f,"DIV",{class:!0});var h=b(l);ue(t.$$.fragment,h),s=M(h),ue(i.$$.fragment,h),h.forEach(m),f.forEach(m),this.h()},h(){n(l,"class","row"),n(e,"class","card-body")},m(u,f){J(u,e,f),o(e,l),ce(t,l,null),o(l,s),ce(i,l,null),r=!0},p(u,f){const h={};f&32&&(h.queuesList=u[5]),t.$set(h);const p=f&4?Xe(c,[Ze(u[2])]):{};i.$set(p)},i(u){r||(F(t.$$.fragment,u),F(i.$$.fragment,u),r=!0)},o(u){U(t.$$.fragment,u),U(i.$$.fragment,u),r=!1},d(u){u&&m(e),de(t),de(i)}}}function rs(a){let e,l,t,s;const i=[ss,ls],r=[];function c(d,u){return JSON.parse(sessionStorage.getItem("permissions")).includes("queues.index.simplified")?0:1}return e=c(),l=r[e]=i[e](a),{c(){l.c(),t=$e()},l(d){l.l(d),t=$e()},m(d,u){r[e].m(d,u),J(d,t,u),s=!0},p(d,[u]){l.p(d,u)},i(d){s||(F(l),s=!0)},o(d){U(l),s=!1},d(d){d&&m(t),r[e].d(d)}}}function os(a,e,l){let t,s,i,r,c,{data:d}=e;Lt("queueStore",{queueStore:Ot({})});let u;at(()=>{});function f(h){we[h?"unshift":"push"](()=>{u=h,l(0,u)})}return a.$$set=h=>{"data"in h&&l(6,d=h.data)},a.$$.update=()=>{a.$$.dirty&64&&l(5,t=d.queuesResponse.data.queues),a.$$.dirty&64&&l(4,s=d.queuesResponse.data.activeQueue),a.$$.dirty&64&&l(3,i=d.queuesResponse.data.canteen),a.$$.dirty&64&&l(2,r=d.queuesResponse.pagination),a.$$.dirty&64&&l(1,c=d.activeQueueStudents)},[u,c,r,i,s,t,d,f]}class Cs extends Pe{constructor(e){super(),Ae(this,e,os,rs,He,{data:6})}}export{Cs as component,Ts as universal};
