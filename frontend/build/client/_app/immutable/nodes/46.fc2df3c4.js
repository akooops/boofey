import{s as ss,D as as,av as ns,aw as is}from"../chunks/paths.0e30d36d.js";import{a as Sl}from"../chunks/auth.660986fb.js";import{s as tl,f as d,a as g,g as c,h as m,z as $,c as b,d as u,j as r,E as bt,i as y,C as i,T as Il,y as fl,l as X,m as Z,n as be,e as el,A as Rt,p as dt,K,H as pl,B as gl,L as Wt,F as Re,Q as Jl,S as Xt,G as kl,M as Cl,I as rs,J as os,D as ds,o as cs,R as fs}from"../chunks/scheduler.726ac76d.js";import{S as ll,i as sl,b as Le,d as Ve,m as Me,a as ue,t as ge,e as Ae,h as Zt,g as Ql,c as Kl,f as us}from"../chunks/index.8a5ed380.js";import{g as hs,a as _s}from"../chunks/spread.8a54911c.js";import{P as ms}from"../chunks/Pagination.94643daa.js";import{S as vs}from"../chunks/SearchTable.d9fb7dc1.js";import{e as El}from"../chunks/each.381f634d.js";import{D as ps}from"../chunks/DeleteStudentModal.22579c9a.js";import{f as bl,i as Wl,g as Xl}from"../chunks/utils.7c7f4a39.js";import{V as zt}from"../chunks/ViewRow.487fb326.js";import{t as Zl}from"../chunks/toast.aca1940a.js";import{P as es,Y as ts,Q as gs}from"../chunks/Qr.df339653.js";import"../chunks/paths.b98f38ef.js";import{D as ls}from"../chunks/DivisionsTableCollapse.01b2794c.js";import{w as bs}from"../chunks/singletons.08415598.js";import{n as Cs,p as Ss}from"../chunks/stores.b420ea9f.js";import{i as Is}from"../chunks/initToolTip.b2308c6a.js";import{f as ks}from"../chunks/index.955fed47.js";const ws=!1;async function Es({fetch:n,url:e,depends:t,params:l}){t("students:refresh");let s=e.searchParams.get("archived");s?s=s=="true"?"true":"false":s="";let a=e.searchParams.get("subscribed");a?a=a=="true"?"true":"false":a="";let o=await n(ss(l.schoolId,as(e),null,{archived:s,subscribed:a}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return Sl(o),{studentsResponse:await o.json(),tabTitle:"Students"}}const ya=Object.freeze(Object.defineProperty({__proto__:null,load:Es,ssr:ws},Symbol.toStringTag,{value:"Module"}));function $s(n){var a;let e,t,l=((a=n[0])==null?void 0:a.fullname)+"",s;return{c(){e=X("Name : "),t=d("span"),s=X(l),this.h()},l(o){e=Z(o,"Name : "),t=c(o,"SPAN",{class:!0});var f=m(t);s=Z(f,l),f.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(o,f){y(o,e,f),y(o,t,f),i(t,s)},p(o,f){var h;f&1&&l!==(l=((h=o[0])==null?void 0:h.fullname)+"")&&be(s,l)},d(o){o&&(u(e),u(t))}}}function Ts(n){var f,h,_,C;let e,t,l,s,a=((C=(_=(h=(f=n[0])==null?void 0:f.father)==null?void 0:h.user)==null?void 0:_.profile)==null?void 0:C.fullname)+"",o;return{c(){e=X(`Father : 
                            `),t=d("img"),s=g(),o=X(a),this.h()},l(p){e=Z(p,`Father : 
                            `),t=c(p,"IMG",{src:!0,alt:!0,class:!0}),s=b(p),o=Z(p,a),this.h()},h(){var p,D,A,T,k;bt(t.src,l=(k=(T=(A=(D=(p=n[0])==null?void 0:p.father)==null?void 0:D.user)==null?void 0:A.profile)==null?void 0:T.image)==null?void 0:k.full_path)||r(t,"src",l),r(t,"alt",""),r(t,"class","avatar-xs d-inline rounded-circle")},m(p,D){y(p,e,D),y(p,t,D),y(p,s,D),y(p,o,D)},p(p,D){var A,T,k,L,H,w,R,Y,J;D&1&&!bt(t.src,l=(H=(L=(k=(T=(A=p[0])==null?void 0:A.father)==null?void 0:T.user)==null?void 0:k.profile)==null?void 0:L.image)==null?void 0:H.full_path)&&r(t,"src",l),D&1&&a!==(a=((J=(Y=(R=(w=p[0])==null?void 0:w.father)==null?void 0:R.user)==null?void 0:Y.profile)==null?void 0:J.fullname)+"")&&be(o,a)},d(p){p&&(u(e),u(t),u(s),u(o))}}}function Ns(n){let e,t="Not Subscribed";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1a2xrxf"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-danger-subtle text-danger")},m(l,s){y(l,e,s)},d(l){l&&u(e)}}}function Ds(n){let e,t="Subscribed";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-3hcgtk"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-success-subtle text-success")},m(l,s){y(l,e,s)},d(l){l&&u(e)}}}function Ps(n){let e,t;function l(o,f){var h;return(h=o[0])!=null&&h.subscribed?Ds:Ns}let s=l(n),a=s(n);return{c(){e=X("Status :         "),a.c(),t=el()},l(o){e=Z(o,"Status :         "),a.l(o),t=el()},m(o,f){y(o,e,f),a.m(o,f),y(o,t,f)},p(o,f){s!==(s=l(o))&&(a.d(1),a=s(o),a&&(a.c(),a.m(t.parentNode,t)))},d(o){o&&(u(e),u(t)),a.d(o)}}}function ys(n){let e,t="No Division";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-xnfvbo"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-danger-subtle text-danger")},m(l,s){y(l,e,s)},p:Rt,d(l){l&&u(e)}}}function Os(n){var s,a;let e,t=((a=(s=n[0])==null?void 0:s.division)==null?void 0:a.name)+"",l;return{c(){e=d("span"),l=X(t),this.h()},l(o){e=c(o,"SPAN",{class:!0});var f=m(e);l=Z(f,t),f.forEach(u),this.h()},h(){r(e,"class","fw-normal")},m(o,f){y(o,e,f),i(e,l)},p(o,f){var h,_;f&1&&t!==(t=((_=(h=o[0])==null?void 0:h.division)==null?void 0:_.name)+"")&&be(l,t)},d(o){o&&u(e)}}}function Ls(n){let e,t;function l(o,f){var h;return(h=o[0])!=null&&h.division?Os:ys}let s=l(n),a=s(n);return{c(){e=X("Devision : "),a.c(),t=el()},l(o){e=Z(o,"Devision : "),a.l(o),t=el()},m(o,f){y(o,e,f),a.m(o,f),y(o,t,f)},p(o,f){s===(s=l(o))&&a?a.p(o,f):(a.d(1),a=s(o),a&&(a.c(),a.m(t.parentNode,t)))},d(o){o&&(u(e),u(t)),a.d(o)}}}function Vs(n){let e,t,l=n[0].className+"",s;return{c(){e=X("Class : "),t=d("span"),s=X(l),this.h()},l(a){e=Z(a,"Class : "),t=c(a,"SPAN",{class:!0});var o=m(t);s=Z(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){y(a,e,o),y(a,t,o),i(t,s)},p(a,o){o&1&&l!==(l=a[0].className+"")&&be(s,l)},d(a){a&&(u(e),u(t))}}}function Ms(n){let e,t,l=bl(n[0].created_at)+"",s;return{c(){e=X("Created at : "),t=d("span"),s=X(l),this.h()},l(a){e=Z(a,"Created at : "),t=c(a,"SPAN",{class:!0});var o=m(t);s=Z(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){y(a,e,o),y(a,t,o),i(t,s)},p(a,o){o&1&&l!==(l=bl(a[0].created_at)+"")&&be(s,l)},d(a){a&&(u(e),u(t))}}}function As(n){let e,t,l=bl(n[0].updated_at)+"",s;return{c(){e=X("Updated at : "),t=d("span"),s=X(l),this.h()},l(a){e=Z(a,"Updated at : "),t=c(a,"SPAN",{class:!0});var o=m(t);s=Z(o,l),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){y(a,e,o),y(a,t,o),i(t,s)},p(a,o){o&1&&l!==(l=bl(a[0].updated_at)+"")&&be(s,l)},d(a){a&&(u(e),u(t))}}}function Gs(n){let e,t,l,s,a='<h5 class="modal-title" id="exampleModalgridLabel">View Permission</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,f,h,_,C,p,D,A,T,k,L,H,w,R,Y,J,U,I,q,N,B='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>',de;return p=new zt({props:{$$slots:{default:[$s]},$$scope:{ctx:n}}}),A=new zt({props:{$$slots:{default:[Ts]},$$scope:{ctx:n}}}),k=new zt({props:{$$slots:{default:[Ps]},$$scope:{ctx:n}}}),H=new zt({props:{$$slots:{default:[Ls]},$$scope:{ctx:n}}}),R=new zt({props:{$$slots:{default:[Vs]},$$scope:{ctx:n}}}),J=new zt({props:{$$slots:{default:[Ms]},$$scope:{ctx:n}}}),I=new zt({props:{$$slots:{default:[As]},$$scope:{ctx:n}}}),{c(){e=d("div"),t=d("div"),l=d("div"),s=d("div"),s.innerHTML=a,o=g(),f=d("div"),h=d("img"),C=g(),Le(p.$$.fragment),D=g(),Le(A.$$.fragment),T=g(),Le(k.$$.fragment),L=g(),Le(H.$$.fragment),w=g(),Le(R.$$.fragment),Y=g(),Le(J.$$.fragment),U=g(),Le(I.$$.fragment),q=g(),N=d("div"),N.innerHTML=B,this.h()},l(O){e=c(O,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var v=m(e);t=c(v,"DIV",{class:!0});var W=m(t);l=c(W,"DIV",{class:!0});var V=m(l);s=c(V,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-fwqd2z"&&(s.innerHTML=a),o=b(V),f=c(V,"DIV",{class:!0});var S=m(f);h=c(S,"IMG",{class:!0,alt:!0,width:!0,src:!0}),C=b(S),Ve(p.$$.fragment,S),D=b(S),Ve(A.$$.fragment,S),T=b(S),Ve(k.$$.fragment,S),L=b(S),Ve(H.$$.fragment,S),w=b(S),Ve(R.$$.fragment,S),Y=b(S),Ve(J.$$.fragment,S),U=b(S),Ve(I.$$.fragment,S),q=b(S),N=c(S,"DIV",{class:!0,"data-svelte-h":!0}),$(N)!=="svelte-1vrqtk3"&&(N.innerHTML=B),S.forEach(u),V.forEach(u),W.forEach(u),v.forEach(u),this.h()},h(){var O,v;r(s,"class","modal-header"),r(h,"class","rounded avatar-xl mb-3 object-fit-cover"),r(h,"alt","Student image"),r(h,"width","200"),bt(h.src,_=(v=(O=n[0])==null?void 0:O.image)==null?void 0:v.full_path)||r(h,"src",_),r(N,"class","hstack gap-2 justify-content-end"),r(f,"class","modal-body p-4"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","viewStudentModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(O,v){y(O,e,v),i(e,t),i(t,l),i(l,s),i(l,o),i(l,f),i(f,h),i(f,C),Me(p,f,null),i(f,D),Me(A,f,null),i(f,T),Me(k,f,null),i(f,L),Me(H,f,null),i(f,w),Me(R,f,null),i(f,Y),Me(J,f,null),i(f,U),Me(I,f,null),i(f,q),i(f,N),de=!0},p(O,[v]){var z,ce;(!de||v&1&&!bt(h.src,_=(ce=(z=O[0])==null?void 0:z.image)==null?void 0:ce.full_path))&&r(h,"src",_);const W={};v&5&&(W.$$scope={dirty:v,ctx:O}),p.$set(W);const V={};v&5&&(V.$$scope={dirty:v,ctx:O}),A.$set(V);const S={};v&5&&(S.$$scope={dirty:v,ctx:O}),k.$set(S);const P={};v&5&&(P.$$scope={dirty:v,ctx:O}),H.$set(P);const F={};v&5&&(F.$$scope={dirty:v,ctx:O}),R.$set(F);const pe={};v&5&&(pe.$$scope={dirty:v,ctx:O}),J.$set(pe);const G={};v&5&&(G.$$scope={dirty:v,ctx:O}),I.$set(G)},i(O){de||(ue(p.$$.fragment,O),ue(A.$$.fragment,O),ue(k.$$.fragment,O),ue(H.$$.fragment,O),ue(R.$$.fragment,O),ue(J.$$.fragment,O),ue(I.$$.fragment,O),de=!0)},o(O){ge(p.$$.fragment,O),ge(A.$$.fragment,O),ge(k.$$.fragment,O),ge(H.$$.fragment,O),ge(R.$$.fragment,O),ge(J.$$.fragment,O),ge(I.$$.fragment,O),de=!1},d(O){O&&u(e),Ae(p),Ae(A),Ae(k),Ae(H),Ae(R),Ae(J),Ae(I)}}}function xs(n,e,t){let l,{studentStore:s}=Il("studentStore");return fl(n,s,a=>t(0,l=a)),[l,s]}class Hs extends ll{constructor(e){super(),sl(this,e,xs,Gs,tl,{})}}function $l(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1skq92h"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(l,s){y(l,e,s)},d(l){l&&u(e)}}}function Tl(n){let e,t=n[4].father_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].father_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Nl(n){let e,t=n[4].academic_year_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].academic_year_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Dl(n){let e,t=n[4].division_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].division_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Pl(n){let e,t=n[4].firstname[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].firstname[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function yl(n){let e,t=n[4].lastname[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].lastname[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Ol(n){let e,t=n[4].class[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].class[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Ll(n){let e,t=n[4].nfc_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].nfc_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Rs(n){let e,t,l,s,a,o="Current Student image";return{c(){e=d("figure"),t=d("img"),s=g(),a=d("figcaption"),a.textContent=o,this.h()},l(f){e=c(f,"FIGURE",{class:!0});var h=m(e);t=c(h,"IMG",{alt:!0,width:!0,src:!0,class:!0}),s=b(h),a=c(h,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),$(a)!=="svelte-1j0mbyv"&&(a.textContent=o),h.forEach(u),this.h()},h(){var f,h;r(t,"alt","school logo "),r(t,"width","200"),bt(t.src,l=(h=(f=n[13])==null?void 0:f.image)==null?void 0:h.full_path)||r(t,"src",l),r(t,"class","figure-img rounded avatar-xl mb-3 object-fit-cover"),r(a,"class","figure-caption"),r(e,"class","figure")},m(f,h){y(f,e,h),i(e,t),i(e,s),i(e,a)},p(f,h){var _,C;h[0]&8192&&!bt(t.src,l=(C=(_=f[13])==null?void 0:_.image)==null?void 0:C.full_path)&&r(t,"src",l)},d(f){f&&u(e)}}}function js(n){var h;let e,t,l="Student  Image",s,a,o,f=((h=n[4])==null?void 0:h.file)&&Vl(n);return{c(){e=d("div"),t=d("label"),t.textContent=l,s=g(),a=d("input"),o=g(),f&&f.c(),this.h()},l(_){e=c(_,"DIV",{});var C=m(e);t=c(C,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(t)!=="svelte-3h3qwu"&&(t.textContent=l),s=b(C),a=c(C,"INPUT",{class:!0,name:!0,type:!0,id:!0}),o=b(C),f&&f.l(C),C.forEach(u),this.h()},h(){r(t,"for","formFile"),r(t,"class","form-label"),r(a,"class","form-control"),r(a,"name","file"),r(a,"type","file"),r(a,"id","formFile")},m(_,C){y(_,e,C),i(e,t),i(e,s),i(e,a),i(e,o),f&&f.m(e,null)},p(_,C){var p;(p=_[4])!=null&&p.file?f?f.p(_,C):(f=Vl(_),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(_){_&&u(e),f&&f.d()}}}function Vl(n){let e,t=n[4].file[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a[0]&16&&t!==(t=s[4].file[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Fs(n){var il,rl,ol,dl,cl,x,Oe;let e,t,l,s,a='<h5 class="modal-title" id="exampleModalgridLabel">Add Student</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,f,h,_,C,p,D,A,T,k,L,H,w,R,Y,J,U,I,q,N,B,de="First Name",O,v,W,V,S,P,F,pe="Last Name",G,z,ce,ct,fe,Ce,xe="Class",ft,M,he,pt="-- select a class -- ",Ee,yt="Primary School - Grade 1",$e,Ot="Primary School - Grade 2",Te,At="Primary School - Grade 3",ke,lt="Primary School - Grade 4",Ne,kt="Primary School - Grade 5",re,st="Primary School - Grade 6",_e,at="Middle School - Grade 1",me,oe="Middle School - Grade 2",j,Gt="Middle School - Grade 3",De,wt="Secondary School - Grade 1",Pe,xt="Secondary School - Grade 2",ye,Et="Secondary School - Grade 3",$t,Tt,Ie,He,Ht="NFC ID",Nt,ie,Dt,jt,ut,Qe,Ge,Ft,Ke,al="On Hold",Bt,We,Xe,ht,Ut,tt,Jt="Edit Image",Yt,_t,je,mt,Qt="Close",Pt,gt,Lt,Kt,qe,Ze=n[5]&&$l();function ul(E){n[17](E)}let Fe={collapse:!0,selected:n[13].father,title:"Student's Parent"};n[9]!==void 0&&(Fe.resetParent=n[9]),C=new es({props:Fe}),dt.push(()=>Zt(C,"resetParent",ul)),C.$on("select",n[18]);let ze=((il=n[4])==null?void 0:il.father_id)&&Tl(n);function hl(E){n[19](E)}let Be={collapse:!0,schoolId:n[0].id,selected:n[13].academic_year,title:"Student's Academic Year"};n[10]!==void 0&&(Be.resetYear=n[10]),T=new ts({props:Be}),dt.push(()=>Zt(T,"resetYear",hl)),T.$on("select",n[20]);let Je=((rl=n[4])==null?void 0:rl.academic_year_id)&&Nl(n);function _l(E){n[21](E)}let Ue={collapse:!0,schoolId:n[0].id,selected:n[13].division,title:"Student's Division"};n[11]!==void 0&&(Ue.resetDivision=n[11]),w=new ls({props:Ue}),dt.push(()=>Zt(w,"resetDivision",_l)),w.$on("select",n[22]);let te=((ol=n[4])==null?void 0:ol.division_id)&&Dl(n),le=((dl=n[4])==null?void 0:dl.firstname)&&Pl(n),se=((cl=n[4])==null?void 0:cl.lastname)&&yl(n),ae=((x=n[4])==null?void 0:x.class)&&Ol(n),ne=((Oe=n[4])==null?void 0:Oe.nfc_id)&&Ll(n);function nl(E,Q){return E[12]?js:Rs}let qt=nl(n),rt=qt(n);return{c(){e=d("div"),t=d("div"),l=d("div"),s=d("div"),s.innerHTML=a,o=g(),f=d("div"),Ze&&Ze.c(),h=g(),_=d("div"),Le(C.$$.fragment),D=g(),ze&&ze.c(),A=g(),Le(T.$$.fragment),L=g(),Je&&Je.c(),H=g(),Le(w.$$.fragment),Y=g(),te&&te.c(),J=g(),U=d("form"),I=d("div"),q=d("div"),N=d("div"),B=d("label"),B.textContent=de,O=g(),v=d("input"),W=g(),le&&le.c(),V=g(),S=d("div"),P=d("div"),F=d("label"),F.textContent=pe,G=g(),z=d("input"),ce=g(),se&&se.c(),ct=g(),fe=d("div"),Ce=d("label"),Ce.textContent=xe,ft=g(),M=d("select"),he=d("option"),he.textContent=pt,Ee=d("option"),Ee.textContent=yt,$e=d("option"),$e.textContent=Ot,Te=d("option"),Te.textContent=At,ke=d("option"),ke.textContent=lt,Ne=d("option"),Ne.textContent=kt,re=d("option"),re.textContent=st,_e=d("option"),_e.textContent=at,me=d("option"),me.textContent=oe,j=d("option"),j.textContent=Gt,De=d("option"),De.textContent=wt,Pe=d("option"),Pe.textContent=xt,ye=d("option"),ye.textContent=Et,$t=g(),ae&&ae.c(),Tt=g(),Ie=d("div"),He=d("label"),He.textContent=Ht,Nt=g(),ie=d("input"),Dt=g(),ne&&ne.c(),jt=g(),ut=d("div"),Qe=d("div"),Ge=d("input"),Ft=g(),Ke=d("label"),Ke.textContent=al,Bt=g(),We=d("div"),Xe=d("div"),ht=d("input"),Ut=g(),tt=d("label"),tt.textContent=Jt,Yt=g(),rt.c(),_t=g(),je=d("div"),mt=d("button"),mt.textContent=Qt,Pt=g(),gt=d("input"),this.h()},l(E){e=c(E,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var Q=m(e);t=c(Q,"DIV",{class:!0});var ot=m(t);l=c(ot,"DIV",{class:!0});var Se=m(l);s=c(Se,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-4b19vr"&&(s.innerHTML=a),o=b(Se),f=c(Se,"DIV",{class:!0});var nt=m(f);Ze&&Ze.l(nt),h=b(nt),_=c(nt,"DIV",{class:!0});var ee=m(_);Ve(C.$$.fragment,ee),D=b(ee),ze&&ze.l(ee),A=b(ee),Ve(T.$$.fragment,ee),L=b(ee),Je&&Je.l(ee),H=b(ee),Ve(w.$$.fragment,ee),Y=b(ee),te&&te.l(ee),J=b(ee),U=c(ee,"FORM",{});var Ct=m(U);I=c(Ct,"DIV",{class:!0});var ve=m(I);q=c(ve,"DIV",{class:!0});var St=m(q);N=c(St,"DIV",{});var Ye=m(N);B=c(Ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(B)!=="svelte-1hs0n20"&&(B.textContent=de),O=b(Ye),v=c(Ye,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),W=b(Ye),le&&le.l(Ye),Ye.forEach(u),St.forEach(u),V=b(ve),S=c(ve,"DIV",{class:!0});var it=m(S);P=c(it,"DIV",{});var we=m(P);F=c(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(F)!=="svelte-1tzb4fa"&&(F.textContent=pe),G=b(we),z=c(we,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),ce=b(we),se&&se.l(we),we.forEach(u),it.forEach(u),ct=b(ve),fe=c(ve,"DIV",{class:!0});var vt=m(fe);Ce=c(vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(Ce)!=="svelte-15fukk2"&&(Ce.textContent=xe),ft=b(vt),M=c(vt,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var et=m(M);he=c(et,"OPTION",{"data-svelte-h":!0}),$(he)!=="svelte-wf9klv"&&(he.textContent=pt),Ee=c(et,"OPTION",{"data-svelte-h":!0}),$(Ee)!=="svelte-14ylisr"&&(Ee.textContent=yt),$e=c(et,"OPTION",{"data-svelte-h":!0}),$($e)!=="svelte-bmc3c9"&&($e.textContent=Ot),Te=c(et,"OPTION",{"data-svelte-h":!0}),$(Te)!=="svelte-pzy12b"&&(Te.textContent=At),ke=c(et,"OPTION",{"data-svelte-h":!0}),$(ke)!=="svelte-17rvz3h"&&(ke.textContent=lt),Ne=c(et,"OPTION",{"data-svelte-h":!0}),$(Ne)!=="svelte-152oma3"&&(Ne.textContent=kt),re=c(et,"OPTION",{"data-svelte-h":!0}),$(re)!=="svelte-1y7a26p"&&(re.textContent=st),_e=c(et,"OPTION",{"data-svelte-h":!0}),$(_e)!=="svelte-118wla"&&(_e.textContent=at),me=c(et,"OPTION",{"data-svelte-h":!0}),$(me)!=="svelte-1gxeq1e"&&(me.textContent=oe),j=c(et,"OPTION",{"data-svelte-h":!0}),$(j)!=="svelte-oul01a"&&(j.textContent=Gt),De=c(et,"OPTION",{"data-svelte-h":!0}),$(De)!=="svelte-1coeeh0"&&(De.textContent=wt),Pe=c(et,"OPTION",{"data-svelte-h":!0}),$(Pe)!=="svelte-kq57ip"&&(Pe.textContent=xt),ye=c(et,"OPTION",{"data-svelte-h":!0}),$(ye)!=="svelte-14cpvwt"&&(ye.textContent=Et),et.forEach(u),$t=b(vt),ae&&ae.l(vt),vt.forEach(u),Tt=b(ve),Ie=c(ve,"DIV",{class:!0});var It=m(Ie);He=c(It,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(He)!=="svelte-1xnq29g"&&(He.textContent=Ht),Nt=b(It),ie=c(It,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),Dt=b(It),ne&&ne.l(It),It.forEach(u),jt=b(ve),ut=c(ve,"DIV",{class:!0});var Vt=m(ut);Qe=c(Vt,"DIV",{class:!0});var Mt=m(Qe);Ge=c(Mt,"INPUT",{class:!0,type:!0,role:!0,id:!0}),Ft=b(Mt),Ke=c(Mt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),$(Ke)!=="svelte-vorh5w"&&(Ke.textContent=al),Mt.forEach(u),Vt.forEach(u),Bt=b(ve),We=c(ve,"DIV",{class:!0});var wl=m(We);Xe=c(wl,"DIV",{class:!0});var ml=m(Xe);ht=c(ml,"INPUT",{class:!0,type:!0,role:!0,id:!0}),Ut=b(ml),tt=c(ml,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),$(tt)!=="svelte-mhtbt5"&&(tt.textContent=Jt),ml.forEach(u),wl.forEach(u),Yt=b(ve),rt.l(ve),_t=b(ve),je=c(ve,"DIV",{class:!0});var vl=m(je);mt=c(vl,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),$(mt)!=="svelte-1h5uvws"&&(mt.textContent=Qt),Pt=b(vl),gt=c(vl,"INPUT",{type:!0,class:!0}),vl.forEach(u),ve.forEach(u),Ct.forEach(u),ee.forEach(u),nt.forEach(u),Se.forEach(u),ot.forEach(u),Q.forEach(u),this.h()},h(){r(s,"class","modal-header"),r(B,"for","firstName"),r(B,"class","form-label"),r(v,"type","text"),r(v,"name","firstname"),r(v,"class","form-control"),r(v,"id","firstName"),r(v,"placeholder","Enter Firstname"),r(q,"class","col-xxl-6"),r(F,"for","lastName"),r(F,"class","form-label"),r(z,"type","text"),r(z,"name","lastname"),r(z,"class","form-control"),r(z,"id","lastName"),r(z,"placeholder","Enter Lastname"),r(S,"class","col-xxl-6"),r(Ce,"for","class"),r(Ce,"class","form-label"),he.disabled=!0,he.selected=!0,he.__value="",K(he,he.__value),Ee.__value=0,K(Ee,Ee.__value),$e.__value=1,K($e,$e.__value),Te.__value=2,K(Te,Te.__value),ke.__value=3,K(ke,ke.__value),Ne.__value=4,K(Ne,Ne.__value),re.__value=5,K(re,re.__value),_e.__value=6,K(_e,_e.__value),me.__value=7,K(me,me.__value),j.__value=8,K(j,j.__value),De.__value=9,K(De,De.__value),Pe.__value=10,K(Pe,Pe.__value),ye.__value=11,K(ye,ye.__value),r(M,"class","form-select"),r(M,"name","class"),r(M,"id","class"),r(M,"aria-label","Default select example"),n[13].class===void 0&&pl(()=>n[26].call(M)),r(fe,"class","col-lg-12"),r(He,"for","studentname"),r(He,"class","form-label"),r(ie,"type","text"),r(ie,"name","nfc_id"),r(ie,"class","form-control"),r(ie,"id","nfc_id"),r(ie,"placeholder","Enter Studentname name"),r(Ie,"class","col-lg-12"),r(Ge,"class","form-check-input"),r(Ge,"type","checkbox"),r(Ge,"role","switch"),r(Ge,"id","SwitchCheck1"),r(Ke,"class","form-check-label"),r(Ke,"for","SwitchCheck1"),r(Qe,"class","form-check form-switch col"),r(ut,"class","row ps-3 g-3"),r(ht,"class","form-check-input"),r(ht,"type","checkbox"),r(ht,"role","switch"),r(ht,"id","SwitchCheck1"),r(tt,"class","form-check-label"),r(tt,"for","SwitchCheck1"),r(Xe,"class","form-check form-switch col"),r(We,"class","row ps-3 g-3"),r(mt,"type","button"),r(mt,"class","btn btn-light fw-light"),r(mt,"data-bs-dismiss","modal"),r(gt,"type","submit"),r(gt,"class","btn btn-primary waves-effect waves-light"),gt.value="Save",r(je,"class","hstack gap-2 justify-content-end"),r(I,"class","row g-3"),r(_,"class","row g-3"),gl(_,"d-none",n[5]),r(f,"class","modal-body"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered modal-lg"),r(e,"class","modal fade"),r(e,"id","editStudentModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(E,Q){y(E,e,Q),i(e,t),i(t,l),i(l,s),i(l,o),i(l,f),Ze&&Ze.m(f,null),i(f,h),i(f,_),Me(C,_,null),i(_,D),ze&&ze.m(_,null),i(_,A),Me(T,_,null),i(_,L),Je&&Je.m(_,null),i(_,H),Me(w,_,null),i(_,Y),te&&te.m(_,null),i(_,J),i(_,U),i(U,I),i(I,q),i(q,N),i(N,B),i(N,O),i(N,v),K(v,n[13].firstname),i(N,W),le&&le.m(N,null),i(I,V),i(I,S),i(S,P),i(P,F),i(P,G),i(P,z),K(z,n[13].lastname),i(P,ce),se&&se.m(P,null),i(I,ct),i(I,fe),i(fe,Ce),i(fe,ft),i(fe,M),i(M,he),i(M,Ee),i(M,$e),i(M,Te),i(M,ke),i(M,Ne),i(M,re),i(M,_e),i(M,me),i(M,j),i(M,De),i(M,Pe),i(M,ye),n[25](M),Wt(M,n[13].class,!0),i(fe,$t),ae&&ae.m(fe,null),i(I,Tt),i(I,Ie),i(Ie,He),i(Ie,Nt),i(Ie,ie),K(ie,n[13].nfc_id),i(Ie,Dt),ne&&ne.m(Ie,null),i(I,jt),i(I,ut),i(ut,Qe),i(Qe,Ge),Ge.checked=n[13].onhold,i(Qe,Ft),i(Qe,Ke),i(I,Bt),i(I,We),i(We,Xe),i(Xe,ht),ht.checked=n[12],i(Xe,Ut),i(Xe,tt),i(I,Yt),rt.m(I,null),i(I,_t),i(I,je),i(je,mt),n[30](mt),i(je,Pt),i(je,gt),n[31](U),Lt=!0,Kt||(qe=[Re(v,"input",n[23]),Re(z,"input",n[24]),Re(M,"change",n[26]),Re(ie,"input",n[27]),Re(Ge,"change",n[28]),Re(ht,"change",n[29]),Re(U,"submit",Jl(n[15])),Re(e,"hidden.bs.modal",n[16])],Kt=!0)},p(E,Q){var ee,Ct,ve,St,Ye,it,we;E[5]?Ze||(Ze=$l(),Ze.c(),Ze.m(f,h)):Ze&&(Ze.d(1),Ze=null);const ot={};Q[0]&8192&&(ot.selected=E[13].father),!p&&Q[0]&512&&(p=!0,ot.resetParent=E[9],Xt(()=>p=!1)),C.$set(ot),(ee=E[4])!=null&&ee.father_id?ze?ze.p(E,Q):(ze=Tl(E),ze.c(),ze.m(_,A)):ze&&(ze.d(1),ze=null);const Se={};Q[0]&1&&(Se.schoolId=E[0].id),Q[0]&8192&&(Se.selected=E[13].academic_year),!k&&Q[0]&1024&&(k=!0,Se.resetYear=E[10],Xt(()=>k=!1)),T.$set(Se),(Ct=E[4])!=null&&Ct.academic_year_id?Je?Je.p(E,Q):(Je=Nl(E),Je.c(),Je.m(_,H)):Je&&(Je.d(1),Je=null);const nt={};Q[0]&1&&(nt.schoolId=E[0].id),Q[0]&8192&&(nt.selected=E[13].division),!R&&Q[0]&2048&&(R=!0,nt.resetDivision=E[11],Xt(()=>R=!1)),w.$set(nt),(ve=E[4])!=null&&ve.division_id?te?te.p(E,Q):(te=Dl(E),te.c(),te.m(_,J)):te&&(te.d(1),te=null),Q[0]&8192&&v.value!==E[13].firstname&&K(v,E[13].firstname),(St=E[4])!=null&&St.firstname?le?le.p(E,Q):(le=Pl(E),le.c(),le.m(N,null)):le&&(le.d(1),le=null),Q[0]&8192&&z.value!==E[13].lastname&&K(z,E[13].lastname),(Ye=E[4])!=null&&Ye.lastname?se?se.p(E,Q):(se=yl(E),se.c(),se.m(P,null)):se&&(se.d(1),se=null),Q[0]&8192&&Wt(M,E[13].class),(it=E[4])!=null&&it.class?ae?ae.p(E,Q):(ae=Ol(E),ae.c(),ae.m(fe,null)):ae&&(ae.d(1),ae=null),Q[0]&8192&&ie.value!==E[13].nfc_id&&K(ie,E[13].nfc_id),(we=E[4])!=null&&we.nfc_id?ne?ne.p(E,Q):(ne=Ll(E),ne.c(),ne.m(Ie,null)):ne&&(ne.d(1),ne=null),Q[0]&8192&&(Ge.checked=E[13].onhold),Q[0]&4096&&(ht.checked=E[12]),qt===(qt=nl(E))&&rt?rt.p(E,Q):(rt.d(1),rt=qt(E),rt&&(rt.c(),rt.m(I,_t))),(!Lt||Q[0]&32)&&gl(_,"d-none",E[5])},i(E){Lt||(ue(C.$$.fragment,E),ue(T.$$.fragment,E),ue(w.$$.fragment,E),Lt=!0)},o(E){ge(C.$$.fragment,E),ge(T.$$.fragment,E),ge(w.$$.fragment,E),Lt=!1},d(E){E&&u(e),Ze&&Ze.d(),Ae(C),ze&&ze.d(),Ae(T),Je&&Je.d(),Ae(w),te&&te.d(),le&&le.d(),se&&se.d(),n[25](null),ae&&ae.d(),ne&&ne.d(),rt.d(),n[30](null),n[31](null),Kt=!1,kl(qe)}}}function Bs(n,e,t){let l,s,a,o,f,h=!1,_=!1,C="",p="",D="",A,T,k,L=!1,{studentStore:H}=Il("studentStore");fl(n,H,G=>t(13,l=G));let{school:w}=e;async function R(){t(5,h=!0),t(4,f={});let G=new FormData(a);C!=""&&G.set("father_id",C),G.set("school_id",w.id),p!=""&&G.set("academic_year_id",p),D!=""&&G.set("division_id",D),G.set("edit_image",L),G.set("onhold",_);let z=await fetch(ns(l.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:G});if(Sl(z),z=await z.json(),t(5,h=!1),z.status=="success"){s.click();let ce=`Edit ${l.fullname} `;Zl(ce,"success"),Wl("students:refresh"),Y()}else t(4,f=z.errors)}H.subscribe(()=>{t(6,C=l.father_id),t(7,p=l.academic_year_id),t(8,D=l.division_id)});function Y(){t(12,L=!1),a.reset(),t(3,o.selectedIndex=0,o),t(4,f={}),A(),T(),k(),_=!1,t(6,C=t(7,p=t(8,D="")))}function J(G){A=G,t(9,A)}const U=G=>t(6,C=G.detail.parentId);function I(G){T=G,t(10,T)}const q=G=>t(7,p=G.detail.yearId);function N(G){k=G,t(11,k)}const B=G=>t(8,D=G.detail.divisionId);function de(){l.firstname=this.value,H.set(l)}function O(){l.lastname=this.value,H.set(l)}function v(G){dt[G?"unshift":"push"](()=>{o=G,t(3,o)})}function W(){l.class=Cl(this),H.set(l)}function V(){l.nfc_id=this.value,H.set(l)}function S(){l.onhold=this.checked,H.set(l)}function P(){L=this.checked,t(12,L)}function F(G){dt[G?"unshift":"push"](()=>{s=G,t(1,s)})}function pe(G){dt[G?"unshift":"push"](()=>{a=G,t(2,a)})}return n.$$set=G=>{"school"in G&&t(0,w=G.school)},[w,s,a,o,f,h,C,p,D,A,T,k,L,l,H,R,Y,J,U,I,q,N,B,de,O,v,W,V,S,P,F,pe]}class Us extends ll{constructor(e){super(),sl(this,e,Bs,Fs,tl,{school:0},null,[-1,-1])}}function Ys(n){let e,t="Not Subscribed";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1a2xrxf"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-danger-subtle text-danger")},m(l,s){y(l,e,s)},d(l){l&&u(e)}}}function qs(n){let e,t="Subscribed";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-3hcgtk"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-success-subtle text-success")},m(l,s){y(l,e,s)},d(l){l&&u(e)}}}function zs(n){let e,t="No Division";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=c(l,"SPAN",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-xnfvbo"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-danger-subtle text-danger")},m(l,s){y(l,e,s)},p:Rt,d(l){l&&u(e)}}}function Js(n){let e=n[0].division.name+"",t;return{c(){t=X(e)},l(l){t=Z(l,e)},m(l,s){y(l,t,s)},p(l,s){s&1&&e!==(e=l[0].division.name+"")&&be(t,e)},d(l){l&&u(t)}}}function Qs(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Qr Code"><i class="ri-qr-code-line"></i></a>',l,s;return{c(){e=d("span"),e.innerHTML=t,this.h()},l(a){e=c(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),$(e)!=="svelte-16cfjz2"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#ViewQrStudentModal")},m(a,o){y(a,e,o),l||(s=Re(e,"click",n[3]),l=!0)},p:Rt,d(a){a&&u(e),l=!1,s()}}}function Ks(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="View"><i class="ri-eye-fill"></i></a>',l,s;return{c(){e=d("span"),e.innerHTML=t,this.h()},l(a){e=c(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),$(e)!=="svelte-1so25d1"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#viewStudentModal")},m(a,o){y(a,e,o),l||(s=Re(e,"click",n[3]),l=!0)},p:Rt,d(a){a&&u(e),l=!1,s()}}}function Ws(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Edit"><i class="ri-edit-2-line"></i></a>',l,s;return{c(){e=d("span"),e.innerHTML=t,this.h()},l(a){e=c(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),$(e)!=="svelte-l088sk"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#editStudentModal")},m(a,o){y(a,e,o),l||(s=Re(e,"click",n[3]),l=!0)},p:Rt,d(a){a&&u(e),l=!1,s()}}}function Xs(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Delete"><i class="ri-delete-bin-line"></i></a>',l,s;return{c(){e=d("span"),e.innerHTML=t,this.h()},l(a){e=c(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),$(e)!=="svelte-46fona"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#deleteStudentModal")},m(a,o){y(a,e,o),l||(s=Re(e,"click",n[3]),l=!0)},p:Rt,d(a){a&&u(e),l=!1,s()}}}function Zs(n){let e,t,l='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',s,a,o=n[0].id+"",f,h,_,C,p,D,A,T,k,L=n[0].fullname+"",H,w,R,Y,J,U,I,q,N,B=n[0].father.user.profile.fullname+"",de,O,v,W,V,S,P,F=n[0].className+"",pe,G,z,ce,ct=JSON.parse(sessionStorage.getItem("permissions")).includes("students.otp"),fe,Ce,xe,ft='<i class="ri-money-dollar-circle-line"></i>',M,he=JSON.parse(sessionStorage.getItem("permissions")).includes("students.show"),pt,Ee=JSON.parse(sessionStorage.getItem("permissions")).includes("students.update"),yt,$e=JSON.parse(sessionStorage.getItem("permissions")).includes("students.destroy"),Ot,Te;function At(oe,j){return oe[0].subscribed?qs:Ys}let ke=At(n),lt=ke(n);function Ne(oe,j){return oe[0].division?Js:zs}let kt=Ne(n),re=kt(n),st=ct&&Qs(n),_e=he&&Ks(n),at=Ee&&Ws(n),me=$e&&Xs(n);return{c(){e=d("tr"),t=d("td"),t.innerHTML=l,s=g(),a=d("td"),f=X(o),h=g(),_=d("td"),C=d("div"),p=d("div"),D=d("img"),T=g(),k=d("div"),H=X(L),w=g(),R=d("td"),Y=d("div"),J=d("div"),U=d("img"),q=g(),N=d("div"),de=X(B),O=g(),v=d("td"),lt.c(),W=g(),V=d("td"),re.c(),S=g(),P=d("td"),pe=X(F),G=g(),z=d("td"),ce=d("div"),st&&st.c(),fe=g(),Ce=d("span"),xe=d("a"),xe.innerHTML=ft,M=g(),_e&&_e.c(),pt=g(),at&&at.c(),yt=g(),me&&me.c(),this.h()},l(oe){e=c(oe,"TR",{scope:!0});var j=m(e);t=c(j,"TD",{"data-svelte-h":!0}),$(t)!=="svelte-1wqjv4e"&&(t.innerHTML=l),s=b(j),a=c(j,"TD",{});var Gt=m(a);f=Z(Gt,o),Gt.forEach(u),h=b(j),_=c(j,"TD",{});var De=m(_);C=c(De,"DIV",{class:!0});var wt=m(C);p=c(wt,"DIV",{class:!0});var Pe=m(p);D=c(Pe,"IMG",{src:!0,alt:!0,class:!0}),Pe.forEach(u),T=b(wt),k=c(wt,"DIV",{class:!0});var xt=m(k);H=Z(xt,L),xt.forEach(u),wt.forEach(u),De.forEach(u),w=b(j),R=c(j,"TD",{});var ye=m(R);Y=c(ye,"DIV",{class:!0});var Et=m(Y);J=c(Et,"DIV",{class:!0});var $t=m(J);U=c($t,"IMG",{src:!0,alt:!0,class:!0}),$t.forEach(u),q=b(Et),N=c(Et,"DIV",{class:!0});var Tt=m(N);de=Z(Tt,B),Tt.forEach(u),Et.forEach(u),ye.forEach(u),O=b(j),v=c(j,"TD",{});var Ie=m(v);lt.l(Ie),Ie.forEach(u),W=b(j),V=c(j,"TD",{});var He=m(V);re.l(He),He.forEach(u),S=b(j),P=c(j,"TD",{});var Ht=m(P);pe=Z(Ht,F),Ht.forEach(u),G=b(j),z=c(j,"TD",{});var Nt=m(z);ce=c(Nt,"DIV",{class:!0});var ie=m(ce);st&&st.l(ie),fe=b(ie),Ce=c(ie,"SPAN",{});var Dt=m(Ce);xe=c(Dt,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),$(xe)!=="svelte-11ty0pd"&&(xe.innerHTML=ft),Dt.forEach(u),M=b(ie),_e&&_e.l(ie),pt=b(ie),at&&at.l(ie),yt=b(ie),me&&me.l(ie),ie.forEach(u),Nt.forEach(u),j.forEach(u),this.h()},h(){bt(D.src,A=n[0].image.full_path)||r(D,"src",A),r(D,"alt",""),r(D,"class","avatar-xs rounded-circle"),r(p,"class","flex-shrink-0"),r(k,"class","flex-grow-1"),r(C,"class","d-flex gap-2 align-items-center"),bt(U.src,I=n[0].father.user.profile.image.full_path)||r(U,"src",I),r(U,"alt",""),r(U,"class","avatar-xs rounded-circle"),r(J,"class","flex-shrink-0"),r(N,"class","flex-grow-1"),r(Y,"class","d-flex gap-2 align-items-center"),r(xe,"href","javascript:void(0);"),r(xe,"class","fs-15"),r(xe,"data-bs-toggle","tooltip"),r(xe,"data-bs-original-title","Subscribtion"),r(ce,"class","hstack gap-3 flex-wrap"),r(e,"scope","row")},m(oe,j){y(oe,e,j),i(e,t),i(e,s),i(e,a),i(a,f),i(e,h),i(e,_),i(_,C),i(C,p),i(p,D),i(C,T),i(C,k),i(k,H),i(e,w),i(e,R),i(R,Y),i(Y,J),i(J,U),i(Y,q),i(Y,N),i(N,de),i(e,O),i(e,v),lt.m(v,null),i(e,W),i(e,V),re.m(V,null),i(e,S),i(e,P),i(P,pe),i(e,G),i(e,z),i(z,ce),st&&st.m(ce,null),i(ce,fe),i(ce,Ce),i(Ce,xe),n[6](xe),i(ce,M),_e&&_e.m(ce,null),i(ce,pt),at&&at.m(ce,null),i(ce,yt),me&&me.m(ce,null),Ot||(Te=Re(Ce,"click",n[4]),Ot=!0)},p(oe,[j]){j&1&&o!==(o=oe[0].id+"")&&be(f,o),j&1&&!bt(D.src,A=oe[0].image.full_path)&&r(D,"src",A),j&1&&L!==(L=oe[0].fullname+"")&&be(H,L),j&1&&!bt(U.src,I=oe[0].father.user.profile.image.full_path)&&r(U,"src",I),j&1&&B!==(B=oe[0].father.user.profile.fullname+"")&&be(de,B),ke!==(ke=At(oe))&&(lt.d(1),lt=ke(oe),lt&&(lt.c(),lt.m(v,null))),kt===(kt=Ne(oe))&&re?re.p(oe,j):(re.d(1),re=kt(oe),re&&(re.c(),re.m(V,null))),j&1&&F!==(F=oe[0].className+"")&&be(pe,F),ct&&st.p(oe,j),he&&_e.p(oe,j),Ee&&at.p(oe,j),$e&&me.p(oe,j)},i:Rt,o:Rt,d(oe){oe&&u(e),lt.d(),re.d(),st&&st.d(),n[6](null),_e&&_e.d(),at&&at.d(),me&&me.d(),Ot=!1,Te()}}}function ea(n,e,t){let l,{student:s}=e,{school:a}=e,{studentStore:o}=Il("studentStore");fl(n,o,p=>t(7,l=p));function f(){rs(o,l=JSON.parse(JSON.stringify(s)),l)}let h;function _(){let p=bootstrap.Tooltip.getOrCreateInstance(h);Xl(`/admin/students/${s.id}/subscriptions`),p.hide()}function C(p){dt[p?"unshift":"push"](()=>{h=p,t(1,h)})}return n.$$set=p=>{"student"in p&&t(0,s=p.student),"school"in p&&t(5,a=p.school)},[s,h,o,f,_,a,C]}class ta extends ll{constructor(e){super(),sl(this,e,ea,Zs,tl,{student:0,school:5})}}function Ml(n,e,t){const l=n.slice();return l[3]=e[t],l}function Al(n){let e,t,l=El(n[0]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Gl(Ml(n,l,o));const a=o=>ge(s[o],1,1,()=>{s[o]=null});return{c(){e=d("tbody");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=c(o,"TBODY",{class:!0});var f=m(e);for(let h=0;h<s.length;h+=1)s[h].l(f);f.forEach(u),this.h()},h(){r(e,"class","list")},m(o,f){y(o,e,f);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);t=!0},p(o,f){if(f&3){l=El(o[0]);let h;for(h=0;h<l.length;h+=1){const _=Ml(o,l,h);s[h]?(s[h].p(_,f),ue(s[h],1)):(s[h]=Gl(_),s[h].c(),ue(s[h],1),s[h].m(e,null))}for(Ql(),h=l.length;h<s.length;h+=1)a(h);Kl()}},i(o){if(!t){for(let f=0;f<l.length;f+=1)ue(s[f]);t=!0}},o(o){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)ge(s[f]);t=!1},d(o){o&&u(e),ds(s,o)}}}function Gl(n){let e,t;return e=new ta({props:{student:n[3],school:n[1]}}),{c(){Le(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,s){Me(e,l,s),t=!0},p(l,s){const a={};s&1&&(a.student=l[3]),s&2&&(a.school=l[1]),e.$set(a)},i(l){t||(ue(e.$$.fragment,l),t=!0)},o(l){ge(e.$$.fragment,l),t=!1},d(l){Ae(e,l)}}}function xl(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-2svhwp"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(l,s){y(l,e,s)},d(l){l&&u(e)}}}function la(n){var Y,J,U,I,q,N,B,de,O,v,W,V;let e,t,l,s,a='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Student</th> <th scope="col">Father</th> <th scope="col">Status</th> <th scope="col">Class</th> <th scope="col">Action</th></tr>',o,f,h,_,C,p,D,A,T,k,L,H,w=(n[2]==null||((U=(J=(Y=n[2])==null?void 0:Y.from)==null?void 0:J.route)==null?void 0:U.id)!=((N=(q=(I=n[2])==null?void 0:I.to)==null?void 0:q.route)==null?void 0:N.id))&&Al(n);h=new gs({}),C=new Hs({}),D=new ps({}),T=new Us({props:{school:n[1]}});let R=((O=(de=(B=n[2])==null?void 0:B.from)==null?void 0:de.route)==null?void 0:O.id)==((V=(W=(v=n[2])==null?void 0:v.to)==null?void 0:W.route)==null?void 0:V.id)&&n[2]&&xl();return{c(){e=d("div"),t=d("div"),l=d("table"),s=d("thead"),s.innerHTML=a,o=g(),w&&w.c(),f=g(),Le(h.$$.fragment),_=g(),Le(C.$$.fragment),p=g(),Le(D.$$.fragment),A=g(),Le(T.$$.fragment),k=g(),R&&R.c(),L=el(),this.h()},l(S){e=c(S,"DIV",{class:!0});var P=m(e);t=c(P,"DIV",{class:!0});var F=m(t);l=c(F,"TABLE",{class:!0});var pe=m(l);s=c(pe,"THEAD",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-pdhfga"&&(s.innerHTML=a),o=b(pe),w&&w.l(pe),pe.forEach(u),f=b(F),Ve(h.$$.fragment,F),_=b(F),Ve(C.$$.fragment,F),p=b(F),Ve(D.$$.fragment,F),A=b(F),Ve(T.$$.fragment,F),F.forEach(u),P.forEach(u),k=b(S),R&&R.l(S),L=el(),this.h()},h(){r(s,"class","table-light"),r(l,"class","table align-middle table-nowrap mb-0 border-top"),r(t,"class","table-responsive"),r(e,"class","row pe-0")},m(S,P){y(S,e,P),i(e,t),i(t,l),i(l,s),i(l,o),w&&w.m(l,null),i(t,f),Me(h,t,null),i(t,_),Me(C,t,null),i(t,p),Me(D,t,null),i(t,A),Me(T,t,null),y(S,k,P),R&&R.m(S,P),y(S,L,P),H=!0},p(S,[P]){var pe,G,z,ce,ct,fe,Ce,xe,ft,M,he,pt;S[2]==null||((z=(G=(pe=S[2])==null?void 0:pe.from)==null?void 0:G.route)==null?void 0:z.id)!=((fe=(ct=(ce=S[2])==null?void 0:ce.to)==null?void 0:ct.route)==null?void 0:fe.id)?w?(w.p(S,P),P&4&&ue(w,1)):(w=Al(S),w.c(),ue(w,1),w.m(l,null)):w&&(Ql(),ge(w,1,1,()=>{w=null}),Kl());const F={};P&2&&(F.school=S[1]),T.$set(F),((ft=(xe=(Ce=S[2])==null?void 0:Ce.from)==null?void 0:xe.route)==null?void 0:ft.id)==((pt=(he=(M=S[2])==null?void 0:M.to)==null?void 0:he.route)==null?void 0:pt.id)&&S[2]?R||(R=xl(),R.c(),R.m(L.parentNode,L)):R&&(R.d(1),R=null)},i(S){H||(ue(w),ue(h.$$.fragment,S),ue(C.$$.fragment,S),ue(D.$$.fragment,S),ue(T.$$.fragment,S),H=!0)},o(S){ge(w),ge(h.$$.fragment,S),ge(C.$$.fragment,S),ge(D.$$.fragment,S),ge(T.$$.fragment,S),H=!1},d(S){S&&(u(e),u(k),u(L)),w&&w.d(),Ae(h),Ae(C),Ae(D),Ae(T),R&&R.d(S)}}}function sa(n,e,t){let l;fl(n,Cs,o=>t(2,l=o));let{studentsList:s}=e,{school:a}=e;return os("studentStore",{studentStore:bs({})}),n.$$set=o=>{"studentsList"in o&&t(0,s=o.studentsList),"school"in o&&t(1,a=o.school)},[s,a,l]}class aa extends ll{constructor(e){super(),sl(this,e,sa,la,tl,{studentsList:0,school:1})}}function Hl(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1skq92h"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(l,s){y(l,e,s)},d(l){l&&u(e)}}}function Rl(n){let e,t=n[4].father_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].father_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function jl(n){let e,t=n[4].academic_year_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].academic_year_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Fl(n){let e,t=n[4].division_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].division_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Bl(n){let e,t=n[4].firstname[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].firstname[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Ul(n){let e,t=n[4].lastname[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].lastname[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function Yl(n){let e,t=n[4].class[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].class[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function ql(n){let e,t=n[4].nfc_id[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].nfc_id[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function zl(n){let e,t=n[4].file[0]+"",l;return{c(){e=d("strong"),l=X(t),this.h()},l(s){e=c(s,"STRONG",{class:!0});var a=m(e);l=Z(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(s,a){y(s,e,a),i(e,l)},p(s,a){a&16&&t!==(t=s[4].file[0]+"")&&be(l,t)},d(s){s&&u(e)}}}function na(n){var nl,qt,rt,il,rl,ol,dl,cl;let e,t,l,s,a='<h5 class="modal-title" id="exampleModalgridLabel">Add Student</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,f,h,_,C,p,D,A,T,k,L,H,w,R,Y,J,U,I,q,N,B,de="First Name",O,v,W,V,S,P,F,pe="Last Name",G,z,ce,ct,fe,Ce,xe="Class",ft,M,he,pt="-- select a class -- ",Ee,yt="Primary School - Grade 1",$e,Ot="Primary School - Grade 2",Te,At="Primary School - Grade 3",ke,lt="Primary School - Grade 4",Ne,kt="Primary School - Grade 5",re,st="Primary School - Grade 6",_e,at="Middle School - Grade 1",me,oe="Middle School - Grade 2",j,Gt="Middle School - Grade 3",De,wt="Secondary School - Grade 1",Pe,xt="Secondary School - Grade 2",ye,Et="Secondary School - Grade 3",$t,Tt,Ie,He,Ht="NFC ID",Nt,ie,Dt,jt,ut,Qe,Ge,Ft,Ke,al="On Hold",Bt,We,Xe,ht="Student  Image",Ut,tt,Jt,Yt,_t,je,mt="Close",Qt,Pt,gt,Lt,Kt,qe=n[5]&&Hl();function Ze(x){n[15](x)}let ul={collapse:!0,title:"Student's Parent"};n[10]!==void 0&&(ul.resetParent=n[10]),C=new es({props:ul}),dt.push(()=>Zt(C,"resetParent",Ze)),C.$on("select",n[16]);let Fe=((nl=n[4])==null?void 0:nl.father_id)&&Rl(n);function ze(x){n[17](x)}let hl={collapse:!0,schoolId:n[0].id,title:"Student's Academic Year"};n[11]!==void 0&&(hl.resetYear=n[11]),T=new ts({props:hl}),dt.push(()=>Zt(T,"resetYear",ze)),T.$on("select",n[18]);let Be=((qt=n[4])==null?void 0:qt.academic_year_id)&&jl(n);function Je(x){n[19](x)}let _l={collapse:!0,"schoolId{school.id}":!0,title:"Student's Division"};n[12]!==void 0&&(_l.resetDivision=n[12]),w=new ls({props:_l}),dt.push(()=>Zt(w,"resetDivision",Je)),w.$on("select",n[20]);let Ue=((rt=n[4])==null?void 0:rt.division_id)&&Fl(n),te=((il=n[4])==null?void 0:il.firstname)&&Bl(n),le=((rl=n[4])==null?void 0:rl.lastname)&&Ul(n),se=((ol=n[4])==null?void 0:ol.class)&&Yl(n),ae=((dl=n[4])==null?void 0:dl.nfc_id)&&ql(n),ne=((cl=n[4])==null?void 0:cl.file)&&zl(n);return{c(){e=d("div"),t=d("div"),l=d("div"),s=d("div"),s.innerHTML=a,o=g(),f=d("div"),qe&&qe.c(),h=g(),_=d("div"),Le(C.$$.fragment),D=g(),Fe&&Fe.c(),A=g(),Le(T.$$.fragment),L=g(),Be&&Be.c(),H=g(),Le(w.$$.fragment),Y=g(),Ue&&Ue.c(),J=g(),U=d("form"),I=d("div"),q=d("div"),N=d("div"),B=d("label"),B.textContent=de,O=g(),v=d("input"),W=g(),te&&te.c(),V=g(),S=d("div"),P=d("div"),F=d("label"),F.textContent=pe,G=g(),z=d("input"),ce=g(),le&&le.c(),ct=g(),fe=d("div"),Ce=d("label"),Ce.textContent=xe,ft=g(),M=d("select"),he=d("option"),he.textContent=pt,Ee=d("option"),Ee.textContent=yt,$e=d("option"),$e.textContent=Ot,Te=d("option"),Te.textContent=At,ke=d("option"),ke.textContent=lt,Ne=d("option"),Ne.textContent=kt,re=d("option"),re.textContent=st,_e=d("option"),_e.textContent=at,me=d("option"),me.textContent=oe,j=d("option"),j.textContent=Gt,De=d("option"),De.textContent=wt,Pe=d("option"),Pe.textContent=xt,ye=d("option"),ye.textContent=Et,$t=g(),se&&se.c(),Tt=g(),Ie=d("div"),He=d("label"),He.textContent=Ht,Nt=g(),ie=d("input"),Dt=g(),ae&&ae.c(),jt=g(),ut=d("div"),Qe=d("div"),Ge=d("input"),Ft=g(),Ke=d("label"),Ke.textContent=al,Bt=g(),We=d("div"),Xe=d("label"),Xe.textContent=ht,Ut=g(),tt=d("input"),Jt=g(),ne&&ne.c(),Yt=g(),_t=d("div"),je=d("button"),je.textContent=mt,Qt=g(),Pt=d("input"),this.h()},l(x){e=c(x,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var Oe=m(e);t=c(Oe,"DIV",{class:!0});var E=m(t);l=c(E,"DIV",{class:!0});var Q=m(l);s=c(Q,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-4b19vr"&&(s.innerHTML=a),o=b(Q),f=c(Q,"DIV",{class:!0});var ot=m(f);qe&&qe.l(ot),h=b(ot),_=c(ot,"DIV",{class:!0});var Se=m(_);Ve(C.$$.fragment,Se),D=b(Se),Fe&&Fe.l(Se),A=b(Se),Ve(T.$$.fragment,Se),L=b(Se),Be&&Be.l(Se),H=b(Se),Ve(w.$$.fragment,Se),Y=b(Se),Ue&&Ue.l(Se),J=b(Se),U=c(Se,"FORM",{});var nt=m(U);I=c(nt,"DIV",{class:!0});var ee=m(I);q=c(ee,"DIV",{class:!0});var Ct=m(q);N=c(Ct,"DIV",{});var ve=m(N);B=c(ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(B)!=="svelte-1hs0n20"&&(B.textContent=de),O=b(ve),v=c(ve,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),W=b(ve),te&&te.l(ve),ve.forEach(u),Ct.forEach(u),V=b(ee),S=c(ee,"DIV",{class:!0});var St=m(S);P=c(St,"DIV",{});var Ye=m(P);F=c(Ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(F)!=="svelte-1tzb4fa"&&(F.textContent=pe),G=b(Ye),z=c(Ye,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),ce=b(Ye),le&&le.l(Ye),Ye.forEach(u),St.forEach(u),ct=b(ee),fe=c(ee,"DIV",{class:!0});var it=m(fe);Ce=c(it,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(Ce)!=="svelte-15fukk2"&&(Ce.textContent=xe),ft=b(it),M=c(it,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var we=m(M);he=c(we,"OPTION",{"data-svelte-h":!0}),$(he)!=="svelte-wf9klv"&&(he.textContent=pt),Ee=c(we,"OPTION",{"data-svelte-h":!0}),$(Ee)!=="svelte-14ylisr"&&(Ee.textContent=yt),$e=c(we,"OPTION",{"data-svelte-h":!0}),$($e)!=="svelte-bmc3c9"&&($e.textContent=Ot),Te=c(we,"OPTION",{"data-svelte-h":!0}),$(Te)!=="svelte-pzy12b"&&(Te.textContent=At),ke=c(we,"OPTION",{"data-svelte-h":!0}),$(ke)!=="svelte-17rvz3h"&&(ke.textContent=lt),Ne=c(we,"OPTION",{"data-svelte-h":!0}),$(Ne)!=="svelte-152oma3"&&(Ne.textContent=kt),re=c(we,"OPTION",{"data-svelte-h":!0}),$(re)!=="svelte-1y7a26p"&&(re.textContent=st),_e=c(we,"OPTION",{"data-svelte-h":!0}),$(_e)!=="svelte-118wla"&&(_e.textContent=at),me=c(we,"OPTION",{"data-svelte-h":!0}),$(me)!=="svelte-1gxeq1e"&&(me.textContent=oe),j=c(we,"OPTION",{"data-svelte-h":!0}),$(j)!=="svelte-oul01a"&&(j.textContent=Gt),De=c(we,"OPTION",{"data-svelte-h":!0}),$(De)!=="svelte-1coeeh0"&&(De.textContent=wt),Pe=c(we,"OPTION",{"data-svelte-h":!0}),$(Pe)!=="svelte-kq57ip"&&(Pe.textContent=xt),ye=c(we,"OPTION",{"data-svelte-h":!0}),$(ye)!=="svelte-14cpvwt"&&(ye.textContent=Et),we.forEach(u),$t=b(it),se&&se.l(it),it.forEach(u),Tt=b(ee),Ie=c(ee,"DIV",{class:!0});var vt=m(Ie);He=c(vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(He)!=="svelte-1xnq29g"&&(He.textContent=Ht),Nt=b(vt),ie=c(vt,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),Dt=b(vt),ae&&ae.l(vt),vt.forEach(u),jt=b(ee),ut=c(ee,"DIV",{class:!0});var et=m(ut);Qe=c(et,"DIV",{class:!0});var It=m(Qe);Ge=c(It,"INPUT",{class:!0,type:!0,role:!0,id:!0}),Ft=b(It),Ke=c(It,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),$(Ke)!=="svelte-vorh5w"&&(Ke.textContent=al),It.forEach(u),et.forEach(u),Bt=b(ee),We=c(ee,"DIV",{});var Vt=m(We);Xe=c(Vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(Xe)!=="svelte-3h3qwu"&&(Xe.textContent=ht),Ut=b(Vt),tt=c(Vt,"INPUT",{class:!0,name:!0,type:!0,id:!0}),Jt=b(Vt),ne&&ne.l(Vt),Vt.forEach(u),Yt=b(ee),_t=c(ee,"DIV",{class:!0});var Mt=m(_t);je=c(Mt,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),$(je)!=="svelte-1h5uvws"&&(je.textContent=mt),Qt=b(Mt),Pt=c(Mt,"INPUT",{type:!0,class:!0}),Mt.forEach(u),ee.forEach(u),nt.forEach(u),Se.forEach(u),ot.forEach(u),Q.forEach(u),E.forEach(u),Oe.forEach(u),this.h()},h(){r(s,"class","modal-header"),r(B,"for","firstName"),r(B,"class","form-label"),r(v,"type","text"),r(v,"name","firstname"),r(v,"class","form-control"),r(v,"id","firstName"),r(v,"placeholder","Enter Firstname"),r(q,"class","col-xxl-6"),r(F,"for","lastName"),r(F,"class","form-label"),r(z,"type","text"),r(z,"name","lastname"),r(z,"class","form-control"),r(z,"id","lastName"),r(z,"placeholder","Enter Lastname"),r(S,"class","col-xxl-6"),r(Ce,"for","class"),r(Ce,"class","form-label"),he.disabled=!0,he.selected=!0,he.__value="",K(he,he.__value),Ee.__value=0,K(Ee,Ee.__value),$e.__value=1,K($e,$e.__value),Te.__value=2,K(Te,Te.__value),ke.__value=3,K(ke,ke.__value),Ne.__value=4,K(Ne,Ne.__value),re.__value=5,K(re,re.__value),_e.__value=6,K(_e,_e.__value),me.__value=7,K(me,me.__value),j.__value=8,K(j,j.__value),De.__value=9,K(De,De.__value),Pe.__value=10,K(Pe,Pe.__value),ye.__value=11,K(ye,ye.__value),r(M,"class","form-select"),r(M,"name","class"),r(M,"id","class"),r(M,"aria-label","Default select example"),r(fe,"class","col-lg-12"),r(He,"for","studentname"),r(He,"class","form-label"),r(ie,"type","text"),r(ie,"name","nfc_id"),r(ie,"class","form-control"),r(ie,"id","nfc_id"),r(ie,"placeholder","Enter Studentname name"),r(Ie,"class","col-lg-12"),r(Ge,"class","form-check-input"),r(Ge,"type","checkbox"),r(Ge,"role","switch"),r(Ge,"id","SwitchCheck1"),r(Ke,"class","form-check-label"),r(Ke,"for","SwitchCheck1"),r(Qe,"class","form-check form-switch col"),r(ut,"class","row ps-3 g-3"),r(Xe,"for","formFile"),r(Xe,"class","form-label"),r(tt,"class","form-control"),r(tt,"name","file"),r(tt,"type","file"),r(tt,"id","formFile"),r(je,"type","button"),r(je,"class","btn btn-light fw-light"),r(je,"data-bs-dismiss","modal"),r(Pt,"type","submit"),r(Pt,"class","btn btn-primary waves-effect waves-light"),Pt.value="Save",r(_t,"class","hstack gap-2 justify-content-end"),r(I,"class","row g-3"),r(_,"class","row g-3"),gl(_,"d-none",n[5]),r(f,"class","modal-body"),r(l,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered modal-lg"),r(e,"class","modal fade"),r(e,"id","addStudentModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(x,Oe){y(x,e,Oe),i(e,t),i(t,l),i(l,s),i(l,o),i(l,f),qe&&qe.m(f,null),i(f,h),i(f,_),Me(C,_,null),i(_,D),Fe&&Fe.m(_,null),i(_,A),Me(T,_,null),i(_,L),Be&&Be.m(_,null),i(_,H),Me(w,_,null),i(_,Y),Ue&&Ue.m(_,null),i(_,J),i(_,U),i(U,I),i(I,q),i(q,N),i(N,B),i(N,O),i(N,v),i(N,W),te&&te.m(N,null),i(I,V),i(I,S),i(S,P),i(P,F),i(P,G),i(P,z),i(P,ce),le&&le.m(P,null),i(I,ct),i(I,fe),i(fe,Ce),i(fe,ft),i(fe,M),i(M,he),i(M,Ee),i(M,$e),i(M,Te),i(M,ke),i(M,Ne),i(M,re),i(M,_e),i(M,me),i(M,j),i(M,De),i(M,Pe),i(M,ye),n[21](M),i(fe,$t),se&&se.m(fe,null),i(I,Tt),i(I,Ie),i(Ie,He),i(Ie,Nt),i(Ie,ie),i(Ie,Dt),ae&&ae.m(Ie,null),i(I,jt),i(I,ut),i(ut,Qe),i(Qe,Ge),Ge.checked=n[6],i(Qe,Ft),i(Qe,Ke),i(I,Bt),i(I,We),i(We,Xe),i(We,Ut),i(We,tt),i(We,Jt),ne&&ne.m(We,null),i(I,Yt),i(I,_t),i(_t,je),n[23](je),i(_t,Qt),i(_t,Pt),n[24](U),gt=!0,Lt||(Kt=[Re(Ge,"change",n[22]),Re(U,"submit",Jl(n[13])),Re(e,"hidden.bs.modal",n[14])],Lt=!0)},p(x,[Oe]){var Se,nt,ee,Ct,ve,St,Ye,it;x[5]?qe||(qe=Hl(),qe.c(),qe.m(f,h)):qe&&(qe.d(1),qe=null);const E={};!p&&Oe&1024&&(p=!0,E.resetParent=x[10],Xt(()=>p=!1)),C.$set(E),(Se=x[4])!=null&&Se.father_id?Fe?Fe.p(x,Oe):(Fe=Rl(x),Fe.c(),Fe.m(_,A)):Fe&&(Fe.d(1),Fe=null);const Q={};Oe&1&&(Q.schoolId=x[0].id),!k&&Oe&2048&&(k=!0,Q.resetYear=x[11],Xt(()=>k=!1)),T.$set(Q),(nt=x[4])!=null&&nt.academic_year_id?Be?Be.p(x,Oe):(Be=jl(x),Be.c(),Be.m(_,H)):Be&&(Be.d(1),Be=null);const ot={};!R&&Oe&4096&&(R=!0,ot.resetDivision=x[12],Xt(()=>R=!1)),w.$set(ot),(ee=x[4])!=null&&ee.division_id?Ue?Ue.p(x,Oe):(Ue=Fl(x),Ue.c(),Ue.m(_,J)):Ue&&(Ue.d(1),Ue=null),(Ct=x[4])!=null&&Ct.firstname?te?te.p(x,Oe):(te=Bl(x),te.c(),te.m(N,null)):te&&(te.d(1),te=null),(ve=x[4])!=null&&ve.lastname?le?le.p(x,Oe):(le=Ul(x),le.c(),le.m(P,null)):le&&(le.d(1),le=null),(St=x[4])!=null&&St.class?se?se.p(x,Oe):(se=Yl(x),se.c(),se.m(fe,null)):se&&(se.d(1),se=null),(Ye=x[4])!=null&&Ye.nfc_id?ae?ae.p(x,Oe):(ae=ql(x),ae.c(),ae.m(Ie,null)):ae&&(ae.d(1),ae=null),Oe&64&&(Ge.checked=x[6]),(it=x[4])!=null&&it.file?ne?ne.p(x,Oe):(ne=zl(x),ne.c(),ne.m(We,null)):ne&&(ne.d(1),ne=null),(!gt||Oe&32)&&gl(_,"d-none",x[5])},i(x){gt||(ue(C.$$.fragment,x),ue(T.$$.fragment,x),ue(w.$$.fragment,x),gt=!0)},o(x){ge(C.$$.fragment,x),ge(T.$$.fragment,x),ge(w.$$.fragment,x),gt=!1},d(x){x&&u(e),qe&&qe.d(),Ae(C),Fe&&Fe.d(),Ae(T),Be&&Be.d(),Ae(w),Ue&&Ue.d(),te&&te.d(),le&&le.d(),n[21](null),se&&se.d(),ae&&ae.d(),ne&&ne.d(),n[23](null),n[24](null),Lt=!1,kl(Kt)}}}function ia(n,e,t){let l,s,a,o,f,h=!1,_=!1,C="",p="",D="",A,T,k,{school:L}=e;async function H(){t(5,h=!0),t(4,f={});let v=new FormData(a);C!=""&&v.set("father_id",C),p!=""&&v.set("academic_year_id",p),D!=""&&v.set("division_id",D),v.set("onhold",_);let W=await fetch(is(L.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:v});if(Sl(W),W=await W.json(),t(5,h=!1),W.status=="success"){l.click();let V=`Added ${s} as a new student`;Zl(V,"success"),Wl("students:refresh"),w()}else t(4,f=W.errors)}function w(){a.reset(),t(3,o.selectedIndex=0,o),t(4,f={}),A(),T(),k(),t(6,_=!1),t(7,C=t(8,p=t(9,D="")))}function R(v){A=v,t(10,A)}const Y=v=>t(7,C=v.detail.parentId);function J(v){T=v,t(11,T)}const U=v=>t(8,p=v.detail.yearId);function I(v){k=v,t(12,k)}const q=v=>t(9,D=v.detail.divisionId);function N(v){dt[v?"unshift":"push"](()=>{o=v,t(3,o)})}function B(){_=this.checked,t(6,_)}function de(v){dt[v?"unshift":"push"](()=>{l=v,t(1,l)})}function O(v){dt[v?"unshift":"push"](()=>{a=v,t(2,a)})}return n.$$set=v=>{"school"in v&&t(0,L=v.school)},[L,l,a,o,f,h,_,C,p,D,A,T,k,H,w,R,Y,J,U,I,q,N,B,de,O]}class ra extends ll{constructor(e){super(),sl(this,e,ia,na,tl,{school:0})}}function oa(n){let e,t='<i class="ri-add-line align-bottom me-1"></i> Add Student',l,s,a;return s=new ra({props:{school:n[4]}}),{c(){e=d("button"),e.innerHTML=t,l=g(),Le(s.$$.fragment),this.h()},l(o){e=c(o,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),$(e)!=="svelte-3ylrul"&&(e.innerHTML=t),l=b(o),Ve(s.$$.fragment,o),this.h()},h(){r(e,"type","button"),r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#addStudentModal"),r(e,"class","btn btn-primary waves-effect waves-light")},m(o,f){y(o,e,f),y(o,l,f),Me(s,o,f),a=!0},p(o,f){const h={};f&16&&(h.school=o[4]),s.$set(h)},i(o){a||(ue(s.$$.fragment,o),a=!0)},o(o){ge(s.$$.fragment,o),a=!1},d(o){o&&(u(e),u(l)),Ae(s,o)}}}function da(n){let e,t,l,s,a,o,f,h="All",_,C="Archived",p,D="Not Archived",A,T,k,L,H="All",w,R="Subscribed",Y,J="Not Subscribed",U,I,q,N,B,de,O;l=new vs({props:{type:"Student"}}),I=new aa({props:{studentsList:n[5],school:n[4]}});const v=[n[3]];let W={};for(let V=0;V<v.length;V+=1)W=fs(W,v[V]);return N=new ms({props:W}),{c(){e=d("div"),t=d("div"),Le(l.$$.fragment),s=g(),a=d("div"),o=d("select"),f=d("option"),f.textContent=h,_=d("option"),_.textContent=C,p=d("option"),p.textContent=D,A=g(),T=d("div"),k=d("select"),L=d("option"),L.textContent=H,w=d("option"),w.textContent=R,Y=d("option"),Y.textContent=J,U=g(),Le(I.$$.fragment),q=g(),Le(N.$$.fragment),this.h()},l(V){e=c(V,"DIV",{class:!0});var S=m(e);t=c(S,"DIV",{class:!0});var P=m(t);Ve(l.$$.fragment,P),s=b(P),a=c(P,"DIV",{class:!0});var F=m(a);o=c(F,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var pe=m(o);f=c(pe,"OPTION",{"data-svelte-h":!0}),$(f)!=="svelte-13f2t2c"&&(f.textContent=h),_=c(pe,"OPTION",{"data-svelte-h":!0}),$(_)!=="svelte-1q69t1u"&&(_.textContent=C),p=c(pe,"OPTION",{"data-svelte-h":!0}),$(p)!=="svelte-aygy80"&&(p.textContent=D),pe.forEach(u),F.forEach(u),A=b(P),T=c(P,"DIV",{class:!0});var G=m(T);k=c(G,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var z=m(k);L=c(z,"OPTION",{"data-svelte-h":!0}),$(L)!=="svelte-13f2t2c"&&(L.textContent=H),w=c(z,"OPTION",{"data-svelte-h":!0}),$(w)!=="svelte-1r4nn6a"&&(w.textContent=R),Y=c(z,"OPTION",{"data-svelte-h":!0}),$(Y)!=="svelte-17v6sc"&&(Y.textContent=J),z.forEach(u),G.forEach(u),U=b(P),Ve(I.$$.fragment,P),q=b(P),Ve(N.$$.fragment,P),P.forEach(u),S.forEach(u),this.h()},h(){f.__value="all",K(f,f.__value),_.__value="archived",K(_,_.__value),p.__value="not archived",K(p,p.__value),r(o,"class","form-select"),r(o,"name","class"),r(o,"id","class"),r(o,"aria-label","Default select example"),n[0]===void 0&&pl(()=>n[8].call(o)),r(a,"class","col-xl-3 mb-3"),L.__value="all",K(L,L.__value),w.__value="subscribed",K(w,w.__value),Y.__value="not subscribed",K(Y,Y.__value),r(k,"class","form-select"),r(k,"name","class"),r(k,"id","class"),r(k,"aria-label","Default select example"),n[1]===void 0&&pl(()=>n[9].call(k)),r(T,"class","col-xl-3 mb-3"),r(t,"class","row"),r(e,"class","card-body")},m(V,S){y(V,e,S),i(e,t),Me(l,t,null),i(t,s),i(t,a),i(a,o),i(o,f),i(o,_),i(o,p),Wt(o,n[0],!0),i(t,A),i(t,T),i(T,k),i(k,L),i(k,w),i(k,Y),Wt(k,n[1],!0),i(t,U),Me(I,t,null),i(t,q),Me(N,t,null),B=!0,de||(O=[Re(o,"change",n[8]),Re(o,"change",n[6]),Re(k,"change",n[9]),Re(k,"change",n[6])],de=!0)},p(V,S){S&1&&Wt(o,V[0]),S&2&&Wt(k,V[1]);const P={};S&32&&(P.studentsList=V[5]),S&16&&(P.school=V[4]),I.$set(P);const F=S&8?hs(v,[_s(V[3])]):{};N.$set(F)},i(V){B||(ue(l.$$.fragment,V),ue(I.$$.fragment,V),ue(N.$$.fragment,V),B=!0)},o(V){ge(l.$$.fragment,V),ge(I.$$.fragment,V),ge(N.$$.fragment,V),B=!1},d(V){V&&u(e),Ae(l),Ae(I),Ae(N),de=!1,kl(O)}}}function ca(n){let e,t,l,s,a,o,f,h,_,C,p,D=n[4].name+"",A,T,k,L,H,w=JSON.parse(sessionStorage.getItem("permissions")).includes("students.store"),R,Y=JSON.parse(sessionStorage.getItem("permissions")).includes("students.index"),J,U,I=w&&oa(n),q=Y&&da(n);return{c(){e=d("div"),t=d("div"),l=d("div"),s=d("div"),a=d("div"),o=d("div"),f=d("img"),_=g(),C=d("h4"),p=d("span"),A=X(D),T=X("'s"),k=X(" Students Management"),L=g(),H=d("div"),I&&I.c(),R=g(),q&&q.c(),this.h()},l(N){e=c(N,"DIV",{class:!0});var B=m(e);t=c(B,"DIV",{class:!0});var de=m(t);l=c(de,"DIV",{class:!0});var O=m(l);s=c(O,"DIV",{class:!0});var v=m(s);a=c(v,"DIV",{class:!0});var W=m(a);o=c(W,"DIV",{class:!0});var V=m(o);f=c(V,"IMG",{src:!0,alt:!0,class:!0}),V.forEach(u),_=b(W),C=c(W,"H4",{class:!0});var S=m(C);p=c(S,"SPAN",{class:!0});var P=m(p);A=Z(P,D),T=Z(P,"'s"),P.forEach(u),k=Z(S," Students Management"),S.forEach(u),W.forEach(u),L=b(v),H=c(v,"DIV",{class:!0});var F=m(H);I&&I.l(F),F.forEach(u),v.forEach(u),R=b(O),q&&q.l(O),O.forEach(u),de.forEach(u),B.forEach(u),this.h()},h(){bt(f.src,h=n[4].logo.full_path)||r(f,"src",h),r(f,"alt",""),r(f,"class","avatar-xs rounded-circle"),r(o,"class","flex-shrink-0"),r(p,"class","text-primary"),r(C,"class","card-title mb-0 flex-grow-1"),r(a,"class","d-flex gap-2 align-items-center flex-grow-1"),r(H,"class","flex-shrink-0"),r(s,"class","card-header align-items-center d-flex"),r(l,"class","card"),r(t,"class","col-lg-12"),r(e,"class","row")},m(N,B){y(N,e,B),i(e,t),i(t,l),i(l,s),i(s,a),i(a,o),i(o,f),i(a,_),i(a,C),i(C,p),i(p,A),i(p,T),i(C,k),i(s,L),i(s,H),I&&I.m(H,null),i(l,R),q&&q.m(l,null),n[10](e),U=!0},p(N,[B]){(!U||B&16&&!bt(f.src,h=N[4].logo.full_path))&&r(f,"src",h),(!U||B&16)&&D!==(D=N[4].name+"")&&be(A,D),w&&I.p(N,B),Y&&q.p(N,B)},i(N){U||(ue(I),ue(q),N&&(J||pl(()=>{J=us(e,ks,{duration:200}),J.start()})),U=!0)},o(N){ge(I),ge(q),U=!1},d(N){N&&u(e),I&&I.d(),q&&q.d(),n[10](null)}}}function fa(n,e,t){let l,s,a,o;fl(n,Ss,k=>t(11,o=k));let{data:f}=e,h="all",_="all",C;cs(()=>{Is(C);let k=o.url.searchParams.get("archived");k!=null&&t(0,h=k=="true"?"archived":"not archived"),k=o.url.searchParams.get("subscribed"),k!=null&&t(1,_=k=="true"?"subscribed":"not subscribed")});function p(k){const L=new URL(o.url);L.searchParams.delete("page"),h=="all"?L.searchParams.delete("archived"):L.searchParams.set("archived",h=="archived"),_=="all"?L.searchParams.delete("subscribed"):L.searchParams.set("subscribed",_=="subscribed"),Xl(L)}function D(){h=Cl(this),t(0,h)}function A(){_=Cl(this),t(1,_)}function T(k){dt[k?"unshift":"push"](()=>{C=k,t(2,C)})}return n.$$set=k=>{"data"in k&&t(7,f=k.data)},n.$$.update=()=>{n.$$.dirty&128&&t(5,l=f.studentsResponse.data.students),n.$$.dirty&128&&t(4,s=f.studentsResponse.data.school),n.$$.dirty&128&&t(3,a=f.studentsResponse.pagination)},[h,_,C,a,s,l,p,f,D,A,T]}class Oa extends ll{constructor(e){super(),sl(this,e,fa,ca,tl,{data:7})}}export{Oa as component,ya as universal};
