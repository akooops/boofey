import{K as ge,D as he}from"../chunks/paths.29c5142d.js";import{a as ve}from"../chunks/auth.82ff8344.js";import{s as be,f as d,a as A,g as f,h as x,z as T,c as j,d as v,j as u,i as ae,C as c,H as W,y as Pe,o as Ce,R as ye,K as $,L as q,F as z,G as ke,M as ce,p as Ie}from"../chunks/scheduler.726ac76d.js";import{S as xe,i as Oe,a as F,t as G,b as X,d as Z,m as ee,e as te,f as Te}from"../chunks/index.8a5ed380.js";import{g as Ee,a as we}from"../chunks/spread.8a54911c.js";import{P as De}from"../chunks/Pagination.0a529dad.js";import{S as Se}from"../chunks/SearchTable.1c079677.js";import{A as Ne,P as $e}from"../chunks/PackagesTable.0b4440e8.js";import{i as Le}from"../chunks/initToolTip.b2308c6a.js";import{f as Ve}from"../chunks/index.955fed47.js";import{p as Me}from"../chunks/stores.1008b3f8.js";import{g as Ae}from"../chunks/utils.5f096ebf.js";import{I as je}from"../chunks/initFlatpickr.06386e0f.js";const He=!1;async function Re({fetch:s,url:a,depends:t}){t("packages:refresh");let r=a.searchParams.get("popular");r?r=r=="true"?"true":"false":r="";let i=a.searchParams.get("hidden");i?i=i=="true"?"true":"false":i="";let n=a.searchParams.get("yearly");n?n=n=="true"?"true":"false":n="";let e=await s(ge(null,he(a),{popular:r,hidden:i,yearly:n}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return ve(e),{packagesResponse:await e.json(),tabTitle:"Packages"}}const st=Object.freeze(Object.defineProperty({__proto__:null,load:Re,ssr:He},Symbol.toStringTag,{value:"Module"}));function qe(s){let a,t='<i class="ri-add-line align-bottom me-1"></i>Add Package',r,i,n;return i=new Ne({props:{general:!0}}),{c(){a=d("button"),a.innerHTML=t,r=A(),X(i.$$.fragment),this.h()},l(e){a=f(e,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),T(a)!=="svelte-v29cmp"&&(a.innerHTML=t),r=j(e),Z(i.$$.fragment,e),this.h()},h(){u(a,"type","button"),u(a,"data-bs-toggle","modal"),u(a,"data-bs-target","#addPackageModal"),u(a,"class","btn btn-primary waves-effect waves-light")},m(e,p){ae(e,a,p),ae(e,r,p),ee(i,e,p),n=!0},i(e){n||(F(i.$$.fragment,e),n=!0)},o(e){G(i.$$.fragment,e),n=!1},d(e){e&&(v(a),v(r)),te(i,e)}}}function ze(s){let a,t,r,i,n,e,p,b="All",g,I="Yearly",y,L="Monthly",E,m,o,l,h="All",O,H="Popular",k,J="Not Popular",le,R,P,D,ue="All",S,de="Hidden",N,fe="Not Hidden",se,V,ne,M,K,re,pe;r=new Se({props:{type:"Package"}}),V=new $e({props:{packagesList:s[5],general:!0}});const oe=[s[4]];let ie={};for(let _=0;_<oe.length;_+=1)ie=ye(ie,oe[_]);return M=new De({props:ie}),{c(){a=d("div"),t=d("div"),X(r.$$.fragment),i=A(),n=d("div"),e=d("select"),p=d("option"),p.textContent=b,g=d("option"),g.textContent=I,y=d("option"),y.textContent=L,E=A(),m=d("div"),o=d("select"),l=d("option"),l.textContent=h,O=d("option"),O.textContent=H,k=d("option"),k.textContent=J,le=A(),R=d("div"),P=d("select"),D=d("option"),D.textContent=ue,S=d("option"),S.textContent=de,N=d("option"),N.textContent=fe,se=A(),X(V.$$.fragment),ne=A(),X(M.$$.fragment),this.h()},l(_){a=f(_,"DIV",{class:!0});var w=x(a);t=f(w,"DIV",{class:!0});var C=x(t);Z(r.$$.fragment,C),i=j(C),n=f(C,"DIV",{class:!0});var U=x(n);e=f(U,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var B=x(e);p=f(B,"OPTION",{"data-svelte-h":!0}),T(p)!=="svelte-13f2t2c"&&(p.textContent=b),g=f(B,"OPTION",{"data-svelte-h":!0}),T(g)!=="svelte-8qey1q"&&(g.textContent=I),y=f(B,"OPTION",{"data-svelte-h":!0}),T(y)!=="svelte-1s8t8n4"&&(y.textContent=L),B.forEach(v),U.forEach(v),E=j(C),m=f(C,"DIV",{class:!0});var _e=x(m);o=f(_e,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var Q=x(o);l=f(Q,"OPTION",{"data-svelte-h":!0}),T(l)!=="svelte-13f2t2c"&&(l.textContent=h),O=f(Q,"OPTION",{"data-svelte-h":!0}),T(O)!=="svelte-lax19c"&&(O.textContent=H),k=f(Q,"OPTION",{"data-svelte-h":!0}),T(k)!=="svelte-wqoqg4"&&(k.textContent=J),Q.forEach(v),_e.forEach(v),le=j(C),R=f(C,"DIV",{class:!0});var me=x(R);P=f(me,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var Y=x(P);D=f(Y,"OPTION",{"data-svelte-h":!0}),T(D)!=="svelte-13f2t2c"&&(D.textContent=ue),S=f(Y,"OPTION",{"data-svelte-h":!0}),T(S)!=="svelte-ucuds6"&&(S.textContent=de),N=f(Y,"OPTION",{"data-svelte-h":!0}),T(N)!=="svelte-11fwixo"&&(N.textContent=fe),Y.forEach(v),me.forEach(v),se=j(C),Z(V.$$.fragment,C),ne=j(C),Z(M.$$.fragment,C),C.forEach(v),w.forEach(v),this.h()},h(){p.__value="all",$(p,p.__value),g.__value="yearly",$(g,g.__value),y.__value="monthly",$(y,y.__value),u(e,"class","form-select"),u(e,"name","class"),u(e,"id","class"),u(e,"aria-label","Default select example"),s[1]===void 0&&W(()=>s[8].call(e)),u(n,"class","col-xl-3 mb-3"),l.__value="all",$(l,l.__value),O.__value="popular",$(O,O.__value),k.__value="not popular",$(k,k.__value),u(o,"class","form-select"),u(o,"name","class"),u(o,"id","class"),u(o,"aria-label","Default select example"),s[2]===void 0&&W(()=>s[9].call(o)),u(m,"class","col-xl-3 mb-3"),D.__value="all",$(D,D.__value),S.__value="hidden",$(S,S.__value),N.__value="not hidden",$(N,N.__value),u(P,"class","form-select"),u(P,"name","class"),u(P,"id","class"),u(P,"aria-label","Default select example"),s[3]===void 0&&W(()=>s[10].call(P)),u(R,"class","col-xl-3 mb-3"),u(t,"class","row"),u(a,"class","card-body")},m(_,w){ae(_,a,w),c(a,t),ee(r,t,null),c(t,i),c(t,n),c(n,e),c(e,p),c(e,g),c(e,y),q(e,s[1],!0),c(t,E),c(t,m),c(m,o),c(o,l),c(o,O),c(o,k),q(o,s[2],!0),c(t,le),c(t,R),c(R,P),c(P,D),c(P,S),c(P,N),q(P,s[3],!0),c(t,se),ee(V,t,null),c(t,ne),ee(M,t,null),K=!0,re||(pe=[z(e,"change",s[8]),z(e,"change",s[6]),z(o,"change",s[9]),z(o,"change",s[6]),z(P,"change",s[10]),z(P,"change",s[6])],re=!0)},p(_,w){w&2&&q(e,_[1]),w&4&&q(o,_[2]),w&8&&q(P,_[3]);const C={};w&32&&(C.packagesList=_[5]),V.$set(C);const U=w&16?Ee(oe,[we(_[4])]):{};M.$set(U)},i(_){K||(F(r.$$.fragment,_),F(V.$$.fragment,_),F(M.$$.fragment,_),K=!0)},o(_){G(r.$$.fragment,_),G(V.$$.fragment,_),G(M.$$.fragment,_),K=!1},d(_){_&&v(a),te(r),te(V),te(M),re=!1,ke(pe)}}}function Fe(s){let a,t,r,i,n,e="Packages Management",p,b,g=JSON.parse(sessionStorage.getItem("permissions")).includes("packages.store"),I,y=JSON.parse(sessionStorage.getItem("permissions")).includes("packages.index"),L,E,m=g&&qe(),o=y&&ze(s);return{c(){a=d("div"),t=d("div"),r=d("div"),i=d("div"),n=d("h4"),n.textContent=e,p=A(),b=d("div"),m&&m.c(),I=A(),o&&o.c(),this.h()},l(l){a=f(l,"DIV",{class:!0});var h=x(a);t=f(h,"DIV",{class:!0});var O=x(t);r=f(O,"DIV",{class:!0});var H=x(r);i=f(H,"DIV",{class:!0});var k=x(i);n=f(k,"H4",{class:!0,"data-svelte-h":!0}),T(n)!=="svelte-jnhgcb"&&(n.textContent=e),p=j(k),b=f(k,"DIV",{class:!0});var J=x(b);m&&m.l(J),J.forEach(v),k.forEach(v),I=j(H),o&&o.l(H),H.forEach(v),O.forEach(v),h.forEach(v),this.h()},h(){u(n,"class","card-title mb-0 flex-grow-1"),u(b,"class","flex-shrink-0"),u(i,"class","card-header align-items-center d-flex"),u(r,"class","card"),u(t,"class","col-lg-12"),u(a,"class","row")},m(l,h){ae(l,a,h),c(a,t),c(t,r),c(r,i),c(i,n),c(i,p),c(i,b),m&&m.m(b,null),c(r,I),o&&o.m(r,null),s[11](a),E=!0},p(l,[h]){y&&o.p(l,h)},i(l){E||(F(m),F(o),l&&(L||W(()=>{L=Te(a,Ve,{duration:200}),L.start()})),E=!0)},o(l){G(m),G(o),E=!1},d(l){l&&v(a),m&&m.d(),o&&o.d(),s[11](null)}}}function Ge(s,a,t){let r,i,n;Pe(s,Me,l=>t(12,n=l));let{data:e}=a,p,b="all",g="all",I="all";Ce(()=>{Le(p),je();let l=n.url.searchParams.get("popular");l!=null&&t(2,g=l=="true"?"popular":"not popular"),l=n.url.searchParams.get("hidden"),l!=null&&t(3,I=l=="true"?"hidden":"not hidden"),l=n.url.searchParams.get("yearly"),l!=null&&t(1,b=l=="true"?"yearly":"monthly")});function y(l){const h=new URL(n.url);h.searchParams.delete("page"),b=="all"?h.searchParams.delete("yearly"):h.searchParams.set("yearly",b=="yearly"),g=="all"?h.searchParams.delete("popular"):h.searchParams.set("popular",g=="popular"),I=="all"?h.searchParams.delete("hidden"):h.searchParams.set("hidden",I=="hidden"),Ae(h)}function L(){b=ce(this),t(1,b)}function E(){g=ce(this),t(2,g)}function m(){I=ce(this),t(3,I)}function o(l){Ie[l?"unshift":"push"](()=>{p=l,t(0,p)})}return s.$$set=l=>{"data"in l&&t(7,e=l.data)},s.$$.update=()=>{s.$$.dirty&128&&t(5,r=e.packagesResponse.data.packages),s.$$.dirty&128&&t(4,i=e.packagesResponse.pagination)},[p,b,g,I,i,r,y,e,L,E,m,o]}class nt extends xe{constructor(a){super(),Oe(this,a,Ge,Fe,be,{data:7})}}export{nt as component,st as universal};
