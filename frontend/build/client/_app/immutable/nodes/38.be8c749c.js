import{ac as Ue}from"../chunks/paths.29c5142d.js";import{a as We}from"../chunks/auth.82ff8344.js";import{s as Xe,a as C,e as Le,c as I,i as Y,A as Ve,d as n,y as Te,T as ye,I as qe,f as d,l as N,g as f,h as m,m as G,z as he,E as ge,j as o,C as s,n as ee,D as Ze}from"../chunks/scheduler.726ac76d.js";import{e as Fe}from"../chunks/each.381f634d.js";import{S as xe,i as $e}from"../chunks/index.8a5ed380.js";import"../chunks/paths.7846b4ff.js";import{n as et}from"../chunks/stores.1008b3f8.js";import{t as tt}from"../chunks/translation.098a1f9d.js";import"../chunks/index.93323930.js";const lt=!1;async function at({fetch:a,url:e,depends:i,params:t}){i("todaySubs:refresh");let l=e.searchParams.get("level"),u=e.searchParams.get("grade"),r=e.searchParams.get("division"),h=await a(Ue(t.schoolId,{level:l,grade:u,division:r}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return We(h),{todaySubs:await h.json()}}const pt=Object.freeze(Object.defineProperty({__proto__:null,load:at,ssr:lt},Symbol.toStringTag,{value:"Module"}));function Oe(a,e,i){const t=a.slice();return t[11]=e[i],t}function Be(a){var we,Pe,je,He,ze,Ae,Me,Ne;let e,i,t,l,u,r,h,S=((we=a[4])==null?void 0:we.name)+"",k,D,z=a[3]!=null?`${a[3].name} -`:"",y,L,p,J,w,c,P,j,Z,B,q,K,W,R,F,H,Q,b,A,ie="ID",re,x,T="Student",ve,te,be="Package",_e,g,v,oe="Class",ae,X,U,O,$,ne,De=tt.print[localStorage.getItem("language")]+"",ce,V=((Pe=a[3])==null?void 0:Pe.name)==null&&Re(),M=(a[5]==null||((ze=(He=(je=a[5])==null?void 0:je.from)==null?void 0:He.route)==null?void 0:ze.id)!=((Ne=(Me=(Ae=a[5])==null?void 0:Ae.to)==null?void 0:Me.route)==null?void 0:Ne.id))&&Ye(a);return{c(){e=d("div"),i=d("div"),t=d("div"),l=d("img"),r=C(),h=d("div"),k=N(S),D=N(" - "),y=N(z),L=C(),p=N(a[6]),J=C(),w=d("div"),c=d("p"),P=N("Count: "),j=N(a[2]),Z=C(),B=d("p"),q=N("Date:  "),K=N(a[1]),W=C(),R=d("div"),F=d("div"),H=d("table"),Q=d("thead"),b=d("tr"),A=d("th"),A.textContent=ie,re=C(),x=d("th"),x.textContent=T,ve=C(),te=d("th"),te.textContent=be,_e=C(),V&&V.c(),g=C(),v=d("th"),v.textContent=oe,ae=C(),M&&M.c(),X=C(),U=d("div"),O=d("a"),$=d("i"),ne=C(),ce=N(De),this.h()},l(_){e=f(_,"DIV",{class:!0});var E=m(e);i=f(E,"DIV",{class:!0});var de=m(i);t=f(de,"DIV",{class:!0});var Ee=m(t);l=f(Ee,"IMG",{src:!0,alt:!0,class:!0}),Ee.forEach(n),r=I(de),h=f(de,"DIV",{class:!0});var se=m(h);k=G(se,S),D=G(se," - "),y=G(se,z),L=I(se),p=G(se,a[6]),se.forEach(n),de.forEach(n),J=I(E),w=f(E,"DIV",{class:!0});var fe=m(w);c=f(fe,"P",{class:!0});var me=m(c);P=G(me,"Count: "),j=G(me,a[2]),me.forEach(n),Z=I(fe),B=f(fe,"P",{class:!0});var pe=m(B);q=G(pe,"Date:  "),K=G(pe,a[1]),pe.forEach(n),fe.forEach(n),E.forEach(n),W=I(_),R=f(_,"DIV",{class:!0});var ke=m(R);F=f(ke,"DIV",{class:!0});var Ce=m(F);H=f(Ce,"TABLE",{class:!0});var ue=m(H);Q=f(ue,"THEAD",{class:!0});var Ie=m(Q);b=f(Ie,"TR",{});var le=m(b);A=f(le,"TH",{scope:!0,"data-svelte-h":!0}),he(A)!=="svelte-njzezq"&&(A.textContent=ie),re=I(le),x=f(le,"TH",{scope:!0,"data-svelte-h":!0}),he(x)!=="svelte-1k8uhke"&&(x.textContent=T),ve=I(le),te=f(le,"TH",{scope:!0,"data-svelte-h":!0}),he(te)!=="svelte-31mkuf"&&(te.textContent=be),_e=I(le),V&&V.l(le),g=I(le),v=f(le,"TH",{scope:!0,"data-svelte-h":!0}),he(v)!=="svelte-s73bnb"&&(v.textContent=oe),le.forEach(n),Ie.forEach(n),ae=I(ue),M&&M.l(ue),ue.forEach(n),Ce.forEach(n),ke.forEach(n),X=I(_),U=f(_,"DIV",{class:!0});var Ge=m(U);O=f(Ge,"A",{href:!0,class:!0});var Se=m(O);$=f(Se,"I",{class:!0}),m($).forEach(n),ne=I(Se),ce=G(Se,De),Se.forEach(n),Ge.forEach(n),this.h()},h(){var _,E;ge(l.src,u=(E=(_=a[4])==null?void 0:_.logo)==null?void 0:E.full_path)||o(l,"src",u),o(l,"alt",""),o(l,"class","avatar-xs rounded-circle"),o(t,"class","flex-shrink-0"),o(h,"class",""),o(i,"class","d-flex gap-2 align-items-center"),o(c,"class","col-auto mb-0"),o(B,"class","col-auto mb-0"),o(w,"class","d-flex gap-3 align-items-center"),o(e,"class","fw-medium align-items-center d-flex gap-4 mb-4"),o(A,"scope","col"),o(x,"scope","col"),o(te,"scope","col"),o(v,"scope","col"),o(Q,"class","table-light"),o(H,"class","table align-middle mb-0 border-top"),o(F,"class",""),o(R,"class","row"),o($,"class","ri-printer-line align-bottom me-1"),o(O,"href","javascript:window.print()"),o(O,"class","btn btn-info"),o(U,"class","hstack gap-2 justify-content-end d-print-none mt-4")},m(_,E){Y(_,e,E),s(e,i),s(i,t),s(t,l),s(i,r),s(i,h),s(h,k),s(h,D),s(h,y),s(h,L),s(h,p),s(e,J),s(e,w),s(w,c),s(c,P),s(c,j),s(w,Z),s(w,B),s(B,q),s(B,K),Y(_,W,E),Y(_,R,E),s(R,F),s(F,H),s(H,Q),s(Q,b),s(b,A),s(b,re),s(b,x),s(b,ve),s(b,te),s(b,_e),V&&V.m(b,null),s(b,g),s(b,v),s(H,ae),M&&M.m(H,null),Y(_,X,E),Y(_,U,E),s(U,O),s(O,$),s(O,ne),s(O,ce)},p(_,E){var de,Ee,se,fe,me,pe,ke,Ce,ue,Ie;E&16&&!ge(l.src,u=(Ee=(de=_[4])==null?void 0:de.logo)==null?void 0:Ee.full_path)&&o(l,"src",u),E&16&&S!==(S=((se=_[4])==null?void 0:se.name)+"")&&ee(k,S),E&8&&z!==(z=_[3]!=null?`${_[3].name} -`:"")&&ee(y,z),E&64&&ee(p,_[6]),E&4&&ee(j,_[2]),E&2&&ee(K,_[1]),((fe=_[3])==null?void 0:fe.name)==null?V||(V=Re(),V.c(),V.m(b,g)):V&&(V.d(1),V=null),_[5]==null||((ke=(pe=(me=_[5])==null?void 0:me.from)==null?void 0:pe.route)==null?void 0:ke.id)!=((Ie=(ue=(Ce=_[5])==null?void 0:Ce.to)==null?void 0:ue.route)==null?void 0:Ie.id)?M?M.p(_,E):(M=Ye(_),M.c(),M.m(H,null)):M&&(M.d(1),M=null)},d(_){_&&(n(e),n(W),n(R),n(X),n(U)),V&&V.d(),M&&M.d()}}}function Re(a){let e,i="Division";return{c(){e=d("th"),e.textContent=i,this.h()},l(t){e=f(t,"TH",{scope:!0,"data-svelte-h":!0}),he(e)!=="svelte-3zeelw"&&(e.textContent=i),this.h()},h(){o(e,"scope","col")},m(t,l){Y(t,e,l)},d(t){t&&n(e)}}}function Ye(a){let e,i=Fe(a[0]),t=[];for(let l=0;l<i.length;l+=1)t[l]=Ke(Oe(a,i,l));return{c(){e=d("tbody");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=f(l,"TBODY",{class:!0});var u=m(e);for(let r=0;r<t.length;r+=1)t[r].l(u);u.forEach(n),this.h()},h(){o(e,"class","list")},m(l,u){Y(l,e,u);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,u){if(u&25){i=Fe(l[0]);let r;for(r=0;r<i.length;r+=1){const h=Oe(l,i,r);t[r]?t[r].p(h,u):(t[r]=Ke(h),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=i.length}},d(l){l&&n(e),Ze(t,l)}}}function Je(a){let e;function i(u,r){return u[11].division?it:st}let t=i(a),l=t(a);return{c(){e=d("td"),l.c()},l(u){e=f(u,"TD",{});var r=m(e);l.l(r),r.forEach(n)},m(u,r){Y(u,e,r),l.m(e,null)},p(u,r){t===(t=i(u))&&l?l.p(u,r):(l.d(1),l=t(u),l&&(l.c(),l.m(e,null)))},d(u){u&&n(e),l.d()}}}function st(a){let e,i="No Division";return{c(){e=d("span"),e.textContent=i,this.h()},l(t){e=f(t,"SPAN",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-xnfvbo"&&(e.textContent=i),this.h()},h(){o(e,"class","badge bg-danger-subtle text-danger")},m(t,l){Y(t,e,l)},p:Ve,d(t){t&&n(e)}}}function it(a){let e=a[11].division.name+"",i;return{c(){i=N(e)},l(t){i=G(t,e)},m(t,l){Y(t,i,l)},p(t,l){l&1&&e!==(e=t[11].division.name+"")&&ee(i,e)},d(t){t&&n(i)}}}function Ke(a){var ve,te,be,_e;let e,i,t=a[11].id+"",l,u,r,h,S,k,D,z,y,L=a[11].fullname+"",p,J,w,c,P,j,Z,B,q,K=((ve=a[4])==null?void 0:ve.name)+"",W,R,F=((be=(te=a[11].active_subscription)==null?void 0:te.package)==null?void 0:be.name)+"",H,Q,b,A,ie=a[11].className+"",re,x,T=((_e=a[3])==null?void 0:_e.name)==null&&Je(a);return{c(){e=d("tr"),i=d("td"),l=N(t),u=C(),r=d("td"),h=d("div"),S=d("div"),k=d("img"),z=C(),y=d("div"),p=N(L),J=C(),w=d("td"),c=d("div"),P=d("div"),j=d("img"),B=C(),q=d("div"),W=N(K),R=N(" - "),H=N(F),Q=C(),T&&T.c(),b=C(),A=d("td"),re=N(ie),x=C(),this.h()},l(g){e=f(g,"TR",{scope:!0});var v=m(e);i=f(v,"TD",{});var oe=m(i);l=G(oe,t),oe.forEach(n),u=I(v),r=f(v,"TD",{});var ae=m(r);h=f(ae,"DIV",{class:!0});var X=m(h);S=f(X,"DIV",{class:!0});var U=m(S);k=f(U,"IMG",{src:!0,alt:!0,class:!0}),U.forEach(n),z=I(X),y=f(X,"DIV",{class:!0});var O=m(y);p=G(O,L),O.forEach(n),X.forEach(n),ae.forEach(n),J=I(v),w=f(v,"TD",{});var $=m(w);c=f($,"DIV",{class:!0});var ne=m(c);P=f(ne,"DIV",{class:!0});var De=m(P);j=f(De,"IMG",{src:!0,alt:!0,class:!0}),De.forEach(n),B=I(ne),q=f(ne,"DIV",{class:!0});var ce=m(q);W=G(ce,K),R=G(ce," - "),H=G(ce,F),ce.forEach(n),ne.forEach(n),$.forEach(n),Q=I(v),T&&T.l(v),b=I(v),A=f(v,"TD",{});var V=m(A);re=G(V,ie),V.forEach(n),x=I(v),v.forEach(n),this.h()},h(){var g,v;ge(k.src,D=a[11].image.full_path)||o(k,"src",D),o(k,"alt",""),o(k,"class","avatar-xs rounded-circle"),o(S,"class","flex-shrink-0"),o(y,"class","flex-grow-1"),o(h,"class","d-flex gap-2 align-items-center"),ge(j.src,Z=(v=(g=a[4])==null?void 0:g.logo)==null?void 0:v.full_path)||o(j,"src",Z),o(j,"alt",""),o(j,"class","avatar-xs rounded-circle"),o(P,"class","flex-shrink-0"),o(q,"class","flex-grow-1"),o(c,"class","d-flex gap-2 align-items-center"),o(e,"scope","row")},m(g,v){Y(g,e,v),s(e,i),s(i,l),s(e,u),s(e,r),s(r,h),s(h,S),s(S,k),s(h,z),s(h,y),s(y,p),s(e,J),s(e,w),s(w,c),s(c,P),s(P,j),s(c,B),s(c,q),s(q,W),s(q,R),s(q,H),s(e,Q),T&&T.m(e,null),s(e,b),s(e,A),s(A,re),s(e,x)},p(g,v){var oe,ae,X,U,O,$;v&1&&t!==(t=g[11].id+"")&&ee(l,t),v&1&&!ge(k.src,D=g[11].image.full_path)&&o(k,"src",D),v&1&&L!==(L=g[11].fullname+"")&&ee(p,L),v&16&&!ge(j.src,Z=(ae=(oe=g[4])==null?void 0:oe.logo)==null?void 0:ae.full_path)&&o(j,"src",Z),v&16&&K!==(K=((X=g[4])==null?void 0:X.name)+"")&&ee(W,K),v&1&&F!==(F=((O=(U=g[11].active_subscription)==null?void 0:U.package)==null?void 0:O.name)+"")&&ee(H,F),(($=g[3])==null?void 0:$.name)==null?T?T.p(g,v):(T=Je(g),T.c(),T.m(e,b)):T&&(T.d(1),T=null),v&1&&ie!==(ie=g[11].className+"")&&ee(re,ie)},d(g){g&&n(e),T&&T.d()}}}function Qe(a){let e,i='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#695eef,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=d("div"),e.innerHTML=i,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-1dg75t9"&&(e.innerHTML=i),this.h()},h(){o(e,"class","text-center")},m(t,l){Y(t,e,l)},d(t){t&&n(e)}}}function rt(a){var u,r,h,S,k,D,z,y,L,p,J,w;let e,i,t=(a[5]==null||((h=(r=(u=a[5])==null?void 0:u.from)==null?void 0:r.route)==null?void 0:h.id)!=((D=(k=(S=a[5])==null?void 0:S.to)==null?void 0:k.route)==null?void 0:D.id))&&Be(a),l=((L=(y=(z=a[5])==null?void 0:z.from)==null?void 0:y.route)==null?void 0:L.id)==((w=(J=(p=a[5])==null?void 0:p.to)==null?void 0:J.route)==null?void 0:w.id)&&a[5]&&Qe();return{c(){t&&t.c(),e=C(),l&&l.c(),i=Le()},l(c){t&&t.l(c),e=I(c),l&&l.l(c),i=Le()},m(c,P){t&&t.m(c,P),Y(c,e,P),l&&l.m(c,P),Y(c,i,P)},p(c,[P]){var j,Z,B,q,K,W,R,F,H,Q,b,A;c[5]==null||((B=(Z=(j=c[5])==null?void 0:j.from)==null?void 0:Z.route)==null?void 0:B.id)!=((W=(K=(q=c[5])==null?void 0:q.to)==null?void 0:K.route)==null?void 0:W.id)?t?t.p(c,P):(t=Be(c),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),((H=(F=(R=c[5])==null?void 0:R.from)==null?void 0:F.route)==null?void 0:H.id)==((A=(b=(Q=c[5])==null?void 0:Q.to)==null?void 0:b.route)==null?void 0:A.id)&&c[5]?l||(l=Qe(),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i:Ve,o:Ve,d(c){c&&(n(e),n(i)),t&&t.d(c),l&&l.d(c)}}}function ot(a,e,i){let t,l,u,r,h,S,k;Te(a,et,p=>i(5,S=p));let{data:D}=e,{selectedSchool:z}=ye("selectedSchoolStore");Te(a,z,p=>i(4,h=p));let{selectedDivision:y}=ye("selectedSchoolStore");Te(a,y,p=>i(3,r=p));let{currentFilter:L}=ye("currentFilterStore");return Te(a,L,p=>i(6,k=p)),a.$$set=p=>{"data"in p&&i(10,D=p.data)},a.$$.update=()=>{var p,J;a.$$.dirty&1024&&i(2,t=D.todaySubs.data.count),a.$$.dirty&1024&&i(1,l=D.todaySubs.data.date),a.$$.dirty&1024&&i(0,u=D.todaySubs.data.students),a.$$.dirty&1024&&qe(z,h=D.todaySubs.data.school,h),a.$$.dirty&1024&&qe(y,r=(J=(p=D==null?void 0:D.todaySubs)==null?void 0:p.data)==null?void 0:J.division,r)},[u,l,t,r,h,S,k,z,y,L,D]}class gt extends xe{constructor(e){super(),$e(this,e,ot,rt,Xe,{data:10})}}export{gt as component,pt as universal};
