import{a as Be,ba as Se,bb as Ge}from"../chunks/paths.0e30d36d.js";import{g as Ue}from"../chunks/utils.7c7f4a39.js";import{s as Ye,e as xe,i as R,d,o as Qe,p as Le,f,g as u,z as W,j as o,A as ie,a as S,h,c as x,C as a,F as ve,Q as ze,l as J,m as K,n as fe}from"../chunks/scheduler.726ac76d.js";import{S as We,i as Je,t as pe,c as Ke,a as he,g as Xe,b as Re,d as Me,m as Ne,e as Oe}from"../chunks/index.8a5ed380.js";import"../chunks/paths.b98f38ef.js";import"../chunks/initApp.110985ec.js";import{P as je}from"../chunks/Password.86e83035.js";import{p as Ze}from"../chunks/inputMasks.e5f11846.js";const $e=!1;async function et({fetch:n,cookies:e,url:t,depends:l}){return(await n(Be(),{headers:{Authorization:`${localStorage.getItem("SID")}`}})).ok&&Ue("/profile/settings"),{tabTitle:"Reset Password",arTabTitle:"تغيير كلمة المرور"}}const wt=Object.freeze(Object.defineProperty({__proto__:null,load:et,ssr:$e},Symbol.toStringTag,{value:"Module"}));function tt(n){let e,t='<div class="col-md-8 col-lg-6 col-xl-5"><div class="card mt-4"><div class="card-body p-4 text-center"><div class="avatar-lg mx-auto mt-2"><div class="avatar-title bg-light text-success display-3 rounded-circle"><i class="ri-checkbox-circle-fill"></i></div></div> <div class="mt-4 pt-2"><h4>Success !</h4> <p class="text-muted mx-4">your password has been changed successfully</p> <div class="mt-4"><a href="/signin" class="btn btn-primary w-100">Sign in</a></div></div></div></div></div>';return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-bxqjy1"&&(e.innerHTML=t),this.h()},h(){o(e,"class","row justify-content-center")},m(l,s){R(l,e,s)},p:ie,i:ie,o:ie,d(l){l&&d(e)}}}function st(n){var ye,ke,Ee;let e,t,l,s,r,m='<h5 class="text-primary">Create New Password</h5> <p class="text-muted">Enter a new password , and the token that has been sent to your phone.</p>',_,i,v,b,w,E="Password",M,H,L,z,j,c,g,B="Confirm Password",se,G,U,y,le,I,D,ce="Verification Code",k,C,F,re,N,O,Y,Q,Z,_e,be;L=new je({props:{name:"password",placeholder:"Enter Password"}});let T=((ye=n[1])==null?void 0:ye.password)&&Ae(n);U=new je({props:{name:"password_confirmation",placeholder:"Confirm Password"}});let P=((ke=n[1])==null?void 0:ke.password_confirmation)&&He(n),V=((Ee=n[1])==null?void 0:Ee.token)&&Fe(n);function ge(p,A){return p[2]?at:rt}let ue=ge(n),X=ue(n);function we(p,A){return p[4]?nt:ot}let me=we(n),q=me(n);return{c(){e=f("div"),t=f("div"),l=f("div"),s=f("div"),r=f("div"),r.innerHTML=m,_=S(),i=f("div"),v=f("form"),b=f("div"),w=f("label"),w.textContent=E,M=S(),H=f("div"),Re(L.$$.fragment),z=S(),T&&T.c(),j=S(),c=f("div"),g=f("label"),g.textContent=B,se=S(),G=f("div"),Re(U.$$.fragment),y=S(),P&&P.c(),le=S(),I=f("div"),D=f("label"),D.textContent=ce,k=S(),C=f("input"),F=S(),V&&V.c(),re=S(),N=f("div"),O=f("button"),X.c(),Y=S(),Q=f("div"),q.c(),this.h()},l(p){e=u(p,"DIV",{class:!0});var A=h(e);t=u(A,"DIV",{class:!0});var ee=h(t);l=u(ee,"DIV",{class:!0});var de=h(l);s=u(de,"DIV",{class:!0});var te=h(s);r=u(te,"DIV",{class:!0,"data-svelte-h":!0}),W(r)!=="svelte-l9ltp2"&&(r.innerHTML=m),_=x(te),i=u(te,"DIV",{class:!0});var De=h(i);v=u(De,"FORM",{});var $=h(v);b=u($,"DIV",{class:!0});var ae=h(b);w=u(ae,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),W(w)!=="svelte-1a98ful"&&(w.textContent=E),M=x(ae),H=u(ae,"DIV",{class:!0});var Ce=h(H);Me(L.$$.fragment,Ce),Ce.forEach(d),z=x(ae),T&&T.l(ae),ae.forEach(d),j=x($),c=u($,"DIV",{class:!0});var oe=h(c);g=u(oe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),W(g)!=="svelte-1yq48mk"&&(g.textContent=B),se=x(oe),G=u(oe,"DIV",{class:!0});var Ie=h(G);Me(U.$$.fragment,Ie),Ie.forEach(d),y=x(oe),P&&P.l(oe),oe.forEach(d),le=x($),I=u($,"DIV",{class:!0});var ne=h(I);D=u(ne,"LABEL",{class:!0,"data-svelte-h":!0}),W(D)!=="svelte-1rfe8zk"&&(D.textContent=ce),k=x(ne),C=u(ne,"INPUT",{type:!0,class:!0,name:!0,id:!0,placeholder:!0}),F=x(ne),V&&V.l(ne),ne.forEach(d),re=x($),N=u($,"DIV",{class:!0});var Te=h(N);O=u(Te,"BUTTON",{class:!0,type:!0});var Pe=h(O);X.l(Pe),Pe.forEach(d),Te.forEach(d),$.forEach(d),De.forEach(d),te.forEach(d),de.forEach(d),Y=x(ee),Q=u(ee,"DIV",{class:!0});var Ve=h(Q);q.l(Ve),Ve.forEach(d),ee.forEach(d),A.forEach(d),this.h()},h(){o(r,"class","text-center mt-2"),o(w,"class","form-label"),o(w,"for","password-input"),o(H,"class","position-relative auth-pass-inputgroup"),o(b,"class","mb-3"),o(g,"class","form-label"),o(g,"for","confirm-password-input"),o(G,"class","position-relative auth-pass-inputgroup mb-3"),o(c,"class","mb-3"),o(D,"class","form-label"),o(C,"type","text"),o(C,"class","form-control"),o(C,"name","token"),o(C,"id","cleave-phone"),o(C,"placeholder","Enter Verification Code"),o(I,"class","mb-3"),o(O,"class","btn btn-primary w-100 btn-load"),o(O,"type","submit"),O.disabled=n[2],o(N,"class","mt-4"),o(i,"class","p-2"),o(s,"class","card-body p-4"),o(l,"class","card mt-4"),o(Q,"class","mt-4 text-center"),o(t,"class","col-md-8 col-lg-6 col-xl-5"),o(e,"class","row justify-content-center")},m(p,A){R(p,e,A),a(e,t),a(t,l),a(l,s),a(s,r),a(s,_),a(s,i),a(i,v),a(v,b),a(b,w),a(b,M),a(b,H),Ne(L,H,null),a(b,z),T&&T.m(b,null),a(v,j),a(v,c),a(c,g),a(c,se),a(c,G),Ne(U,G,null),a(c,y),P&&P.m(c,null),a(v,le),a(v,I),a(I,D),a(I,k),a(I,C),a(I,F),V&&V.m(I,null),a(v,re),a(v,N),a(N,O),X.m(O,null),n[11](v),a(t,Y),a(t,Q),q.m(Q,null),Z=!0,_e||(be=ve(v,"submit",ze(n[7])),_e=!0)},p(p,A){var ee,de,te;(ee=p[1])!=null&&ee.password?T?T.p(p,A):(T=Ae(p),T.c(),T.m(b,null)):T&&(T.d(1),T=null),(de=p[1])!=null&&de.password_confirmation?P?P.p(p,A):(P=He(p),P.c(),P.m(c,null)):P&&(P.d(1),P=null),(te=p[1])!=null&&te.token?V?V.p(p,A):(V=Fe(p),V.c(),V.m(I,null)):V&&(V.d(1),V=null),ue!==(ue=ge(p))&&(X.d(1),X=ue(p),X&&(X.c(),X.m(O,null))),(!Z||A&4)&&(O.disabled=p[2]),me===(me=we(p))&&q?q.p(p,A):(q.d(1),q=me(p),q&&(q.c(),q.m(Q,null)))},i(p){Z||(he(L.$$.fragment,p),he(U.$$.fragment,p),Z=!0)},o(p){pe(L.$$.fragment,p),pe(U.$$.fragment,p),Z=!1},d(p){p&&d(e),Oe(L),T&&T.d(),Oe(U),P&&P.d(),V&&V.d(),X.d(),n[11](null),q.d(),_e=!1,be()}}}function lt(n){var ce;let e,t,l,s,r,m='<h5 class="text-primary">Forgot password ?</h5> <lord-icon src="https://cdn.lordicon.com/rhvddzym.json" trigger="loop" colors="primary:#0ab39c" class="avatar-xl"></lord-icon>',_,i,v="Enter your Phone Number and a reset code will be sent to you !",b,w,E,M,H='<label class="form-label">Phone</label> <input type="tel" class="form-control" name="phone" id="cleave-phone" placeholder="Enter Phone Number"/>',L,z,j,c,g,B,se='<p class="mb-0">Wait, I remember my password... <a href="/signin" class="fw-semibold text-primary text-decoration-underline">Click Here</a></p>',G,U,y=((ce=n[1])==null?void 0:ce.phone)&&qe(n);function le(k,C){return k[2]?ct:it}let I=le(n),D=I(n);return{c(){e=f("div"),t=f("div"),l=f("div"),s=f("div"),r=f("div"),r.innerHTML=m,_=S(),i=f("div"),i.textContent=v,b=S(),w=f("div"),E=f("form"),M=f("div"),M.innerHTML=H,L=S(),y&&y.c(),z=S(),j=f("div"),c=f("button"),D.c(),g=S(),B=f("div"),B.innerHTML=se,this.h()},l(k){e=u(k,"DIV",{class:!0});var C=h(e);t=u(C,"DIV",{class:!0});var F=h(t);l=u(F,"DIV",{class:!0});var re=h(l);s=u(re,"DIV",{class:!0});var N=h(s);r=u(N,"DIV",{class:!0,"data-svelte-h":!0}),W(r)!=="svelte-meawt3"&&(r.innerHTML=m),_=x(N),i=u(N,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),W(i)!=="svelte-10kk9qr"&&(i.textContent=v),b=x(N),w=u(N,"DIV",{class:!0});var O=h(w);E=u(O,"FORM",{});var Y=h(E);M=u(Y,"DIV",{class:!0,"data-svelte-h":!0}),W(M)!=="svelte-vrctbl"&&(M.innerHTML=H),L=x(Y),y&&y.l(Y),z=x(Y),j=u(Y,"DIV",{class:!0});var Q=h(j);c=u(Q,"BUTTON",{class:!0,type:!0});var Z=h(c);D.l(Z),Z.forEach(d),Q.forEach(d),Y.forEach(d),O.forEach(d),N.forEach(d),re.forEach(d),g=x(F),B=u(F,"DIV",{class:!0,"data-svelte-h":!0}),W(B)!=="svelte-1wn601b"&&(B.innerHTML=se),F.forEach(d),C.forEach(d),this.h()},h(){o(r,"class","text-center mt-2"),o(i,"class","alert border-0 alert-warning text-center mb-2 mx-2"),o(i,"role","alert"),o(M,"class","mb-4"),o(c,"class","btn btn-primary w-100 btn-load"),o(c,"type","submit"),c.disabled=n[2],o(j,"class","text-center mt-4"),o(w,"class","p-2"),o(s,"class","card-body p-4"),o(l,"class","card mt-4"),o(B,"class","mt-4 text-center"),o(t,"class","col-md-9 col-lg-7 col-xl-6"),o(e,"class","row justify-content-center")},m(k,C){R(k,e,C),a(e,t),a(t,l),a(l,s),a(s,r),a(s,_),a(s,i),a(s,b),a(s,w),a(w,E),a(E,M),a(E,L),y&&y.m(E,null),a(E,z),a(E,j),a(j,c),D.m(c,null),n[10](E),a(t,g),a(t,B),G||(U=ve(E,"submit",ze(n[6])),G=!0)},p(k,C){var F;(F=k[1])!=null&&F.phone?y?y.p(k,C):(y=qe(k),y.c(),y.m(E,z)):y&&(y.d(1),y=null),I!==(I=le(k))&&(D.d(1),D=I(k),D&&(D.c(),D.m(c,null))),C&4&&(c.disabled=k[2])},i:ie,o:ie,d(k){k&&d(e),y&&y.d(),D.d(),n[10](null),G=!1,U()}}}function Ae(n){let e,t=n[1].password[0]+"",l;return{c(){e=f("strong"),l=J(t),this.h()},l(s){e=u(s,"STRONG",{class:!0});var r=h(e);l=K(r,t),r.forEach(d),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(s,r){R(s,e,r),a(e,l)},p(s,r){r&2&&t!==(t=s[1].password[0]+"")&&fe(l,t)},d(s){s&&d(e)}}}function He(n){let e,t=n[1].password_confirmation[0]+"",l;return{c(){e=f("strong"),l=J(t),this.h()},l(s){e=u(s,"STRONG",{class:!0});var r=h(e);l=K(r,t),r.forEach(d),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(s,r){R(s,e,r),a(e,l)},p(s,r){r&2&&t!==(t=s[1].password_confirmation[0]+"")&&fe(l,t)},d(s){s&&d(e)}}}function Fe(n){let e,t=n[1].token[0]+"",l;return{c(){e=f("strong"),l=J(t),this.h()},l(s){e=u(s,"STRONG",{class:!0});var r=h(e);l=K(r,t),r.forEach(d),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(s,r){R(s,e,r),a(e,l)},p(s,r){r&2&&t!==(t=s[1].token[0]+"")&&fe(l,t)},d(s){s&&d(e)}}}function rt(n){let e;return{c(){e=J("Reset Password")},l(t){e=K(t,"Reset Password")},m(t,l){R(t,e,l)},d(t){t&&d(e)}}}function at(n){let e;return{c(){e=f("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0,role:!0}),h(e).forEach(d),this.h()},h(){o(e,"class","spinner-border "),o(e,"role","status")},m(t,l){R(t,e,l)},d(t){t&&d(e)}}}function ot(n){let e,t,l,s,r;return{c(){e=f("p"),t=J("You need to wait "),l=f("span"),s=J(n[5]),r=J(" in order to resend again"),this.h()},l(m){e=u(m,"P",{class:!0});var _=h(e);t=K(_,"You need to wait "),l=u(_,"SPAN",{});var i=h(l);s=K(i,n[5]),i.forEach(d),r=K(_," in order to resend again"),_.forEach(d),this.h()},h(){o(e,"class","mb-0")},m(m,_){R(m,e,_),a(e,t),a(e,l),a(l,s),a(e,r)},p(m,_){_&32&&fe(s,m[5])},d(m){m&&d(e)}}}function nt(n){let e,t,l,s="Resend",r,m;return{c(){e=f("p"),t=J("Didn't receive the code ? "),l=f("a"),l.textContent=s,this.h()},l(_){e=u(_,"P",{class:!0});var i=h(e);t=K(i,"Didn't receive the code ? "),l=u(i,"A",{href:!0,class:!0,"data-svelte-h":!0}),W(l)!=="svelte-gxaqoy"&&(l.textContent=s),i.forEach(d),this.h()},h(){o(l,"href","javascript:void(0);"),o(l,"class","fw-semibold text-primary text-decoration-underline"),o(e,"class","mb-0")},m(_,i){R(_,e,i),a(e,t),a(e,l),r||(m=ve(l,"click",n[8]),r=!0)},p:ie,d(_){_&&d(e),r=!1,m()}}}function qe(n){let e,t=n[1].phone[0]+"",l;return{c(){e=f("strong"),l=J(t),this.h()},l(s){e=u(s,"STRONG",{class:!0});var r=h(e);l=K(r,t),r.forEach(d),this.h()},h(){o(e,"class","text-danger ms-1 my-2")},m(s,r){R(s,e,r),a(e,l)},p(s,r){r&2&&t!==(t=s[1].phone[0]+"")&&fe(l,t)},d(s){s&&d(e)}}}function it(n){let e;return{c(){e=J("Send Reset Code")},l(t){e=K(t,"Send Reset Code")},m(t,l){R(t,e,l)},d(t){t&&d(e)}}}function ct(n){let e;return{c(){e=f("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0,role:!0}),h(e).forEach(d),this.h()},h(){o(e,"class","spinner-border "),o(e,"role","status")},m(t,l){R(t,e,l)},d(t){t&&d(e)}}}function dt(n){let e,t,l,s;const r=[lt,st,tt],m=[];function _(i,v){return i[3]=="phone"?0:i[3]=="passwordReset"?1:2}return e=_(n),t=m[e]=r[e](n),{c(){t.c(),l=xe()},l(i){t.l(i),l=xe()},m(i,v){m[e].m(i,v),R(i,l,v),s=!0},p(i,[v]){let b=e;e=_(i),e===b?m[e].p(i,v):(Xe(),pe(m[b],1,1,()=>{m[b]=null}),Ke(),t=m[e],t?t.p(i,v):(t=m[e]=r[e](i),t.c()),he(t,1),t.m(l.parentNode,l))},i(i){s||(he(t),s=!0)},o(i){pe(t),s=!1},d(i){i&&d(l),m[e].d(i)}}}function ft(n,e,t){let{data:l}=e,s,r,m=!1,_="phone",i,v=!0,b="01:00",w=58;async function E(){t(2,m=!0),t(1,r={});let c=new FormData(s);c.set("lang",localStorage.getItem("language"));let g=await fetch(Se(),{method:"POST",body:c});g=await g.json(),g.status=="success"?(i=c.get("phone"),t(3,_="passwordReset")):t(1,r=g.errors),t(2,m=!1)}async function M(){t(2,m=!0),t(1,r={});let c=new FormData(s);c.set("phone",i),c.set("lang",localStorage.getItem("language"));let g=await fetch(Ge(),{method:"POST",body:c});g=await g.json(),g.status=="success"?t(3,_="success"):t(1,r=g.errors),t(2,m=!1)}Qe(()=>{Ze()});async function H(){let c=new FormData(s);c.set("phone",i),await fetch(Se(),{method:"POST",body:c}),t(4,v=!1),L()}function L(){const c=w%60;t(5,b=`00:${c<10?"0":""}${c}`),w===0?(t(4,v=!0),w=59):(w--,setTimeout(L,1e3))}function z(c){Le[c?"unshift":"push"](()=>{s=c,t(0,s)})}function j(c){Le[c?"unshift":"push"](()=>{s=c,t(0,s)})}return n.$$set=c=>{"data"in c&&t(9,l=c.data)},[s,r,m,_,v,b,E,M,H,l,z,j]}class yt extends We{constructor(e){super(),Je(this,e,ft,dt,Ye,{data:9})}}export{yt as component,wt as universal};
