import{G as Ye,D as Ke}from"../chunks/paths.0e30d36d.js";import{a as Ue}from"../chunks/auth.660986fb.js";import{s as He,f as d,a as D,l as w,g as h,h as p,z as se,c as y,m as C,d as c,j as f,i as A,C as r,n as te,A as oe,T as We,y as Fe,E as Ce,e as Ge,k as Xe,J as Ze,D as et,R as tt,H as lt,o as at,p as st}from"../chunks/scheduler.726ac76d.js";import{S as Ve,i as Le,a as ee,g as Je,t as ae,c as Qe,b as ye,d as Se,m as $e,e as we,f as rt}from"../chunks/index.8a5ed380.js";import{g as nt,a as it}from"../chunks/spread.8a54911c.js";import{P as ot}from"../chunks/Pagination.94643daa.js";import{S as ct}from"../chunks/SearchTable.d9fb7dc1.js";import{t as Z}from"../chunks/translation.098a1f9d.js";import{e as Ne}from"../chunks/each.381f634d.js";import"../chunks/paths.b98f38ef.js";import{w as ut}from"../chunks/singletons.08415598.js";import{n as ft}from"../chunks/stores.b420ea9f.js";import{f as dt}from"../chunks/index.955fed47.js";import{i as ht}from"../chunks/initToolTip.b2308c6a.js";const _t=!1;async function pt({fetch:i,url:e,depends:l}){l("invoices:refresh");let t=await i(Ye(Ke(e),"parent"),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return Ue(t),{invoicesResponse:await t.json(),tabTitle:"Invoices",arTabTitle:"فواتير"}}const Yt=Object.freeze(Object.defineProperty({__proto__:null,load:pt,ssr:_t},Symbol.toStringTag,{value:"Module"}));function vt(i){let e=i[0].ref+"",l;return{c(){l=w(e)},l(t){l=C(t,e)},m(t,a){A(t,l,a)},p(t,a){a&1&&e!==(e=t[0].ref+"")&&te(l,e)},d(t){t&&c(l)}}}function gt(i){let e,l="not found";return{c(){e=d("span"),e.textContent=l,this.h()},l(t){e=h(t,"SPAN",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-pp1ynj"&&(e.textContent=l),this.h()},h(){f(e,"class","badge bg-danger-subtle text-danger")},m(t,a){A(t,e,a)},p:oe,d(t){t&&c(e)}}}function mt(i){let e=i[0].subscription.ref+"",l;return{c(){l=w(e)},l(t){l=C(t,e)},m(t,a){A(t,l,a)},p(t,a){a&1&&e!==(e=t[0].subscription.ref+"")&&te(l,e)},d(t){t&&c(l)}}}function bt(i){let e,l="not found";return{c(){e=d("span"),e.textContent=l,this.h()},l(t){e=h(t,"SPAN",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-pp1ynj"&&(e.textContent=l),this.h()},h(){f(e,"class","badge bg-danger-subtle text-danger")},m(t,a){A(t,e,a)},p:oe,d(t){t&&c(e)}}}function kt(i){let e,l,t,a,n;function o(_,k){return localStorage.getItem("language")=="ar"?Tt:It}let s=o()(i);return{c(){e=d("div"),l=d("div"),t=d("img"),n=D(),s.c(),this.h()},l(_){e=h(_,"DIV",{class:!0});var k=p(e);l=h(k,"DIV",{class:!0});var S=p(l);t=h(S,"IMG",{src:!0,alt:!0,class:!0}),S.forEach(c),n=y(k),s.l(k),k.forEach(c),this.h()},h(){Ce(t.src,a=i[0].subscription.package.school.logo.full_path)||f(t,"src",a),f(t,"alt",""),f(t,"class","avatar-xs rounded-circle"),f(l,"class","flex-shrink-0"),f(e,"class","d-flex gap-2 align-items-center")},m(_,k){A(_,e,k),r(e,l),r(l,t),r(e,n),s.m(e,null)},p(_,k){k&1&&!Ce(t.src,a=_[0].subscription.package.school.logo.full_path)&&f(t,"src",a),s.p(_,k)},d(_){_&&c(e),s.d()}}}function Et(i){let e,l="not found";return{c(){e=d("span"),e.textContent=l,this.h()},l(t){e=h(t,"SPAN",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-pp1ynj"&&(e.textContent=l),this.h()},h(){f(e,"class","badge bg-danger-subtle text-danger")},m(t,a){A(t,e,a)},p:oe,d(t){t&&c(e)}}}function It(i){let e,l=i[0].subscription.package.school.name+"",t,a,n=i[0].subscription.package.name+"",o;return{c(){e=d("div"),t=w(l),a=w(" - "),o=w(n),this.h()},l(u){e=h(u,"DIV",{class:!0});var s=p(e);t=C(s,l),a=C(s," - "),o=C(s,n),s.forEach(c),this.h()},h(){f(e,"class","flex-grow-1")},m(u,s){A(u,e,s),r(e,t),r(e,a),r(e,o)},p(u,s){s&1&&l!==(l=u[0].subscription.package.school.name+"")&&te(t,l),s&1&&n!==(n=u[0].subscription.package.name+"")&&te(o,n)},d(u){u&&c(e)}}}function Tt(i){let e,l=i[0].subscription.package.school.name_ar+"",t,a,n=i[0].subscription.package.name_ar+"",o;return{c(){e=d("div"),t=w(l),a=w(" - "),o=w(n),this.h()},l(u){e=h(u,"DIV",{class:!0});var s=p(e);t=C(s,l),a=C(s," - "),o=C(s,n),s.forEach(c),this.h()},h(){f(e,"class","flex-grow-1")},m(u,s){A(u,e,s),r(e,t),r(e,a),r(e,o)},p(u,s){s&1&&l!==(l=u[0].subscription.package.school.name_ar+"")&&te(t,l),s&1&&n!==(n=u[0].subscription.package.name_ar+"")&&te(o,n)},d(u){u&&c(e)}}}function Dt(i){let e,l,t,a,n,o,u=i[0].subscription.student.fullname+"",s;return{c(){e=d("div"),l=d("div"),t=d("img"),n=D(),o=d("div"),s=w(u),this.h()},l(_){e=h(_,"DIV",{class:!0});var k=p(e);l=h(k,"DIV",{class:!0});var S=p(l);t=h(S,"IMG",{src:!0,alt:!0,class:!0}),S.forEach(c),n=y(k),o=h(k,"DIV",{class:!0});var V=p(o);s=C(V,u),V.forEach(c),k.forEach(c),this.h()},h(){Ce(t.src,a=i[0].subscription.student.image.full_path)||f(t,"src",a),f(t,"alt",""),f(t,"class","avatar-xs rounded-circle"),f(l,"class","flex-shrink-0"),f(o,"class","flex-grow-1"),f(e,"class","d-flex gap-2 align-items-center")},m(_,k){A(_,e,k),r(e,l),r(l,t),r(e,n),r(e,o),r(o,s)},p(_,k){k&1&&!Ce(t.src,a=_[0].subscription.student.image.full_path)&&f(t,"src",a),k&1&&u!==(u=_[0].subscription.student.fullname+"")&&te(s,u)},d(_){_&&c(e)}}}function yt(i){let e,l="not found";return{c(){e=d("span"),e.textContent=l,this.h()},l(t){e=h(t,"SPAN",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-pp1ynj"&&(e.textContent=l),this.h()},h(){f(e,"class","badge bg-danger-subtle text-danger")},m(t,a){A(t,e,a)},p:oe,d(t){t&&c(e)}}}function St(i){let e,l,t='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',a,n,o=i[0].id+"",u,s,_,k,S,V,I,P=i[0].generated_at+"",Q,R,L,N,z,Y,x,F,v,j,M;function K(g,m){var b;return((b=g[0])==null?void 0:b.ref)==null?gt:vt}let J=K(i),H=J(i);function U(g,m){var b,E;return((E=(b=g[0])==null?void 0:b.subscription)==null?void 0:E.ref)==null?bt:mt}let B=U(i),q=B(i);function ne(g,m){var b,E;return((E=(b=g[0])==null?void 0:b.subscription)==null?void 0:E.ref)==null?Et:kt}let W=ne(i),O=W(i);function ie(g,m){var b,E;return((E=(b=g[0])==null?void 0:b.subscription)==null?void 0:E.ref)==null?yt:Dt}let le=ie(i),G=le(i);return{c(){e=d("tr"),l=d("td"),l.innerHTML=t,a=D(),n=d("td"),u=w(o),s=D(),_=d("td"),H.c(),k=D(),S=d("td"),q.c(),V=D(),I=d("td"),Q=w(P),R=D(),L=d("td"),O.c(),N=D(),z=d("td"),G.c(),Y=D(),x=d("td"),F=d("div"),v=d("a"),j=d("i"),this.h()},l(g){e=h(g,"TR",{scope:!0});var m=p(e);l=h(m,"TD",{"data-svelte-h":!0}),se(l)!=="svelte-1wqjv4e"&&(l.innerHTML=t),a=y(m),n=h(m,"TD",{});var b=p(n);u=C(b,o),b.forEach(c),s=y(m),_=h(m,"TD",{});var E=p(_);H.l(E),E.forEach(c),k=y(m),S=h(m,"TD",{});var ce=p(S);q.l(ce),ce.forEach(c),V=y(m),I=h(m,"TD",{});var ue=p(I);Q=C(ue,P),ue.forEach(c),R=y(m),L=h(m,"TD",{});var fe=p(L);O.l(fe),fe.forEach(c),N=y(m),z=h(m,"TD",{});var de=p(z);G.l(de),de.forEach(c),Y=y(m),x=h(m,"TD",{});var he=p(x);F=h(he,"DIV",{class:!0});var _e=p(F);v=h(_e,"A",{href:!0,target:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0});var pe=p(v);j=h(pe,"I",{class:!0}),p(j).forEach(c),pe.forEach(c),_e.forEach(c),he.forEach(c),m.forEach(c),this.h()},h(){f(j,"class","ri-printer-line"),f(v,"href",M="/invoices/"+i[0].id),f(v,"target","_blank"),f(v,"class","fs-15"),f(v,"data-bs-toggle","tooltip"),f(v,"data-bs-original-title",Z.print[localStorage.getItem("language")]),f(F,"class","hstack gap-3"),f(e,"scope","row")},m(g,m){A(g,e,m),r(e,l),r(e,a),r(e,n),r(n,u),r(e,s),r(e,_),H.m(_,null),r(e,k),r(e,S),q.m(S,null),r(e,V),r(e,I),r(I,Q),r(e,R),r(e,L),O.m(L,null),r(e,N),r(e,z),G.m(z,null),r(e,Y),r(e,x),r(x,F),r(F,v),r(v,j)},p(g,[m]){m&1&&o!==(o=g[0].id+"")&&te(u,o),J===(J=K(g))&&H?H.p(g,m):(H.d(1),H=J(g),H&&(H.c(),H.m(_,null))),B===(B=U(g))&&q?q.p(g,m):(q.d(1),q=B(g),q&&(q.c(),q.m(S,null))),m&1&&P!==(P=g[0].generated_at+"")&&te(Q,P),W===(W=ne(g))&&O?O.p(g,m):(O.d(1),O=W(g),O&&(O.c(),O.m(L,null))),le===(le=ie(g))&&G?G.p(g,m):(G.d(1),G=le(g),G&&(G.c(),G.m(z,null))),m&1&&M!==(M="/invoices/"+g[0].id)&&f(v,"href",M)},i:oe,o:oe,d(g){g&&c(e),H.d(),q.d(),O.d(),G.d()}}}function $t(i,e,l){let{invoice:t}=e,{invoiceStore:a}=We("invoiceStore");return Fe(i,a,n=>l(2,n)),i.$$set=n=>{"invoice"in n&&l(0,t=n.invoice)},[t,a]}class wt extends Ve{constructor(e){super(),Le(this,e,$t,St,He,{invoice:0})}}function qe(i,e,l){const t=i.slice();return t[2]=e[l],t}function ze(i){let e,l,t=Ne(i[0]),a=[];for(let o=0;o<t.length;o+=1)a[o]=Be(qe(i,t,o));const n=o=>ae(a[o],1,1,()=>{a[o]=null});return{c(){e=d("tbody");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=h(o,"TBODY",{class:!0});var u=p(e);for(let s=0;s<a.length;s+=1)a[s].l(u);u.forEach(c),this.h()},h(){f(e,"class","list")},m(o,u){A(o,e,u);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);l=!0},p(o,u){if(u&1){t=Ne(o[0]);let s;for(s=0;s<t.length;s+=1){const _=qe(o,t,s);a[s]?(a[s].p(_,u),ee(a[s],1)):(a[s]=Be(_),a[s].c(),ee(a[s],1),a[s].m(e,null))}for(Je(),s=t.length;s<a.length;s+=1)n(s);Qe()}},i(o){if(!l){for(let u=0;u<t.length;u+=1)ee(a[u]);l=!0}},o(o){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)ae(a[u]);l=!1},d(o){o&&c(e),et(a,o)}}}function Be(i){let e,l;return e=new wt({props:{invoice:i[2]}}),{c(){ye(e.$$.fragment)},l(t){Se(e.$$.fragment,t)},m(t,a){$e(e,t,a),l=!0},p(t,a){const n={};a&1&&(n.invoice=t[2]),e.$set(n)},i(t){l||(ee(e.$$.fragment,t),l=!0)},o(t){ae(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function Oe(i){let e,l='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=d("div"),e.innerHTML=l,this.h()},l(t){e=h(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-2svhwp"&&(e.innerHTML=l),this.h()},h(){f(e,"class","text-center")},m(t,a){A(t,e,a)},d(t){t&&c(e)}}}function Ct(i){var ce,ue,fe,de,he,_e,pe,je,Me,Ae,Pe,Re;let e,l,t,a,n,o,u='<div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div>',s,_,k=Z.id[localStorage.getItem("language")]+"",S,V,I,P=Z.invoiceRef[localStorage.getItem("language")]+"",Q,R,L,N=Z.subRef[localStorage.getItem("language")]+"",z,Y,x,F=Z.genAt[localStorage.getItem("language")]+"",v,j,M,K=Z.package[localStorage.getItem("language")]+"",J,H,U,B=Z.student[localStorage.getItem("language")]+"",q,ne,W,O=Z.actions[localStorage.getItem("language")]+"",ie,le,G,g,m,b=(i[1]==null||((fe=(ue=(ce=i[1])==null?void 0:ce.from)==null?void 0:ue.route)==null?void 0:fe.id)!=((_e=(he=(de=i[1])==null?void 0:de.to)==null?void 0:he.route)==null?void 0:_e.id))&&ze(i),E=((Me=(je=(pe=i[1])==null?void 0:pe.from)==null?void 0:je.route)==null?void 0:Me.id)==((Re=(Pe=(Ae=i[1])==null?void 0:Ae.to)==null?void 0:Pe.route)==null?void 0:Re.id)&&i[1]&&Oe();return{c(){e=d("div"),l=d("div"),t=d("table"),a=d("thead"),n=d("tr"),o=d("th"),o.innerHTML=u,s=D(),_=d("th"),S=w(k),V=D(),I=d("th"),Q=w(P),R=D(),L=d("th"),z=w(N),Y=D(),x=d("th"),v=w(F),j=D(),M=d("th"),J=w(K),H=D(),U=d("th"),q=w(B),ne=D(),W=d("th"),ie=w(O),le=D(),b&&b.c(),G=D(),E&&E.c(),g=Ge(),this.h()},l(T){e=h(T,"DIV",{class:!0});var X=p(e);l=h(X,"DIV",{class:!0});var ve=p(l);t=h(ve,"TABLE",{class:!0});var re=p(t);a=h(re,"THEAD",{class:!0});var ge=p(a);n=h(ge,"TR",{});var $=p(n);o=h($,"TH",{scope:!0,style:!0,"data-svelte-h":!0}),se(o)!=="svelte-gbrsm8"&&(o.innerHTML=u),s=y($),_=h($,"TH",{scope:!0});var me=p(_);S=C(me,k),me.forEach(c),V=y($),I=h($,"TH",{scope:!0});var be=p(I);Q=C(be,P),be.forEach(c),R=y($),L=h($,"TH",{scope:!0});var ke=p(L);z=C(ke,N),ke.forEach(c),Y=y($),x=h($,"TH",{scope:!0});var Ee=p(x);v=C(Ee,F),Ee.forEach(c),j=y($),M=h($,"TH",{scope:!0});var Ie=p(M);J=C(Ie,K),Ie.forEach(c),H=y($),U=h($,"TH",{scope:!0});var Te=p(U);q=C(Te,B),Te.forEach(c),ne=y($),W=h($,"TH",{scope:!0});var De=p(W);ie=C(De,O),De.forEach(c),$.forEach(c),ge.forEach(c),le=y(re),b&&b.l(re),re.forEach(c),ve.forEach(c),X.forEach(c),G=y(T),E&&E.l(T),g=Ge(),this.h()},h(){f(o,"scope","col"),Xe(o,"width","25px"),f(_,"scope","col"),f(I,"scope","col"),f(L,"scope","col"),f(x,"scope","col"),f(M,"scope","col"),f(U,"scope","col"),f(W,"scope","col"),f(a,"class","table-light"),f(t,"class","table align-middle table-nowrap mb-0 border-top"),f(l,"class","table-responsive"),f(e,"class","row pe-0")},m(T,X){A(T,e,X),r(e,l),r(l,t),r(t,a),r(a,n),r(n,o),r(n,s),r(n,_),r(_,S),r(n,V),r(n,I),r(I,Q),r(n,R),r(n,L),r(L,z),r(n,Y),r(n,x),r(x,v),r(n,j),r(n,M),r(M,J),r(n,H),r(n,U),r(U,q),r(n,ne),r(n,W),r(W,ie),r(t,le),b&&b.m(t,null),A(T,G,X),E&&E.m(T,X),A(T,g,X),m=!0},p(T,[X]){var ve,re,ge,$,me,be,ke,Ee,Ie,Te,De,xe;T[1]==null||((ge=(re=(ve=T[1])==null?void 0:ve.from)==null?void 0:re.route)==null?void 0:ge.id)!=((be=(me=($=T[1])==null?void 0:$.to)==null?void 0:me.route)==null?void 0:be.id)?b?(b.p(T,X),X&2&&ee(b,1)):(b=ze(T),b.c(),ee(b,1),b.m(t,null)):b&&(Je(),ae(b,1,1,()=>{b=null}),Qe()),((Ie=(Ee=(ke=T[1])==null?void 0:ke.from)==null?void 0:Ee.route)==null?void 0:Ie.id)==((xe=(De=(Te=T[1])==null?void 0:Te.to)==null?void 0:De.route)==null?void 0:xe.id)&&T[1]?E||(E=Oe(),E.c(),E.m(g.parentNode,g)):E&&(E.d(1),E=null)},i(T){m||(ee(b),m=!0)},o(T){ae(b),m=!1},d(T){T&&(c(e),c(G),c(g)),b&&b.d(),E&&E.d(T)}}}function Ht(i,e,l){let t;Fe(i,ft,n=>l(1,t=n));let{invoicesList:a}=e;return Ze("invoiceStore",{invoiceStore:ut({})}),i.$$set=n=>{"invoicesList"in n&&l(0,a=n.invoicesList)},[a,t]}class Vt extends Ve{constructor(e){super(),Le(this,e,Ht,Ct,He,{invoicesList:0})}}function Lt(i){let e,l,t,a,n,o=Z.invoiceManagement[localStorage.getItem("language")]+"",u,s,_,k="",S,V,I,P,Q,R,L,N,z,Y;P=new ct({props:{type:Z.invoice[localStorage.getItem("language")]}}),R=new Vt({props:{invoicesList:i[2]}});const x=[i[1]];let F={};for(let v=0;v<x.length;v+=1)F=tt(F,x[v]);return N=new ot({props:F}),{c(){e=d("div"),l=d("div"),t=d("div"),a=d("div"),n=d("h4"),u=w(o),s=D(),_=d("div"),_.innerHTML=k,S=D(),V=d("div"),I=d("div"),ye(P.$$.fragment),Q=D(),ye(R.$$.fragment),L=D(),ye(N.$$.fragment),this.h()},l(v){e=h(v,"DIV",{class:!0});var j=p(e);l=h(j,"DIV",{class:!0});var M=p(l);t=h(M,"DIV",{class:!0});var K=p(t);a=h(K,"DIV",{class:!0});var J=p(a);n=h(J,"H4",{class:!0});var H=p(n);u=C(H,o),H.forEach(c),s=y(J),_=h(J,"DIV",{class:!0,"data-svelte-h":!0}),se(_)!=="svelte-1htjqfz"&&(_.innerHTML=k),J.forEach(c),S=y(K),V=h(K,"DIV",{class:!0});var U=p(V);I=h(U,"DIV",{class:!0});var B=p(I);Se(P.$$.fragment,B),Q=y(B),Se(R.$$.fragment,B),L=y(B),Se(N.$$.fragment,B),B.forEach(c),U.forEach(c),K.forEach(c),M.forEach(c),j.forEach(c),this.h()},h(){f(n,"class","card-title mb-0 flex-grow-1"),f(_,"class","flex-shrink-0"),f(a,"class","card-header align-items-center d-flex"),f(I,"class","row"),f(V,"class","card-body"),f(t,"class","card"),f(l,"class","col-lg-12"),f(e,"class","row")},m(v,j){A(v,e,j),r(e,l),r(l,t),r(t,a),r(a,n),r(n,u),r(a,s),r(a,_),r(t,S),r(t,V),r(V,I),$e(P,I,null),r(I,Q),$e(R,I,null),r(I,L),$e(N,I,null),i[4](e),Y=!0},p(v,[j]){const M={};j&4&&(M.invoicesList=v[2]),R.$set(M);const K=j&2?nt(x,[it(v[1])]):{};N.$set(K)},i(v){Y||(ee(P.$$.fragment,v),ee(R.$$.fragment,v),ee(N.$$.fragment,v),v&&(z||lt(()=>{z=rt(e,dt,{duration:200}),z.start()})),Y=!0)},o(v){ae(P.$$.fragment,v),ae(R.$$.fragment,v),ae(N.$$.fragment,v),Y=!1},d(v){v&&c(e),we(P),we(R),we(N),i[4](null)}}}function jt(i,e,l){let t,a,{data:n}=e,o;at(()=>{ht(o)});function u(s){st[s?"unshift":"push"](()=>{o=s,l(0,o)})}return i.$$set=s=>{"data"in s&&l(3,n=s.data)},i.$$.update=()=>{i.$$.dirty&8&&l(2,t=n.invoicesResponse.data.invoices),i.$$.dirty&8&&l(1,a=n.invoicesResponse.pagination)},[o,a,t,n,u]}class Kt extends Ve{constructor(e){super(),Le(this,e,jt,Lt,He,{data:3})}}export{Kt as component,Yt as universal};
