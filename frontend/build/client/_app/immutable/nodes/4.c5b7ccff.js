import{s as Qe,r as We,f as c,a as G,l as Je,g as d,h as C,z as D,c as M,m as Ke,d as v,j as l,K as R,H as de,k as Xe,i as X,C as o,L as te,F as ue,n as Ye,v as Ze,w as $e,x as et,G as tt,y as Ce,o as lt,J as we,E as Ae,I as ye,M as Ee,p as at,D as st,A as ot}from"../chunks/scheduler.726ac76d.js";import{S as rt,i as nt,b as it,d as ct,m as dt,a as je,t as ze,e as ut,f as ft}from"../chunks/index.8a5ed380.js";import{e as He}from"../chunks/each.381f634d.js";import{g as Be}from"../chunks/utils.7c7f4a39.js";import{w as Fe}from"../chunks/singletons.08415598.js";import{f as ht}from"../chunks/index.955fed47.js";import{S as _t}from"../chunks/SchoolsTableCollapse.8f0a9e4d.js";import{p as mt}from"../chunks/stores.b420ea9f.js";async function vt({fetch:s,url:e,depends:t,params:n}){return{tabTitle:"Subscription Status",arTabTitle:"حالة الاشتراك"}}const Lt=Object.freeze(Object.defineProperty({__proto__:null,load:vt},Symbol.toStringTag,{value:"Module"}));function qe(s,e,t){const n=s.slice();return n[4]=e[t],n}function Ue(s){let e,t;return{c(){e=c("img"),this.h()},l(n){e=d(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var n,m;Ae(e.src,t=(m=(n=s[3])==null?void 0:n.logo)==null?void 0:m.full_path)||l(e,"src",t),l(e,"alt",""),l(e,"class","avatar-xs rounded-circle me-2")},m(n,m){X(n,e,m)},p(n,m){var a,h;m&8&&!Ae(e.src,t=(h=(a=n[3])==null?void 0:a.logo)==null?void 0:h.full_path)&&l(e,"src",t)},d(n){n&&v(e)}}}function pt(s){let e,t,n="Grade",m,a,h,y="All",S,E,u=He(s[5]),i=[];for(let r=0;r<u.length;r+=1)i[r]=Re(qe(s,u,r));return{c(){e=c("div"),t=c("label"),t.textContent=n,m=G(),a=c("select"),h=c("option"),h.textContent=y;for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var b=C(e);t=d(b,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(t)!=="svelte-1bmxbek"&&(t.textContent=n),m=M(b),a=d(b,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var _=C(a);h=d(_,"OPTION",{"data-svelte-h":!0}),D(h)!=="svelte-13f2t2c"&&(h.textContent=y);for(let I=0;I<i.length;I+=1)i[I].l(_);_.forEach(v),b.forEach(v),this.h()},h(){l(t,"for","firstName"),l(t,"class","form-label mb-0"),h.__value="all",R(h,h.__value),l(a,"class","form-select"),l(a,"name","class"),l(a,"id","class"),l(a,"aria-label","Default select example"),s[4]===void 0&&de(()=>s[15].call(a)),l(e,"class","d-flex align-items-center gap-2")},m(r,b){X(r,e,b),o(e,t),o(e,m),o(e,a),o(a,h);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(a,null);te(a,s[4],!0),S||(E=ue(a,"change",s[15]),S=!0)},p(r,b){if(b&32){u=He(r[5]);let _;for(_=0;_<u.length;_+=1){const I=qe(r,u,_);i[_]?i[_].p(I,b):(i[_]=Re(I),i[_].c(),i[_].m(a,null))}for(;_<i.length;_+=1)i[_].d(1);i.length=u.length}b&48&&te(a,r[4])},d(r){r&&v(e),st(i,r),S=!1,E()}}}function bt(s){let e,t,n="Level",m,a,h,y="All",S,E="Primary School",u,i="Meduim School",r,b="Secondary School",_,I;return{c(){e=c("div"),t=c("label"),t.textContent=n,m=G(),a=c("select"),h=c("option"),h.textContent=y,S=c("option"),S.textContent=E,u=c("option"),u.textContent=i,r=c("option"),r.textContent=b,this.h()},l(g){e=d(g,"DIV",{class:!0});var P=C(e);t=d(P,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(t)!=="svelte-59jyzl"&&(t.textContent=n),m=M(P),a=d(P,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var T=C(a);h=d(T,"OPTION",{"data-svelte-h":!0}),D(h)!=="svelte-13f2t2c"&&(h.textContent=y),S=d(T,"OPTION",{"data-svelte-h":!0}),D(S)!=="svelte-1x0123k"&&(S.textContent=E),u=d(T,"OPTION",{"data-svelte-h":!0}),D(u)!=="svelte-10san4g"&&(u.textContent=i),r=d(T,"OPTION",{"data-svelte-h":!0}),D(r)!=="svelte-k0kzc2"&&(r.textContent=b),T.forEach(v),P.forEach(v),this.h()},h(){l(t,"for","firstName"),l(t,"class","form-label mb-0"),h.__value="all",R(h,h.__value),S.__value=0,R(S,S.__value),u.__value=1,R(u,u.__value),r.__value=2,R(r,r.__value),l(a,"class","form-select"),l(a,"name","class"),l(a,"id","class"),l(a,"aria-label","Default select example"),s[1]===void 0&&de(()=>s[14].call(a)),l(e,"class","d-flex align-items-center gap-2")},m(g,P){X(g,e,P),o(e,t),o(e,m),o(e,a),o(a,h),o(a,S),o(a,u),o(a,r),te(a,s[1],!0),_||(I=ue(a,"change",s[14]),_=!0)},p(g,P){P&2&&te(a,g[1])},d(g){g&&v(e),_=!1,I()}}}function Re(s){let e,t=s[4].name+"",n;return{c(){e=c("option"),n=Je(t),this.h()},l(m){e=d(m,"OPTION",{});var a=C(e);n=Ke(a,t),a.forEach(v),this.h()},h(){e.__value=s[4].value,R(e,e.__value)},m(m,a){X(m,e,a),o(e,n)},p:ot,d(m){m&&v(e)}}}function gt(s){var Le,Oe;let e,t,n,m='<div class="card-header align-items-center d-flex d-print-none"><h4 class="card-title mb-0 flex-grow-1">Subsription Status</h4> <div class="flex-shrink-0"></div></div>',a,h,y,S,E,u=((Le=s[3])!=null&&Le.name?s[3].name:"No School Selected")+"",i,r,b,_='<a href="javascript:void(0);" data-bs-toggle="tooltip" data-bs-original-title="Select"><i class="ri-edit-2-line"></i></a>',I,g,P,T,ae="Filter By :",le,k,w,p="Level",x,Pe="Grade",fe,J,he,j,Ie="Apply",_e,Y,me,se,V,Z,F,q,U,xe="Select School",ve,z,pe,$,H,K,be,Te,L=((Oe=s[3])==null?void 0:Oe.logo)!=null&&Ue(s);function ke(f,O){return f[2]=="level"?bt:pt}let oe=ke(s),A=oe(s);const ge=s[12].default,N=We(ge,s,s[11],null);return H=new _t({props:{collapse:!1,selected:s[3],title:"Schools"}}),H.$on("select",s[8]),{c(){e=c("div"),t=c("div"),n=c("div"),n.innerHTML=m,a=G(),h=c("div"),y=c("div"),L&&L.c(),S=G(),E=c("h4"),i=Je(u),r=G(),b=c("span"),b.innerHTML=_,I=G(),g=c("div"),P=c("div"),T=c("label"),T.textContent=ae,le=G(),k=c("select"),w=c("option"),w.textContent=p,x=c("option"),x.textContent=Pe,fe=G(),J=c("span"),A.c(),he=G(),j=c("button"),j.textContent=Ie,_e=G(),Y=c("div"),N&&N.c(),se=G(),V=c("div"),Z=c("div"),F=c("div"),q=c("div"),U=c("h5"),U.textContent=xe,ve=G(),z=c("button"),pe=G(),$=c("div"),it(H.$$.fragment),this.h()},l(f){e=d(f,"DIV",{class:!0});var O=C(e);t=d(O,"DIV",{class:!0});var Q=C(t);n=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),D(n)!=="svelte-vqfnjo"&&(n.innerHTML=m),a=M(Q),h=d(Q,"DIV",{class:!0});var W=C(h);y=d(W,"DIV",{class:!0});var B=C(y);L&&L.l(B),S=M(B),E=d(B,"H4",{class:!0});var re=C(E);i=Ke(re,u),r=M(re),b=d(re,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),D(b)!=="svelte-1q04hzs"&&(b.innerHTML=_),re.forEach(v),I=M(B),g=d(B,"DIV",{class:!0});var ee=C(g);P=d(ee,"DIV",{class:!0});var ne=C(P);T=d(ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(T)!=="svelte-7g7cbt"&&(T.textContent=ae),le=M(ne),k=d(ne,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var Se=C(k);w=d(Se,"OPTION",{"data-svelte-h":!0}),D(w)!=="svelte-89wzkk"&&(w.textContent=p),x=d(Se,"OPTION",{"data-svelte-h":!0}),D(x)!=="svelte-1jkzslo"&&(x.textContent=Pe),Se.forEach(v),ne.forEach(v),fe=M(ee),J=d(ee,"SPAN",{class:!0});var De=C(J);A.l(De),De.forEach(v),he=M(ee),j=d(ee,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),D(j)!=="svelte-1pk9nl7"&&(j.textContent=Ie),ee.forEach(v),B.forEach(v),_e=M(W),Y=d(W,"DIV",{class:!0});var Ne=C(Y);N&&N.l(Ne),Ne.forEach(v),W.forEach(v),Q.forEach(v),O.forEach(v),se=M(f),V=d(f,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0,style:!0});var Ge=C(V);Z=d(Ge,"DIV",{class:!0});var Me=C(Z);F=d(Me,"DIV",{class:!0});var ie=C(F);q=d(ie,"DIV",{class:!0});var ce=C(q);U=d(ce,"H5",{class:!0,id:!0,"data-svelte-h":!0}),D(U)!=="svelte-18v9dd8"&&(U.textContent=xe),ve=M(ce),z=d(ce,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),C(z).forEach(v),ce.forEach(v),pe=M(ie),$=d(ie,"DIV",{class:!0});var Ve=C($);ct(H.$$.fragment,Ve),Ve.forEach(v),ie.forEach(v),Me.forEach(v),Ge.forEach(v),this.h()},h(){l(n,"class","card"),l(b,"data-bs-toggle","modal"),l(b,"data-bs-target","#selectSchool"),l(E,"class","card-title mb-0"),l(T,"for","firstName"),l(T,"class","form-label mb-0 text-nowrap"),w.__value="level",R(w,w.__value),x.__value="grade",R(x,x.__value),l(k,"class","form-select"),l(k,"name","class"),l(k,"id","class"),l(k,"aria-label","Default select example"),s[2]===void 0&&de(()=>s[13].call(k)),l(P,"class","d-flex align-items-center gap-2"),l(J,"class","ms-3"),l(j,"type","button"),l(j,"class","btn btn-primary waves-effect waves-light ms-3"),l(g,"class","d-flex align-items-center ms-auto"),l(y,"class","card-header align-items-center d-flex d-print-none flex-wrap"),l(Y,"class","card-body"),l(h,"class","card"),l(t,"class","col-lg-12"),l(e,"class","row"),l(U,"class","modal-title"),l(U,"id","exampleModalgridLabel"),l(z,"type","button"),l(z,"class","btn-close"),l(z,"data-bs-dismiss","modal"),l(z,"aria-label","Close"),l(q,"class","modal-header"),l($,"class","modal-body"),l(F,"class","modal-content"),l(Z,"class","modal-dialog modal-dialog-centered"),l(V,"class","modal fade"),l(V,"id","selectSchool"),l(V,"tabindex","-1"),l(V,"aria-labelledby","exampleModalgridLabel"),l(V,"aria-modal","true"),Xe(V,"display","none")},m(f,O){X(f,e,O),o(e,t),o(t,n),o(t,a),o(t,h),o(h,y),L&&L.m(y,null),o(y,S),o(y,E),o(E,i),o(E,r),o(E,b),o(y,I),o(y,g),o(g,P),o(P,T),o(P,le),o(P,k),o(k,w),o(k,x),te(k,s[2],!0),o(g,fe),o(g,J),A.m(J,null),o(g,he),o(g,j),o(h,_e),o(h,Y),N&&N.m(Y,null),X(f,se,O),X(f,V,O),o(V,Z),o(Z,F),o(F,q),o(q,U),o(q,ve),o(q,z),s[16](z),o(F,pe),o(F,$),dt(H,$,null),K=!0,be||(Te=[ue(k,"change",s[13]),ue(j,"click",s[9])],be=!0)},p(f,[O]){var W,B;((W=f[3])==null?void 0:W.logo)!=null?L?L.p(f,O):(L=Ue(f),L.c(),L.m(y,S)):L&&(L.d(1),L=null),(!K||O&8)&&u!==(u=((B=f[3])!=null&&B.name?f[3].name:"No School Selected")+"")&&Ye(i,u),O&4&&te(k,f[2]),oe===(oe=ke(f))&&A?A.p(f,O):(A.d(1),A=oe(f),A&&(A.c(),A.m(J,null))),N&&N.p&&(!K||O&2048)&&Ze(N,ge,f,f[11],K?et(ge,f[11],O,null):$e(f[11]),null);const Q={};O&8&&(Q.selected=f[3]),H.$set(Q)},i(f){K||(je(N,f),f&&(me||de(()=>{me=ft(e,ht,{duration:200}),me.start()})),je(H.$$.fragment,f),K=!0)},o(f){ze(N,f),ze(H.$$.fragment,f),K=!1},d(f){f&&(v(e),v(se),v(V)),L&&L.d(),A.d(),N&&N.d(f),s[16](null),ut(H),be=!1,tt(Te)}}}function St(s,e,t){let n,m,a;Ce(s,mt,p=>t(18,m=p));let{$$slots:h={},$$scope:y}=e,{data:S}=e,E,u="all",i="all",r="level";lt(()=>{t(1,u=m.url.searchParams.get("level")),u==null&&(t(4,i=m.url.searchParams.get("grade")),i&&t(2,r="grade")),t(1,u=u==null?"all":parseInt(u)),t(4,i=i==null?"all":parseInt(i))});let b=[{value:0,name:"Primary School Grade 1"},{value:1,name:"Primary School Grade 2"},{value:2,name:"Primary School Grade 3"},{value:3,name:"Primary School Grade 4"},{value:4,name:"Primary School Grade 5"},{value:5,name:"Primary School Grade 6"},{value:6,name:"Middle School Grade 7"},{value:7,name:"Middle School Grade 8"},{value:8,name:"Middle School Grade 9"},{value:9,name:"Secondary School Grade 10"},{value:10,name:"Secondary School Grade 11"},{value:11,name:"Secondary School Grade 12"}],_=[{value:0,name:"Primary School"},{value:1,name:"Meduim School"},{value:2,name:"Secondary School"}],I=Fe({});Ce(s,I,p=>t(3,a=p));let g=Fe("All");Ce(s,g,p=>t(17,n=p)),we("selectedSchoolStore",{selectedSchool:I}),we("currentFilterStore",{currentFilter:g});function P(p){const x=new URL(m.url);E.click(),p.detail.school!=null?x.searchParams.set("school",p.detail.school.id):x.searchParams.delete("school"),Be(x)}function T(){const p=new URL(m.url);r=="level"?(p.searchParams.delete("grade"),p.searchParams.set("level",u)):(p.searchParams.delete("level"),p.searchParams.set("grade",i)),u=="all"&&p.searchParams.delete("level"),i=="all"&&p.searchParams.delete("grade"),ye(g,n="All",n),r=="level"&&u!="all"?ye(g,n=_.find(x=>x.value==u).name,n):r=="grade"&&i!="all"&&ye(g,n=b.find(x=>x.value==i).name,n),Be(p)}function ae(){r=Ee(this),t(2,r)}function le(){u=Ee(this),t(1,u)}function k(){i=Ee(this),t(4,i),t(5,b)}function w(p){at[p?"unshift":"push"](()=>{E=p,t(0,E)})}return s.$$set=p=>{"data"in p&&t(10,S=p.data),"$$scope"in p&&t(11,y=p.$$scope)},[E,u,r,a,i,b,I,g,P,T,S,y,h,ae,le,k,w]}class Ot extends rt{constructor(e){super(),nt(this,e,St,gt,Qe,{data:10})}}export{Ot as component,Lt as universal};
