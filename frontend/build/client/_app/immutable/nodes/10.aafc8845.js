import{k as z,D as A}from"../chunks/paths.29c5142d.js";import{a as H}from"../chunks/auth.82ff8344.js";import{s as G,f as b,a as T,g as $,h as S,z as x,c as E,d as h,j as v,i as L,C as g,H as J,o as N,R as q,p as F,F as Q,A as B}from"../chunks/scheduler.726ac76d.js";import{S as K,i as U,a as D,t as k,b as P,d as V,m as C,e as j,f as W}from"../chunks/index.8a5ed380.js";import{g as X,a as Y}from"../chunks/spread.8a54911c.js";import{P as Z}from"../chunks/Pagination.0a529dad.js";import{S as ee}from"../chunks/SearchTable.1c079677.js";import{O as te}from"../chunks/OrdersTable.b4c2d4f5.js";import{i as se}from"../chunks/initToolTip.b2308c6a.js";import{f as ae}from"../chunks/index.955fed47.js";import{g as re}from"../chunks/utils.5f096ebf.js";const ne=!1;async function ie({fetch:i,url:e,depends:s,params:a}){s("orders:refresh");let n=await i(z(A(e),a.canteenId),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return H(n),{ordersResponse:await n.json(),tabTitle:"Orders"}}const Ie=Object.freeze(Object.defineProperty({__proto__:null,load:ie,ssr:ne},Symbol.toStringTag,{value:"Module"}));function oe(i){let e,s='<i class="ri-add-line align-bottom me-1"></i>Add Order',a,n;return{c(){e=b("a"),e.innerHTML=s,this.h()},l(t){e=$(t,"A",{type:!0,class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1fv29gz"&&(e.innerHTML=s),this.h()},h(){v(e,"type","button"),v(e,"class","btn btn-primary waves-effect waves-light")},m(t,d){L(t,e,d),a||(n=Q(e,"click",i[3]),a=!0)},p:B,d(t){t&&h(e),a=!1,n()}}}function le(i){let e,s,a,n,t,d,o,c;a=new ee({props:{type:"Order"}}),t=new te({props:{ordersList:i[2]}});const f=[i[1]];let w={};for(let r=0;r<f.length;r+=1)w=q(w,f[r]);return o=new Z({props:w}),{c(){e=b("div"),s=b("div"),P(a.$$.fragment),n=T(),P(t.$$.fragment),d=T(),P(o.$$.fragment),this.h()},l(r){e=$(r,"DIV",{class:!0});var m=S(e);s=$(m,"DIV",{class:!0});var l=S(s);V(a.$$.fragment,l),n=E(l),V(t.$$.fragment,l),d=E(l),V(o.$$.fragment,l),l.forEach(h),m.forEach(h),this.h()},h(){v(s,"class","row"),v(e,"class","card-body")},m(r,m){L(r,e,m),g(e,s),C(a,s,null),g(s,n),C(t,s,null),g(s,d),C(o,s,null),c=!0},p(r,m){const l={};m&4&&(l.ordersList=r[2]),t.$set(l);const p=m&2?X(f,[Y(r[1])]):{};o.$set(p)},i(r){c||(D(a.$$.fragment,r),D(t.$$.fragment,r),D(o.$$.fragment,r),c=!0)},o(r){k(a.$$.fragment,r),k(t.$$.fragment,r),k(o.$$.fragment,r),c=!1},d(r){r&&h(e),j(a),j(t),j(o)}}}function de(i){let e,s,a,n,t,d="Orders Managment",o,c,f=JSON.parse(sessionStorage.getItem("permissions")).includes("orders.store"),w,r=JSON.parse(sessionStorage.getItem("permissions")).includes("orders.index"),m,l,p=f&&oe(i),u=r&&le(i);return{c(){e=b("div"),s=b("div"),a=b("div"),n=b("div"),t=b("h4"),t.textContent=d,o=T(),c=b("div"),p&&p.c(),w=T(),u&&u.c(),this.h()},l(_){e=$(_,"DIV",{class:!0});var I=S(e);s=$(I,"DIV",{class:!0});var M=S(s);a=$(M,"DIV",{class:!0});var y=S(a);n=$(y,"DIV",{class:!0});var O=S(n);t=$(O,"H4",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-177umtu"&&(t.textContent=d),o=E(O),c=$(O,"DIV",{class:!0});var R=S(c);p&&p.l(R),R.forEach(h),O.forEach(h),w=E(y),u&&u.l(y),y.forEach(h),M.forEach(h),I.forEach(h),this.h()},h(){v(t,"class","card-title mb-0 flex-grow-1"),v(c,"class","flex-shrink-0"),v(n,"class","card-header align-items-center d-flex"),v(a,"class","card"),v(s,"class","col-lg-12"),v(e,"class","row")},m(_,I){L(_,e,I),g(e,s),g(s,a),g(a,n),g(n,t),g(n,o),g(n,c),p&&p.m(c,null),g(a,w),u&&u.m(a,null),i[5](e),l=!0},p(_,[I]){f&&p.p(_,I),r&&u.p(_,I)},i(_){l||(D(u),_&&(m||J(()=>{m=W(e,ae,{duration:200}),m.start()})),l=!0)},o(_){k(u),l=!1},d(_){_&&h(e),p&&p.d(),u&&u.d(),i[5](null)}}}function ce(i,e,s){let a,n,{data:t}=e,d;N(()=>{se(d)});function o(){re("orders/add")}function c(f){F[f?"unshift":"push"](()=>{d=f,s(0,d)})}return i.$$set=f=>{"data"in f&&s(4,t=f.data)},i.$$.update=()=>{i.$$.dirty&16&&s(2,a=t.ordersResponse.data),i.$$.dirty&16&&s(1,n=t.ordersResponse.pagination)},[d,n,a,o,t,c]}class Se extends K{constructor(e){super(),U(this,e,ce,de,G,{data:4})}}export{Se as component,Ie as universal};
