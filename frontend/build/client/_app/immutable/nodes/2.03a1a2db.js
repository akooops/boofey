import"../chunks/paths.7846b4ff.js";import{r as gt,P as bt}from"../chunks/auth.82ff8344.js";import{s as Pe,f as v,a as D,g,h as b,z as X,c as L,d as u,j as r,B as q,i as P,C as o,A as _e,D as ze,y as Be,o as vt,e as Ve,l as J,m as W,n as Z,E as at,F as lt,G as _t,r as kt,v as wt,w as yt,x as Et}from"../chunks/scheduler.726ac76d.js";import{S as Ae,i as He,b as je,d as Oe,m as $e,a as Me,t as Te,e as Re}from"../chunks/index.8a5ed380.js";import{e as ke}from"../chunks/each.381f634d.js";import{p as qe,n as It}from"../chunks/stores.1008b3f8.js";import{t as fe}from"../chunks/translation.098a1f9d.js";import{P as St}from"../chunks/paths.29c5142d.js";import{g as Dt}from"../chunks/utils.5f096ebf.js";import{i as Lt}from"../chunks/initApp.110985ec.js";import{r as Mt}from"../chunks/env.ca395d4c.js";const Tt=!1;async function Vt({fetch:n,cookies:e,url:s,depends:t}){return await gt(),{userResponse:await bt()}}const ls=Object.freeze(Object.defineProperty({__proto__:null,load:Vt,ssr:Tt},Symbol.toStringTag,{value:"Module"}));function it(n,e,s){const t=n.slice();return t[6]=e[s],t}function nt(n,e,s){const t=n.slice();return t[9]=e[s],t}function rt(n,e,s){const t=n.slice();return t[12]=e[s],t}function ot(n){let e,s,t=n[6].title+"",a;return{c(){e=v("li"),s=v("span"),a=J(t),this.h()},l(i){e=g(i,"LI",{class:!0});var l=b(e);s=g(l,"SPAN",{});var h=b(s);a=W(h,t),h.forEach(u),l.forEach(u),this.h()},h(){r(e,"class","menu-title")},m(i,l){P(i,e,l),o(e,s),o(s,a)},p(i,l){l&2&&t!==(t=i[6].title+"")&&Z(a,t)},d(i){i&&u(e)}}}function Pt(n){let e;function s(i,l){return i[9].route=="/admin"?Nt:Ht}let t=s(n),a=t(n);return{c(){e=v("li"),a.c(),this.h()},l(i){e=g(i,"LI",{class:!0});var l=b(e);a.l(l),l.forEach(u),this.h()},h(){r(e,"class","nav-item")},m(i,l){P(i,e,l),a.m(e,null)},p(i,l){t===(t=s(i))&&a?a.p(i,l):(a.d(1),a=t(i),a&&(a.c(),a.m(e,null)))},d(i){i&&u(e),a.d()}}}function At(n){let e,s,t,a,i,l,h=n[9].title+"",d,f,c=ke(n[9].links),m=[];for(let w=0;w<c.length;w+=1)m[w]=dt(rt(n,c,w));return{c(){e=v("li"),s=v("a"),t=v("i"),i=D(),l=v("span"),d=J(h),f=D();for(let w=0;w<m.length;w+=1)m[w].c();this.h()},l(w){e=g(w,"LI",{class:!0});var E=b(e);s=g(E,"A",{class:!0,href:!0,"data-bs-toggle":!0,role:!0,"aria-expanded":!0,"aria-controls":!0});var p=b(s);t=g(p,"I",{class:!0}),b(t).forEach(u),i=L(p),l=g(p,"SPAN",{});var _=b(l);d=W(_,h),_.forEach(u),p.forEach(u),f=L(E);for(let I=0;I<m.length;I+=1)m[I].l(E);E.forEach(u),this.h()},h(){r(t,"class",a=n[9].icon),r(s,"class","nav-link menu-link"),r(s,"href","#sidebarDashboards"),r(s,"data-bs-toggle","collapse"),r(s,"role","button"),r(s,"aria-expanded","false"),r(s,"aria-controls","sidebarDashboards"),r(e,"class","nav-item")},m(w,E){P(w,e,E),o(e,s),o(s,t),o(s,i),o(s,l),o(l,d),o(e,f);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(e,null)},p(w,E){if(E&2&&a!==(a=w[9].icon)&&r(t,"class",a),E&2&&h!==(h=w[9].title+"")&&Z(d,h),E&2){c=ke(w[9].links);let p;for(p=0;p<c.length;p+=1){const _=rt(w,c,p);m[p]?m[p].p(_,E):(m[p]=dt(_),m[p].c(),m[p].m(e,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=c.length}},d(w){w&&u(e),ze(m,w)}}}function Ht(n){let e,s,t,a,i,l=n[9].title+"",h,d;return{c(){e=v("a"),s=v("i"),a=D(),i=v("span"),h=J(l),this.h()},l(f){e=g(f,"A",{class:!0,href:!0,role:!0,"aria-expanded":!0});var c=b(e);s=g(c,"I",{class:!0}),b(s).forEach(u),a=L(c),i=g(c,"SPAN",{});var m=b(i);h=W(m,l),m.forEach(u),c.forEach(u),this.h()},h(){r(s,"class",t=n[9].icon),r(e,"class","nav-link menu-link"),r(e,"href",d=n[9].route),r(e,"role","button"),r(e,"aria-expanded","false"),q(e,"active",n[2].url.pathname.includes(n[9].route))},m(f,c){P(f,e,c),o(e,s),o(e,a),o(e,i),o(i,h)},p(f,c){c&2&&t!==(t=f[9].icon)&&r(s,"class",t),c&2&&l!==(l=f[9].title+"")&&Z(h,l),c&2&&d!==(d=f[9].route)&&r(e,"href",d),c&6&&q(e,"active",f[2].url.pathname.includes(f[9].route))},d(f){f&&u(e)}}}function Nt(n){let e,s,t,a,i,l=n[9].title+"",h,d;return{c(){e=v("a"),s=v("i"),a=D(),i=v("span"),h=J(l),this.h()},l(f){e=g(f,"A",{class:!0,href:!0,role:!0,"aria-expanded":!0});var c=b(e);s=g(c,"I",{class:!0}),b(s).forEach(u),a=L(c),i=g(c,"SPAN",{});var m=b(i);h=W(m,l),m.forEach(u),c.forEach(u),this.h()},h(){r(s,"class",t=n[9].icon),r(e,"class","nav-link menu-link"),r(e,"href",d=n[9].route),r(e,"role","button"),r(e,"aria-expanded","false"),q(e,"active",n[2].url.pathname=="/admin")},m(f,c){P(f,e,c),o(e,s),o(e,a),o(e,i),o(i,h)},p(f,c){c&2&&t!==(t=f[9].icon)&&r(s,"class",t),c&2&&l!==(l=f[9].title+"")&&Z(h,l),c&2&&d!==(d=f[9].route)&&r(e,"href",d),c&4&&q(e,"active",f[2].url.pathname=="/admin")},d(f){f&&u(e)}}}function dt(n){let e,s,t,a,i=n[12]+"",l,h;return{c(){e=v("div"),s=v("ul"),t=v("li"),a=v("a"),l=J(i),h=D(),this.h()},l(d){e=g(d,"DIV",{class:!0,id:!0});var f=b(e);s=g(f,"UL",{class:!0});var c=b(s);t=g(c,"LI",{class:!0});var m=b(t);a=g(m,"A",{href:!0,class:!0});var w=b(a);l=W(w,i),w.forEach(u),m.forEach(u),c.forEach(u),h=L(f),f.forEach(u),this.h()},h(){r(a,"href","dashboard-analytics.html"),r(a,"class","nav-link"),r(t,"class","nav-item"),r(s,"class","nav nav-sm flex-column"),r(e,"class","collapse menu-dropdown"),r(e,"id","sidebarDashboards")},m(d,f){P(d,e,f),o(e,s),o(s,t),o(t,a),o(a,l),o(e,h)},p(d,f){f&2&&i!==(i=d[12]+"")&&Z(l,i)},d(d){d&&u(e)}}}function ct(n){let e;function s(i,l){return i[9].links.length>0?At:Pt}let t=s(n),a=t(n);return{c(){a.c(),e=D()},l(i){a.l(i),e=L(i)},m(i,l){a.m(i,l),P(i,e,l)},p(i,l){t===(t=s(i))&&a?a.p(i,l):(a.d(1),a=t(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){i&&u(e),a.d(i)}}}function ut(n){let e,s,t=n[6].title&&ot(n),a=ke(n[6].submenu),i=[];for(let l=0;l<a.length;l+=1)i[l]=ct(nt(n,a,l));return{c(){t&&t.c(),e=D();for(let l=0;l<i.length;l+=1)i[l].c();s=Ve()},l(l){t&&t.l(l),e=L(l);for(let h=0;h<i.length;h+=1)i[h].l(l);s=Ve()},m(l,h){t&&t.m(l,h),P(l,e,h);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(l,h);P(l,s,h)},p(l,h){if(l[6].title?t?t.p(l,h):(t=ot(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),h&6){a=ke(l[6].submenu);let d;for(d=0;d<a.length;d+=1){const f=nt(l,a,d);i[d]?i[d].p(f,h):(i[d]=ct(f),i[d].c(),i[d].m(s.parentNode,s))}for(;d<i.length;d+=1)i[d].d(1);i.length=a.length}},d(l){l&&(u(e),u(s)),t&&t.d(l),ze(i,l)}}}function Ct(n){let e,s,t='<a href="index.html" class="logo logo-dark"><span class="logo-sm"><img src="/assets/images/logo.svg" alt="" height="10"/></span> <span class="logo-lg"><img src="/assets/images/logo.svg" alt="" height="22"/></span></a> <a href="index.html" class="logo logo-light"><span class="logo-sm"><img src="/assets/images/logo.svg" alt="" height="10"/></span> <span class="logo-lg"><img src="/assets/images/logo.svg" alt="" height="30"/></span></a> <button type="button" class="btn btn-sm p-0 fs-20 header-item float-end btn-vertical-sm-hover" id="vertical-hover"><i class="ri-record-circle-line"></i></button>',a,i,l,h,d="",f,c,m,w,E=ke(n[1]),p=[];for(let _=0;_<E.length;_+=1)p[_]=ut(it(n,E,_));return{c(){e=v("div"),s=v("div"),s.innerHTML=t,a=D(),i=v("div"),l=v("div"),h=v("div"),h.innerHTML=d,f=D(),c=v("ul");for(let _=0;_<p.length;_+=1)p[_].c();m=D(),w=v("div"),this.h()},l(_){e=g(_,"DIV",{class:!0});var I=b(e);s=g(I,"DIV",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-11fi4xf"&&(s.innerHTML=t),a=L(I),i=g(I,"DIV",{id:!0});var y=b(i);l=g(y,"DIV",{class:!0});var H=b(l);h=g(H,"DIV",{id:!0,"data-svelte-h":!0}),X(h)!=="svelte-gomvyr"&&(h.innerHTML=d),f=L(H),c=g(H,"UL",{class:!0,id:!0});var V=b(c);for(let S=0;S<p.length;S+=1)p[S].l(V);V.forEach(u),H.forEach(u),y.forEach(u),m=L(I),w=g(I,"DIV",{class:!0}),b(w).forEach(u),I.forEach(u),this.h()},h(){r(s,"class","navbar-brand-box"),r(h,"id","two-column-menu"),r(c,"class","navbar-nav"),r(c,"id","navbar-nav"),r(l,"class","container-fluid"),r(i,"id","scrollbar"),r(w,"class","sidebar-background"),r(e,"class","app-menu navbar-menu"),q(e,"d-none",n[0].roles[0].name=="pos")},m(_,I){P(_,e,I),o(e,s),o(e,a),o(e,i),o(i,l),o(l,h),o(l,f),o(l,c);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(c,null);o(e,m),o(e,w)},p(_,[I]){if(I&6){E=ke(_[1]);let y;for(y=0;y<E.length;y+=1){const H=it(_,E,y);p[y]?p[y].p(H,I):(p[y]=ut(H),p[y].c(),p[y].m(c,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=E.length}I&1&&q(e,"d-none",_[0].roles[0].name=="pos")},i:_e,o:_e,d(_){_&&u(e),ze(p,_)}}}function xt(n,e,s){let t;Be(n,qe,f=>s(2,t=f));let{user:a={}}=e,i=[],l=[{submenu:[{title:"Dashboards",links:[],route:"/admin",permission:null,icon:"ri-dashboard-line"}]},{title:"School",submenu:[{title:"Schools",links:[],route:"/admin/schools",permission:"schools.index",icon:"ri-building-4-line"},{title:"Packages",links:[],route:"/admin/packages",permission:"packages.index",icon:"ri-archive-line"},{title:"Canteens",links:[],route:"/admin/canteens",permission:"canteens.index",icon:"ri-restaurant-2-line"},{title:"Canteens",links:[],route:"/admin/canteens",permission:"canteens.index.simplified",icon:"ri-restaurant-2-line"}]},{title:"Students",submenu:[{title:"Parents",links:[],route:"/admin/parents",permission:"fathers.index",icon:"ri-group-2-line"},{title:"Students",links:[],route:"/admin/students",permission:"students.index",icon:"ri-user-2-line"}]},{title:"Subscriptions",submenu:[{title:"Coupons",links:[],route:"/admin/coupons",permission:"coupons.index",icon:"ri-coupon-2-line"},{title:"Invoices ",links:[],route:"/admin/invoices",permission:"invoices.index",icon:"ri-file-paper-2-line"},{title:"Payments ",links:[],route:"/admin/payments",permission:"payments.index",icon:"ri-bank-card-line"}]},{title:"Users",submenu:[{title:"Users",links:[],route:"/admin/users",permission:"users.index",icon:"ri-group-line"},{title:"Roles",links:[],route:"/admin/roles",permission:"roles.index",icon:"ri-briefcase-line"},{title:"Permissions",links:[],route:"/admin/permissions",permission:"permissions.index",icon:"ri-error-warning-line"}]},{title:"Point Of Sale (POS)",submenu:[{title:"Categories ",links:[],route:"/admin/categories",permission:"categories.index",icon:"ri-node-tree"},{title:"Products ",links:[],route:"/admin/products",permission:"products.index",icon:"ri-shopping-bag-line"}]},{title:"Reports",submenu:[{title:"Daily Preparation",links:[],route:"/admin/reports/todaySubscribers",permission:"reports.todaySubscribers",icon:"ri-file-list-3-line"},{title:"Subsription Status",links:[],route:"/admin/reports/subsriptionStatus",permission:"reports.subsriptionStatus",icon:"ri-survey-line"},{title:"Revenues",links:[],route:"/admin/reports/revenues",permission:"reports.revenues",icon:"ri-wallet-3-line"}]},{title:"Contact",submenu:[{title:"SMS",links:[],route:"/admin/sms",permission:"sms.index",icon:"ri-chat-1-line"}]}],h=[{title:"Menu",submenu:[{title:fe.students[localStorage.getItem("language")],links:[],route:"/students",icon:"ri-user-2-line"},{title:fe.paymentMethods[localStorage.getItem("language")],links:[],route:"/paymentMethods",icon:"ri-bank-card-line"},{title:fe.payments[localStorage.getItem("language")],links:[],route:"/payments",icon:"ri-money-dollar-circle-line"},{title:fe.subs[localStorage.getItem("language")],links:[],route:"/subscriptions",icon:"ri-refund-2-line"},{title:fe.invoices[localStorage.getItem("language")],links:[],route:"/invoices",permission:"invoices.index",icon:"ri-file-paper-2-line"}]}];function d(){let f=JSON.parse(sessionStorage.getItem("permissions"));s(3,l=l.filter(c=>(c.submenu=c.submenu.filter(m=>!m.permission||f.includes(m.permission)),c.submenu.length>0)))}return vt(()=>{d()}),n.$$set=f=>{"user"in f&&s(0,a=f.user)},n.$$.update=()=>{var f;n.$$.dirty&9&&s(1,i=((f=a==null?void 0:a.roles[0])==null?void 0:f.name)!="parent"?l:h)},[a,i,t,l]}class jt extends Ae{constructor(e){super(),He(this,e,xt,Ct,Pe,{user:0})}}function mt(n){let e,s='<button type="button" class="btn btn-icon btn-topbar btn-ghost-secondary rounded-circle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img id="header-lang-img" src="/assets/images/flags/us.svg" alt="Header Language" height="20" class="rounded"/></button> <div class="dropdown-menu dropdown-menu-end"><a href="javascript:void(0);" class="dropdown-item notify-item language py-2" data-lang="en" title="English"><img src="/assets/images/flags/us.svg" alt="user-image" class="me-2 rounded" height="18"/> <span class="align-middle">English</span></a> <a href="javascript:void(0);" class="dropdown-item notify-item language" data-lang="ar" title="Arabic"><img src="/assets/images/flags/sa.svg" alt="user-image" class="me-2 rounded" height="18"/> <span class="align-middle">العربية</span></a></div>';return{c(){e=v("div"),e.innerHTML=s,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-39eqz1"&&(e.innerHTML=s),this.h()},h(){r(e,"class","dropdown ms-1 topbar-head-dropdown header-item")},m(t,a){P(t,e,a)},d(t){t&&u(e)}}}function ft(n){let e,s='<button type="button" class="btn btn-icon btn-topbar btn-ghost-secondary rounded-circle" data-toggle="fullscreen"><i class="bx bx-fullscreen fs-22"></i></button>';return{c(){e=v("div"),e.innerHTML=s,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-pjcklq"&&(e.innerHTML=s),this.h()},h(){r(e,"class","ms-1 header-item d-none d-sm-flex")},m(t,a){P(t,e,a)},d(t){t&&u(e)}}}function Ot(n){var Je,We,Ye,Ke,Qe,Xe,Ze,et;let e,s,t,a,i,l='<a href="index.html" class="logo logo-dark"><span class="logo-sm"><img src="/assets/images/logo-sm.png" alt="" height="22"/></span> <span class="logo-lg"><img src="/assets/images/logo-dark.png" alt="" height="17"/></span></a> <a href="index.html" class="logo logo-light"><span class="logo-sm"><img src="/assets/images/logo-sm.png" alt="" height="22"/></span> <span class="logo-lg"><img src="/assets/images/logo-light.png" alt="" height="17"/></span></a>',h,d,f='<span class="hamburger-icon"><span></span> <span></span> <span></span></span>',c,m,w,E,p,_='<button type="button" class="btn btn-icon btn-topbar btn-ghost-secondary rounded-circle light-dark-mode"><i class="bx bx-moon fs-22"></i></button>',I,y,H=`<button type="button" class="btn btn-icon btn-topbar btn-ghost-secondary rounded-circle" id="page-header-notifications-dropdown" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-haspopup="true" aria-expanded="false"><i class="bx bx-bell fs-22"></i> <span class="position-absolute topbar-badge fs-10 translate-middle badge rounded-pill bg-danger">0<span class="visually-hidden">unread messages</span></span></button> <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0" aria-labelledby="page-header-notifications-dropdown"><div class="dropdown-head bg-primary bg-pattern rounded-top"><div class="p-3"><div class="row align-items-center"><div class="col"><h6 class="m-0 fs-16 fw-semibold text-white">Notifications</h6></div> <div class="col-auto dropdown-tabs"><span class="badge bg-light-subtle text-body fs-13">0 New</span></div></div></div> <div class="px-2 pt-2"><ul class="nav nav-tabs dropdown-tabs nav-tabs-custom" data-dropdown-tabs="true" id="notificationItemsTab" role="tablist"><li class="nav-item waves-effect waves-light"><a class="nav-link active" data-bs-toggle="tab" href="#all-noti-tab" role="tab" aria-selected="true">All (0)</a></li> <li class="nav-item waves-effect waves-light"><a class="nav-link" data-bs-toggle="tab" href="#messages-tab" role="tab" aria-selected="false">Messages</a></li> <li class="nav-item waves-effect waves-light"><a class="nav-link" data-bs-toggle="tab" href="#alerts-tab" role="tab" aria-selected="false">Alerts</a></li></ul></div></div> <div class="tab-content position-relative" id="notificationItemsTabContent"><div class="tab-pane fade show active py-2 ps-2" id="all-noti-tab" role="tabpanel"><div data-simplebar="" style="max-height: 300px;" class="pe-2"><div class="my-3 text-center view-all"><button type="button" class="btn btn-soft-success waves-effect waves-light">View
                                        All Notifications <i class="ri-arrow-right-line align-middle"></i></button></div></div></div> <div class="tab-pane fade py-2 ps-2" id="messages-tab" role="tabpanel" aria-labelledby="messages-tab"><div data-simplebar="" style="max-height: 300px;" class="pe-2"><div class="my-3 text-center view-all"><button type="button" class="btn btn-soft-success waves-effect waves-light">View
                                        All Messages <i class="ri-arrow-right-line align-middle"></i></button></div></div></div> <div class="tab-pane fade p-4" id="alerts-tab" role="tabpanel" aria-labelledby="alerts-tab"></div> <div class="notification-actions" id="notification-actions"><div class="d-flex text-muted justify-content-center">Select <div id="select-content" class="text-body fw-semibold px-1">0</div> Result <button type="button" class="btn btn-link link-danger p-0 ms-3" data-bs-toggle="modal" data-bs-target="#removeNotificationModal">Remove</button></div></div></div></div>`,V,S,T,R,C,ie,pe,Y,ee,k=((We=(Je=n[0])==null?void 0:Je.profile)==null?void 0:We.fullname)+"",M,G,x,N=((Ke=(Ye=n[0])==null?void 0:Ye.roles[0])==null?void 0:Ke.name)+"",z,he,K,B,se,ve,te,we=fe.profile[localStorage.getItem("language")]+"",ge,be,U,ae,Ne,ne,Ue=fe.logOut[localStorage.getItem("language")]+"",Ce,Se,Q,Fe='<div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="NotificationModalbtn-close"></button></div> <div class="modal-body"><div class="mt-2 text-center"><lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop" colors="primary:#f7b84b,secondary:#f06548" style="width:100px;height:100px"></lord-icon> <div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5"><h4>Are you sure ?</h4> <p class="text-muted mx-4 mb-0">Are you sure you want to remove this Notification ?</p></div></div> <div class="d-flex gap-2 justify-content-center mt-4 mb-2"><button type="button" class="btn w-sm btn-light" data-bs-dismiss="modal">Close</button> <button type="button" class="btn w-sm btn-danger" id="delete-notification">Yes, Delete It!</button></div></div></div></div>',xe,Ge,j=((Xe=(Qe=n[0])==null?void 0:Qe.roles[0])==null?void 0:Xe.name)=="parent"&&mt(),O=((et=(Ze=n[0])==null?void 0:Ze.roles[0])==null?void 0:et.name)!="parent"&&ft();return{c(){e=v("header"),s=v("div"),t=v("div"),a=v("div"),i=v("div"),i.innerHTML=l,h=D(),d=v("button"),d.innerHTML=f,c=D(),m=v("div"),j&&j.c(),w=D(),O&&O.c(),E=D(),p=v("div"),p.innerHTML=_,I=D(),y=v("div"),y.innerHTML=H,V=D(),S=v("div"),T=v("button"),R=v("span"),C=v("img"),pe=D(),Y=v("span"),ee=v("span"),M=J(k),G=D(),x=v("span"),z=J(N),he=D(),K=v("div"),B=v("a"),se=v("i"),ve=D(),te=v("span"),ge=J(we),be=D(),U=v("a"),ae=v("i"),Ne=D(),ne=v("span"),Ce=J(Ue),Se=D(),Q=v("div"),Q.innerHTML=Fe,this.h()},l(A){e=g(A,"HEADER",{id:!0});var $=b(e);s=g($,"DIV",{class:!0});var le=b(s);t=g(le,"DIV",{class:!0});var re=b(t);a=g(re,"DIV",{class:!0});var oe=b(a);i=g(oe,"DIV",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-krcjp1"&&(i.innerHTML=l),h=L(oe),d=g(oe,"BUTTON",{type:!0,class:!0,id:!0,"data-svelte-h":!0}),X(d)!=="svelte-1s47wo3"&&(d.innerHTML=f),oe.forEach(u),c=L(re),m=g(re,"DIV",{class:!0});var F=b(m);j&&j.l(F),w=L(F),O&&O.l(F),E=L(F),p=g(F,"DIV",{class:!0,"data-svelte-h":!0}),X(p)!=="svelte-14pe8oe"&&(p.innerHTML=_),I=L(F),y=g(F,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),X(y)!=="svelte-1dajnhj"&&(y.innerHTML=H),V=L(F),S=g(F,"DIV",{class:!0});var de=b(S);T=g(de,"BUTTON",{type:!0,class:!0,id:!0,"data-bs-toggle":!0,"aria-haspopup":!0,"aria-expanded":!0});var ye=b(T);R=g(ye,"SPAN",{class:!0});var ce=b(R);C=g(ce,"IMG",{class:!0,src:!0,alt:!0}),pe=L(ce),Y=g(ce,"SPAN",{class:!0});var ue=b(Y);ee=g(ue,"SPAN",{class:!0});var Ee=b(ee);M=W(Ee,k),Ee.forEach(u),G=L(ue),x=g(ue,"SPAN",{class:!0});var Ie=b(x);z=W(Ie,N),Ie.forEach(u),ue.forEach(u),ce.forEach(u),ye.forEach(u),he=L(de),K=g(de,"DIV",{class:!0});var me=b(K);B=g(me,"A",{class:!0,href:!0});var De=b(B);se=g(De,"I",{class:!0}),b(se).forEach(u),ve=L(De),te=g(De,"SPAN",{class:!0});var tt=b(te);ge=W(tt,we),tt.forEach(u),De.forEach(u),be=L(me),U=g(me,"A",{class:!0,href:!0});var Le=b(U);ae=g(Le,"I",{class:!0}),b(ae).forEach(u),Ne=L(Le),ne=g(Le,"SPAN",{class:!0,"data-key":!0});var st=b(ne);Ce=W(st,Ue),st.forEach(u),Le.forEach(u),me.forEach(u),de.forEach(u),F.forEach(u),re.forEach(u),le.forEach(u),$.forEach(u),Se=L(A),Q=g(A,"DIV",{id:!0,class:!0,tabindex:!0,"aria-hidden":!0,"data-svelte-h":!0}),X(Q)!=="svelte-1e5wqtm"&&(Q.innerHTML=Fe),this.h()},h(){var A,$,le;r(i,"class","navbar-brand-box horizontal-logo"),r(d,"type","button"),r(d,"class","btn btn-sm px-3 fs-16 header-item vertical-menu-btn topnav-hamburger"),r(d,"id","topnav-hamburger-icon"),q(d,"d-none",n[0].roles[0].name=="pos"),r(a,"class","d-flex"),r(p,"class","ms-1 header-item d-none d-sm-flex"),r(y,"class","dropdown topbar-head-dropdown ms-1 header-item"),r(y,"id","notificationDropdown"),r(C,"class","rounded-circle header-profile-user"),at(C.src,ie=(le=($=(A=n[0])==null?void 0:A.profile)==null?void 0:$.image)==null?void 0:le.full_path)||r(C,"src",ie),r(C,"alt","Header Avatar"),r(ee,"class","d-none d-xl-inline-block ms-1 fw-medium user-name-text"),r(x,"class","d-none d-xl-block ms-1 fs-12 user-name-sub-text"),r(Y,"class","text-start ms-xl-2"),r(R,"class","d-flex align-items-center"),r(T,"type","button"),r(T,"class","btn"),r(T,"id","page-header-user-dropdown"),r(T,"data-bs-toggle","dropdown"),r(T,"aria-haspopup","true"),r(T,"aria-expanded","false"),r(se,"class","mdi mdi-account-circle text-muted fs-16 align-middle me-1"),r(te,"class","align-middle"),r(B,"class","dropdown-item"),r(B,"href","javascript:void(0);"),r(ae,"class","mdi mdi-logout text-muted fs-16 align-middle me-1"),r(ne,"class","align-middle"),r(ne,"data-key","t-logout"),r(U,"class","dropdown-item"),r(U,"href",""),r(K,"class","dropdown-menu dropdown-menu-end"),r(S,"class","dropdown ms-sm-3 header-item topbar-user"),r(m,"class","d-flex align-items-center"),r(t,"class","navbar-header"),r(s,"class","layout-width"),r(e,"id","page-topbar"),q(e,"start-0",n[0].roles[0].name=="pos"),r(Q,"id","removeNotificationModal"),r(Q,"class","modal fade zoomIn"),r(Q,"tabindex","-1"),r(Q,"aria-hidden","true")},m(A,$){P(A,e,$),o(e,s),o(s,t),o(t,a),o(a,i),o(a,h),o(a,d),o(t,c),o(t,m),j&&j.m(m,null),o(m,w),O&&O.m(m,null),o(m,E),o(m,p),o(m,I),o(m,y),o(m,V),o(m,S),o(S,T),o(T,R),o(R,C),o(R,pe),o(R,Y),o(Y,ee),o(ee,M),o(Y,G),o(Y,x),o(x,z),o(S,he),o(S,K),o(K,B),o(B,se),o(B,ve),o(B,te),o(te,ge),o(K,be),o(K,U),o(U,ae),o(U,Ne),o(U,ne),o(ne,Ce),P(A,Se,$),P(A,Q,$),xe||(Ge=[lt(B,"click",n[2]),lt(U,"click",n[1])],xe=!0)},p(A,[$]){var le,re,oe,F,de,ye,ce,ue,Ee,Ie,me;$&1&&q(d,"d-none",A[0].roles[0].name=="pos"),((re=(le=A[0])==null?void 0:le.roles[0])==null?void 0:re.name)=="parent"?j||(j=mt(),j.c(),j.m(m,w)):j&&(j.d(1),j=null),((F=(oe=A[0])==null?void 0:oe.roles[0])==null?void 0:F.name)!="parent"?O||(O=ft(),O.c(),O.m(m,E)):O&&(O.d(1),O=null),$&1&&!at(C.src,ie=(ce=(ye=(de=A[0])==null?void 0:de.profile)==null?void 0:ye.image)==null?void 0:ce.full_path)&&r(C,"src",ie),$&1&&k!==(k=((Ee=(ue=A[0])==null?void 0:ue.profile)==null?void 0:Ee.fullname)+"")&&Z(M,k),$&1&&N!==(N=((me=(Ie=A[0])==null?void 0:Ie.roles[0])==null?void 0:me.name)+"")&&Z(z,N),$&1&&q(e,"start-0",A[0].roles[0].name=="pos")},i:_e,o:_e,d(A){A&&(u(e),u(Se),u(Q)),j&&j.d(),O&&O.d(),xe=!1,_t(Ge)}}}function $t(n,e,s){let{user:t}=e;async function a(){var h;await fetch(St(),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST"});let l=((h=t==null?void 0:t.roles[0])==null?void 0:h.name)=="parent"?"signin":"admin/signin";window.location.href=`${window.location.origin}/${l}`}async function i(){Dt("/profile")}return n.$$set=l=>{"user"in l&&s(0,t=l.user)},[t,a,i]}class Rt extends Ae{constructor(e){super(),He(this,e,$t,Ot,Pe,{user:0})}}function pt(n){let e,s;return{c(){e=v("li"),s=J(n[2]),this.h()},l(t){e=g(t,"LI",{class:!0});var a=b(e);s=W(a,n[2]),a.forEach(u),this.h()},h(){r(e,"class","breadcrumb-item active")},m(t,a){P(t,e,a),o(e,s)},p(t,a){a&4&&Z(s,t[2])},d(t){t&&u(e)}}}function qt(n){let e,s,t,a,i,l,h,d,f,c,m,w,E,p=n[2]&&pt(n);return{c(){e=v("div"),s=v("div"),t=v("div"),a=v("h4"),i=J(n[0]),l=D(),h=v("div"),d=v("ol"),f=v("li"),c=v("a"),m=J(n[1]),E=D(),p&&p.c(),this.h()},l(_){e=g(_,"DIV",{class:!0});var I=b(e);s=g(I,"DIV",{class:!0});var y=b(s);t=g(y,"DIV",{class:!0});var H=b(t);a=g(H,"H4",{class:!0});var V=b(a);i=W(V,n[0]),V.forEach(u),l=L(H),h=g(H,"DIV",{class:!0});var S=b(h);d=g(S,"OL",{class:!0});var T=b(d);f=g(T,"LI",{class:!0});var R=b(f);c=g(R,"A",{href:!0});var C=b(c);m=W(C,n[1]),C.forEach(u),R.forEach(u),E=L(T),p&&p.l(T),T.forEach(u),S.forEach(u),H.forEach(u),y.forEach(u),I.forEach(u),this.h()},h(){r(a,"class","mb-sm-0"),r(c,"href",w=(n[4].url.pathname.includes("/admin")&&n[3]?"/admin":"")+(n[3]?n[3](n[4].url.pathname):"")),r(f,"class","breadcrumb-item"),r(d,"class","breadcrumb m-0"),r(h,"class","page-title-right"),r(t,"class","page-title-box d-sm-flex align-items-center justify-content-between"),r(s,"class","col-12"),r(e,"class","row")},m(_,I){P(_,e,I),o(e,s),o(s,t),o(t,a),o(a,i),o(t,l),o(t,h),o(h,d),o(d,f),o(f,c),o(c,m),o(d,E),p&&p.m(d,null)},p(_,[I]){I&1&&Z(i,_[0]),I&2&&Z(m,_[1]),I&24&&w!==(w=(_[4].url.pathname.includes("/admin")&&_[3]?"/admin":"")+(_[3]?_[3](_[4].url.pathname):""))&&r(c,"href",w),_[2]?p?p.p(_,I):(p=pt(_),p.c(),p.m(d,null)):p&&(p.d(1),p=null)},i:_e,o:_e,d(_){_&&u(e),p&&p.d()}}}function zt(n,e,s){let t;Be(n,qe,c=>s(4,t=c));let a,i,l,h,{data:d}=e;function f(c){for(const m of Mt){const{path:w,title:E,item:p,active:_,itemHref:I}=m;if(c.match(w))return{title:E,item:p,active:_,itemHref:I}}return null}return qe.subscribe(()=>{if(t.url.pathname=="/admin"||t.url.pathname=="/"){s(0,a="Dashboard"),s(1,i="Dashboard"),s(2,l=null);return}let c=t.url.pathname.replace("/admin",""),m=f(c);m&&(s(0,a=m.title),s(1,i=m.item),s(2,l=m.active),s(3,h=m==null?void 0:m.itemHref))}),n.$$set=c=>{"data"in c&&s(5,d=c.data)},[a,i,l,h,t,d]}class Bt extends Ae{constructor(e){super(),He(this,e,zt,qt,Pe,{data:5})}}function ht(n){let e,s='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=v("div"),e.innerHTML=s,this.h()},l(t){e=g(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1eqlld5"&&(e.innerHTML=s),this.h()},h(){r(e,"class","text-center")},m(t,a){P(t,e,a)},d(t){t&&u(e)}}}function Ut(n){let e,s="";return{c(){e=v("script"),e.innerHTML=s},l(t){e=g(t,"SCRIPT",{"data-svelte-h":!0}),X(e)!=="svelte-20q0fg"&&(e.innerHTML=s)},m(t,a){P(t,e,a)},d(t){t&&u(e)}}}function Ft(n){var R,C,ie,pe,Y,ee;let e,s,t,a,i,l,h,d,f,c,m,w,E,p,_,I,y;s=new Rt({props:{user:n[1]}}),a=new jt({props:{user:n[1]}}),m=new Bt({props:{data:n[0]}});const H=n[4].default,V=kt(H,n,n[3],null);let S=((ie=(C=(R=n[2])==null?void 0:R.from)==null?void 0:C.route)==null?void 0:ie.id)!=((ee=(Y=(pe=n[2])==null?void 0:pe.to)==null?void 0:Y.route)==null?void 0:ee.id)&&n[2]&&ht(),T=Ut();return{c(){e=v("div"),je(s.$$.fragment),t=D(),je(a.$$.fragment),i=D(),l=v("div"),h=D(),d=v("div"),f=v("div"),c=v("div"),je(m.$$.fragment),w=D(),E=v("div"),V&&V.c(),p=D(),S&&S.c(),_=D(),T&&T.c(),I=Ve(),this.h()},l(k){e=g(k,"DIV",{id:!0});var M=b(e);Oe(s.$$.fragment,M),t=L(M),Oe(a.$$.fragment,M),i=L(M),l=g(M,"DIV",{class:!0}),b(l).forEach(u),h=L(M),d=g(M,"DIV",{class:!0});var G=b(d);f=g(G,"DIV",{class:!0});var x=b(f);c=g(x,"DIV",{class:!0});var N=b(c);Oe(m.$$.fragment,N),w=L(N),E=g(N,"DIV",{});var z=b(E);V&&V.l(z),z.forEach(u),p=L(N),S&&S.l(N),N.forEach(u),x.forEach(u),G.forEach(u),M.forEach(u),_=L(k),T&&T.l(k),I=Ve(),this.h()},h(){var k,M,G,x,N,z;r(l,"class","vertical-overlay"),q(E,"d-none",!(n[2]==null||((G=(M=(k=n[2])==null?void 0:k.from)==null?void 0:M.route)==null?void 0:G.id)==((z=(N=(x=n[2])==null?void 0:x.to)==null?void 0:N.route)==null?void 0:z.id))),r(c,"class","container-fluid"),r(f,"class","page-content"),r(d,"class","main-content"),q(d,"ms-0",n[1].roles[0].name=="pos"),r(e,"id","layout-wrapper")},m(k,M){P(k,e,M),$e(s,e,null),o(e,t),$e(a,e,null),o(e,i),o(e,l),o(e,h),o(e,d),o(d,f),o(f,c),$e(m,c,null),o(c,w),o(c,E),V&&V.m(E,null),o(c,p),S&&S.m(c,null),P(k,_,M),T&&T.m(k,M),P(k,I,M),y=!0},p(k,[M]){var z,he,K,B,se,ve,te,we,ge,be,U,ae;const G={};M&2&&(G.user=k[1]),s.$set(G);const x={};M&2&&(x.user=k[1]),a.$set(x);const N={};M&1&&(N.data=k[0]),m.$set(N),V&&V.p&&(!y||M&8)&&wt(V,H,k,k[3],y?Et(H,k[3],M,null):yt(k[3]),null),(!y||M&4)&&q(E,"d-none",!(k[2]==null||((K=(he=(z=k[2])==null?void 0:z.from)==null?void 0:he.route)==null?void 0:K.id)==((ve=(se=(B=k[2])==null?void 0:B.to)==null?void 0:se.route)==null?void 0:ve.id))),((ge=(we=(te=k[2])==null?void 0:te.from)==null?void 0:we.route)==null?void 0:ge.id)!=((ae=(U=(be=k[2])==null?void 0:be.to)==null?void 0:U.route)==null?void 0:ae.id)&&k[2]?S||(S=ht(),S.c(),S.m(c,null)):S&&(S.d(1),S=null),(!y||M&2)&&q(d,"ms-0",k[1].roles[0].name=="pos")},i(k){y||(Me(s.$$.fragment,k),Me(a.$$.fragment,k),Me(m.$$.fragment,k),Me(V,k),y=!0)},o(k){Te(s.$$.fragment,k),Te(a.$$.fragment,k),Te(m.$$.fragment,k),Te(V,k),y=!1},d(k){k&&(u(e),u(_),u(I)),Re(s),Re(a),Re(m),V&&V.d(k),S&&S.d(),T&&T.d(k)}}}function Gt(n,e,s){let t,a;Be(n,It,d=>s(2,a=d));let{$$slots:i={},$$scope:l}=e,{data:h}=e;return vt(()=>{Lt()}),n.$$set=d=>{"data"in d&&s(0,h=d.data),"$$scope"in d&&s(3,l=d.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1&&s(1,t=h.userResponse.data.user),n.$$.dirty&2){const d=t.roles[0].permissions.map(f=>f.name);sessionStorage.setItem("permissions",JSON.stringify(d))}},[h,t,a,l,i]}class is extends Ae{constructor(e){super(),He(this,e,Gt,Ft,Pe,{data:0})}}export{is as component,ls as universal};
