import{a9 as Ts,D as Ds,Q as Vs,av as Os,aC as Ns,ay as Ms}from"../chunks/paths.29c5142d.js";import{a as al}from"../chunks/auth.82ff8344.js";import{s as yt,f,l as E,a as V,g as h,h as v,m as S,d as i,c as O,j as s,E as Oe,i as A,C as l,T as ml,y as sl,n as me,e as hl,A as oe,B as pe,P as $s,o as rl,z as rt,F as se,R as fs,D as hs,p as Ve,S as gs,Q as ms,G as Ut,k as _t,N as ta,O as la,K as Qe,X as aa,I as Cs,H as Ls,J as Ps}from"../chunks/scheduler.726ac76d.js";import{S as Tt,i as Dt,b as Se,d as we,m as ke,a as fe,t as he,e as ye,g as _s,c as vs,h as ps,f as As}from"../chunks/index.8a5ed380.js";import{e as Bt,u as Hs,o as js}from"../chunks/each.381f634d.js";import{w as Bs}from"../chunks/singletons.df66ea99.js";import"../chunks/paths.7846b4ff.js";import{p as Us}from"../chunks/stores.1008b3f8.js";import{t as P}from"../chunks/translation.098a1f9d.js";import{D as qs}from"../chunks/DeleteStudentModal.27ddd880.js";import{f as gl,c as bs,g as Is,i as Rs}from"../chunks/utils.5f096ebf.js";import{V as kt}from"../chunks/ViewRow.487fb326.js";import{Q as Gs,p as Fs}from"../chunks/print.92311ca4.js";import"../chunks/index.93323930.js";import{t as zs}from"../chunks/toast.aca1940a.js";import{g as Es,a as Ss}from"../chunks/spread.8a54911c.js";import{M as ws,a as ks}from"../chunks/ModalPagination.ba1b79f6.js";import{A as Qs}from"../chunks/Accordion.adfb252c.js";import{i as Ws}from"../chunks/initToolTip.b2308c6a.js";import{f as Ys}from"../chunks/index.955fed47.js";const Js=!1;async function Xs({fetch:n,url:e,depends:t}){t("students:refresh");let o=await n(Ts(Ds(e),"parent",{}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return al(o),{studentsResponse:await o.json(),tabTitle:"Students",arTabTitle:"الطلاب"}}const no=Object.freeze(Object.defineProperty({__proto__:null,load:Xs,ssr:Js},Symbol.toStringTag,{value:"Module"}));function Ks(n){var u;let e=P.theName[localStorage.getItem("language")]+"",t,o,a,r=((u=n[0])==null?void 0:u.fullname)+"",c;return{c(){t=E(e),o=E(" : "),a=f("span"),c=E(r),this.h()},l(d){t=S(d,e),o=S(d," : "),a=h(d,"SPAN",{class:!0});var g=v(a);c=S(g,r),g.forEach(i),this.h()},h(){s(a,"class","fw-normal")},m(d,g){A(d,t,g),A(d,o,g),A(d,a,g),l(a,c)},p(d,g){var I;g&1&&r!==(r=((I=d[0])==null?void 0:I.fullname)+"")&&me(c,r)},d(d){d&&(i(t),i(o),i(a))}}}function Zs(n){let e,t=P.notSubscribed[localStorage.getItem("language")]+"",o;return{c(){e=f("span"),o=E(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","badge bg-danger-subtle text-danger")},m(a,r){A(a,e,r),l(e,o)},p:oe,d(a){a&&i(e)}}}function xs(n){let e,t=P.subscribed[localStorage.getItem("language")]+"",o;return{c(){e=f("span"),o=E(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","badge bg-success-subtle text-success")},m(a,r){A(a,e,r),l(e,o)},p:oe,d(a){a&&i(e)}}}function er(n){let e=P.status[localStorage.getItem("language")]+"",t,o,a;function r(d,g){var I;return(I=d[0])!=null&&I.subscribed?xs:Zs}let c=r(n),u=c(n);return{c(){t=E(e),o=E(" :         "),u.c(),a=hl()},l(d){t=S(d,e),o=S(d," :         "),u.l(d),a=hl()},m(d,g){A(d,t,g),A(d,o,g),u.m(d,g),A(d,a,g)},p(d,g){c===(c=r(d))&&u?u.p(d,g):(u.d(1),u=c(d),u&&(u.c(),u.m(a.parentNode,a)))},d(d){d&&(i(t),i(o),i(a)),u.d(d)}}}function tr(n){var g,I;let e=P.school[localStorage.getItem("language")]+"",t,o,a,r,c,u=((I=(g=n[0])==null?void 0:g.school)==null?void 0:I.name)+"",d;return{c(){t=E(e),o=E(` :      
                            `),a=f("img"),c=V(),d=E(u),this.h()},l(m){t=S(m,e),o=S(m,` :      
                            `),a=h(m,"IMG",{src:!0,alt:!0,class:!0}),c=O(m),d=S(m,u),this.h()},h(){var m,_,p;Oe(a.src,r=(p=(_=(m=n[0])==null?void 0:m.school)==null?void 0:_.logo)==null?void 0:p.full_path)||s(a,"src",r),s(a,"alt",""),s(a,"class","avatar-xs rounded-circle")},m(m,_){A(m,t,_),A(m,o,_),A(m,a,_),A(m,c,_),A(m,d,_)},p(m,_){var p,y,U,k,j;_&1&&!Oe(a.src,r=(U=(y=(p=m[0])==null?void 0:p.school)==null?void 0:y.logo)==null?void 0:U.full_path)&&s(a,"src",r),_&1&&u!==(u=((j=(k=m[0])==null?void 0:k.school)==null?void 0:j.name)+"")&&me(d,u)},d(m){m&&(i(t),i(o),i(a),i(c),i(d))}}}function lr(n){let e=P.class[localStorage.getItem("language")]+"",t,o,a,r=n[0].class+"",c;return{c(){t=E(e),o=E(" : "),a=f("span"),c=E(r),this.h()},l(u){t=S(u,e),o=S(u," : "),a=h(u,"SPAN",{class:!0});var d=v(a);c=S(d,r),d.forEach(i),this.h()},h(){s(a,"class","fw-normal")},m(u,d){A(u,t,d),A(u,o,d),A(u,a,d),l(a,c)},p(u,d){d&1&&r!==(r=u[0].class+"")&&me(c,r)},d(u){u&&(i(t),i(o),i(a))}}}function ar(n){let e=P.className[localStorage.getItem("language")]+"",t,o,a,r=(localStorage.getItem("language")=="ar"?n[0].classNameAr:n[0].className)+"",c;return{c(){t=E(e),o=E(" : "),a=f("span"),c=E(r),this.h()},l(u){t=S(u,e),o=S(u," : "),a=h(u,"SPAN",{class:!0});var d=v(a);c=S(d,r),d.forEach(i),this.h()},h(){s(a,"class","fw-normal")},m(u,d){A(u,t,d),A(u,o,d),A(u,a,d),l(a,c)},p(u,d){d&1&&r!==(r=(localStorage.getItem("language")=="ar"?u[0].classNameAr:u[0].className)+"")&&me(c,r)},d(u){u&&(i(t),i(o),i(a))}}}function sr(n){let e=P.createdAt[localStorage.getItem("language")]+"",t,o,a,r=gl(n[0].created_at)+"",c;return{c(){t=E(e),o=E(" : "),a=f("span"),c=E(r),this.h()},l(u){t=S(u,e),o=S(u," : "),a=h(u,"SPAN",{class:!0});var d=v(a);c=S(d,r),d.forEach(i),this.h()},h(){s(a,"class","fw-normal")},m(u,d){A(u,t,d),A(u,o,d),A(u,a,d),l(a,c)},p(u,d){d&1&&r!==(r=gl(u[0].created_at)+"")&&me(c,r)},d(u){u&&(i(t),i(o),i(a))}}}function rr(n){let e=P.updatedAt[localStorage.getItem("language")]+"",t,o,a,r=gl(n[0].updated_at)+"",c;return{c(){t=E(e),o=E(" : "),a=f("span"),c=E(r),this.h()},l(u){t=S(u,e),o=S(u," : "),a=h(u,"SPAN",{class:!0});var d=v(a);c=S(d,r),d.forEach(i),this.h()},h(){s(a,"class","fw-normal")},m(u,d){A(u,t,d),A(u,o,d),A(u,a,d),l(a,c)},p(u,d){d&1&&r!==(r=gl(u[0].updated_at)+"")&&me(c,r)},d(u){u&&(i(t),i(o),i(a))}}}function or(n){let e,t,o,a,r,c=P.viewStudent[localStorage.getItem("language")]+"",u,d,g,I,m,_,p,y,U,k,j,$,H,q,C,M,Q,z,N,R,B,b,w,T,D=P.close[localStorage.getItem("language")]+"",G,J;return U=new kt({props:{$$slots:{default:[Ks]},$$scope:{ctx:n}}}),j=new kt({props:{$$slots:{default:[er]},$$scope:{ctx:n}}}),H=new kt({props:{$$slots:{default:[tr]},$$scope:{ctx:n}}}),C=new kt({props:{$$slots:{default:[lr]},$$scope:{ctx:n}}}),Q=new kt({props:{$$slots:{default:[ar]},$$scope:{ctx:n}}}),N=new kt({props:{$$slots:{default:[sr]},$$scope:{ctx:n}}}),B=new kt({props:{$$slots:{default:[rr]},$$scope:{ctx:n}}}),{c(){e=f("div"),t=f("div"),o=f("div"),a=f("div"),r=f("h5"),u=E(c),d=V(),g=f("button"),I=V(),m=f("div"),_=f("img"),y=V(),Se(U.$$.fragment),k=V(),Se(j.$$.fragment),$=V(),Se(H.$$.fragment),q=V(),Se(C.$$.fragment),M=V(),Se(Q.$$.fragment),z=V(),Se(N.$$.fragment),R=V(),Se(B.$$.fragment),b=V(),w=f("div"),T=f("button"),G=E(D),this.h()},l(W){e=h(W,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var F=v(e);t=h(F,"DIV",{class:!0});var ee=v(t);o=h(ee,"DIV",{class:!0});var te=v(o);a=h(te,"DIV",{class:!0});var L=v(a);r=h(L,"H5",{class:!0,id:!0});var X=v(r);u=S(X,c),X.forEach(i),d=O(L),g=h(L,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),v(g).forEach(i),L.forEach(i),I=O(te),m=h(te,"DIV",{class:!0});var K=v(m);_=h(K,"IMG",{class:!0,alt:!0,width:!0,src:!0}),y=O(K),we(U.$$.fragment,K),k=O(K),we(j.$$.fragment,K),$=O(K),we(H.$$.fragment,K),q=O(K),we(C.$$.fragment,K),M=O(K),we(Q.$$.fragment,K),z=O(K),we(N.$$.fragment,K),R=O(K),we(B.$$.fragment,K),b=O(K),w=h(K,"DIV",{class:!0});var Y=v(w);T=h(Y,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var ae=v(T);G=S(ae,D),ae.forEach(i),Y.forEach(i),K.forEach(i),te.forEach(i),ee.forEach(i),F.forEach(i),this.h()},h(){var W,F;s(r,"class","modal-title"),s(r,"id","exampleModalgridLabel"),s(g,"type","button"),s(g,"class","btn-close"),s(g,"data-bs-dismiss","modal"),s(g,"aria-label","Close"),s(a,"class","modal-header"),s(_,"class","rounded avatar-xl mb-3 object-fit-cover"),s(_,"alt","Student image"),s(_,"width","200"),Oe(_.src,p=(F=(W=n[0])==null?void 0:W.image)==null?void 0:F.full_path)||s(_,"src",p),s(T,"type","button"),s(T,"class","btn btn-light fw-light"),s(T,"data-bs-dismiss","modal"),s(w,"class","hstack gap-2 justify-content-end"),s(m,"class","modal-body p-4"),s(o,"class","modal-content"),s(t,"class","modal-dialog modal-dialog-centered"),s(e,"class","modal fade"),s(e,"id","viewStudentModal"),s(e,"tabindex","-1"),s(e,"aria-labelledby","exampleModalgridLabel"),s(e,"aria-modal","true")},m(W,F){A(W,e,F),l(e,t),l(t,o),l(o,a),l(a,r),l(r,u),l(a,d),l(a,g),l(o,I),l(o,m),l(m,_),l(m,y),ke(U,m,null),l(m,k),ke(j,m,null),l(m,$),ke(H,m,null),l(m,q),ke(C,m,null),l(m,M),ke(Q,m,null),l(m,z),ke(N,m,null),l(m,R),ke(B,m,null),l(m,b),l(m,w),l(w,T),l(T,G),J=!0},p(W,[F]){var Z,re;(!J||F&1&&!Oe(_.src,p=(re=(Z=W[0])==null?void 0:Z.image)==null?void 0:re.full_path))&&s(_,"src",p);const ee={};F&5&&(ee.$$scope={dirty:F,ctx:W}),U.$set(ee);const te={};F&5&&(te.$$scope={dirty:F,ctx:W}),j.$set(te);const L={};F&5&&(L.$$scope={dirty:F,ctx:W}),H.$set(L);const X={};F&5&&(X.$$scope={dirty:F,ctx:W}),C.$set(X);const K={};F&5&&(K.$$scope={dirty:F,ctx:W}),Q.$set(K);const Y={};F&5&&(Y.$$scope={dirty:F,ctx:W}),N.$set(Y);const ae={};F&5&&(ae.$$scope={dirty:F,ctx:W}),B.$set(ae)},i(W){J||(fe(U.$$.fragment,W),fe(j.$$.fragment,W),fe(H.$$.fragment,W),fe(C.$$.fragment,W),fe(Q.$$.fragment,W),fe(N.$$.fragment,W),fe(B.$$.fragment,W),J=!0)},o(W){he(U.$$.fragment,W),he(j.$$.fragment,W),he(H.$$.fragment,W),he(C.$$.fragment,W),he(Q.$$.fragment,W),he(N.$$.fragment,W),he(B.$$.fragment,W),J=!1},d(W){W&&i(e),ye(U),ye(j),ye(H),ye(C),ye(Q),ye(N),ye(B)}}}function nr(n,e,t){let o,{studentStore:a}=ml("studentStore");return sl(n,a,r=>t(0,o=r)),[o,a]}class ir extends Tt{constructor(e){super(),Dt(this,e,nr,or,yt,{})}}function ja(n,e,t){const o=n.slice();return o[18]=e[t],o}function Ba(n,e,t){const o=n.slice();return o[18]=e[t],o}function Ua(n){let e,t,o,a,r,c,u,d,g=n[0].id+"",I,m,_,p,y,U,k,j,$,H=n[0].name+"",q,C,M,Q,z='<i class="ri-close-line"></i>',N,R;return{c(){e=f("label"),t=E(n[2]),o=V(),a=f("div"),r=f("table"),c=f("tbody"),u=f("tr"),d=f("th"),I=E(g),m=V(),_=f("th"),p=f("div"),y=f("div"),U=f("img"),j=V(),$=f("div"),q=E(H),C=V(),M=f("th"),Q=f("a"),Q.innerHTML=z,this.h()},l(B){e=h(B,"LABEL",{for:!0,class:!0});var b=v(e);t=S(b,n[2]),b.forEach(i),o=O(B),a=h(B,"DIV",{class:!0});var w=v(a);r=h(w,"TABLE",{class:!0});var T=v(r);c=h(T,"TBODY",{class:!0});var D=v(c);u=h(D,"TR",{class:!0});var G=v(u);d=h(G,"TH",{scope:!0});var J=v(d);I=S(J,g),J.forEach(i),m=O(G),_=h(G,"TH",{scope:!0});var W=v(_);p=h(W,"DIV",{class:!0});var F=v(p);y=h(F,"DIV",{class:!0});var ee=v(y);U=h(ee,"IMG",{src:!0,alt:!0,class:!0}),ee.forEach(i),j=O(F),$=h(F,"DIV",{class:!0});var te=v($);q=S(te,H),te.forEach(i),F.forEach(i),W.forEach(i),C=O(G),M=h(G,"TH",{scope:!0,class:!0});var L=v(M);Q=h(L,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),rt(Q)!=="svelte-ad1dtz"&&(Q.innerHTML=z),L.forEach(i),G.forEach(i),D.forEach(i),T.forEach(i),w.forEach(i),this.h()},h(){s(e,"for","productarName"),s(e,"class","form-label"),s(d,"scope","col"),Oe(U.src,k=n[0].logo.full_path)||s(U,"src",k),s(U,"alt",""),s(U,"class","avatar-xs rounded-circle"),s(y,"class","flex-shrink-0"),s($,"class","flex-grow-1"),s(p,"class","d-flex gap-2 align-items-center"),s(_,"scope","col"),s(Q,"href","javascript:void(0);"),s(Q,"class","fs-15"),s(Q,"data-bs-toggle","tooltip"),s(Q,"data-bs-original-title","Select"),s(M,"scope","col"),s(M,"class","text-center"),s(u,"class","bg-secondary-subtle"),s(c,"class","list align-middle"),s(r,"class","table align-middle table-nowrap mb-0 border-top"),s(a,"class","table-responsive mt-0")},m(B,b){A(B,e,b),l(e,t),A(B,o,b),A(B,a,b),l(a,r),l(r,c),l(c,u),l(u,d),l(d,I),l(u,m),l(u,_),l(_,p),l(p,y),l(y,U),l(p,j),l(p,$),l($,q),l(u,C),l(u,M),l(M,Q),N||(R=se(Q,"click",n[7]),N=!0)},p(B,b){b&4&&me(t,B[2]),b&1&&g!==(g=B[0].id+"")&&me(I,g),b&1&&!Oe(U.src,k=B[0].logo.full_path)&&s(U,"src",k),b&1&&H!==(H=B[0].name+"")&&me(q,H)},d(B){B&&(i(e),i(o),i(a)),N=!1,R()}}}function cr(n){let e,t,o,a,r,c,u,d,g=P.id[localStorage.getItem("language")]+"",I,m,_,p=P.name[localStorage.getItem("language")]+"",y,U,k,j=P.actions[localStorage.getItem("language")]+"",$,H,q,C,M,Q;e=new ws({props:{type:P.school[localStorage.getItem("language")]}}),e.$on("search",n[8]);let z=Bt(n[3]),N=[];for(let b=0;b<z.length;b+=1)N[b]=qa(ja(n,z,b));const R=[n[4]];let B={};for(let b=0;b<R.length;b+=1)B=fs(B,R[b]);return M=new ks({props:B}),M.$on("switchPage",n[9]),{c(){Se(e.$$.fragment),t=V(),o=f("div"),a=f("div"),r=f("table"),c=f("thead"),u=f("tr"),d=f("td"),I=E(g),m=V(),_=f("td"),y=E(p),U=V(),k=f("td"),$=E(j),H=V(),q=f("tbody");for(let b=0;b<N.length;b+=1)N[b].c();C=V(),Se(M.$$.fragment),this.h()},l(b){we(e.$$.fragment,b),t=O(b),o=h(b,"DIV",{class:!0});var w=v(o);a=h(w,"DIV",{class:!0});var T=v(a);r=h(T,"TABLE",{class:!0});var D=v(r);c=h(D,"THEAD",{class:!0});var G=v(c);u=h(G,"TR",{scope:!0});var J=v(u);d=h(J,"TD",{scope:!0});var W=v(d);I=S(W,g),W.forEach(i),m=O(J),_=h(J,"TD",{scope:!0});var F=v(_);y=S(F,p),F.forEach(i),U=O(J),k=h(J,"TD",{scope:!0});var ee=v(k);$=S(ee,j),ee.forEach(i),J.forEach(i),G.forEach(i),H=O(D),q=h(D,"TBODY",{class:!0});var te=v(q);for(let L=0;L<N.length;L+=1)N[L].l(te);te.forEach(i),D.forEach(i),T.forEach(i),w.forEach(i),C=O(b),we(M.$$.fragment,b),this.h()},h(){s(d,"scope","col"),s(_,"scope","col"),s(k,"scope","col"),s(u,"scope","row"),s(c,"class","table-light"),s(q,"class","list"),s(r,"class","table align-middle table-nowrap mb-0 border-top"),s(a,"class","table-responsive"),s(o,"class","row pe-0")},m(b,w){ke(e,b,w),A(b,t,w),A(b,o,w),l(o,a),l(a,r),l(r,c),l(c,u),l(u,d),l(d,I),l(u,m),l(u,_),l(_,y),l(u,U),l(u,k),l(k,$),l(r,H),l(r,q);for(let T=0;T<N.length;T+=1)N[T]&&N[T].m(q,null);A(b,C,w),ke(M,b,w),Q=!0},p(b,w){if(w&73){z=Bt(b[3]);let D;for(D=0;D<z.length;D+=1){const G=ja(b,z,D);N[D]?N[D].p(G,w):(N[D]=qa(G),N[D].c(),N[D].m(q,null))}for(;D<N.length;D+=1)N[D].d(1);N.length=z.length}const T=w&16?Es(R,[Ss(b[4])]):{};M.$set(T)},i(b){Q||(fe(e.$$.fragment,b),fe(M.$$.fragment,b),Q=!0)},o(b){he(e.$$.fragment,b),he(M.$$.fragment,b),Q=!1},d(b){b&&(i(t),i(o),i(C)),ye(e,b),hs(N,b),ye(M,b)}}}function ur(n){let e,t,o;function a(c){n[12](c)}let r={id:"school",title:n[2],$$slots:{default:[dr]},$$scope:{ctx:n}};return n[5]!==void 0&&(r.openCollapse=n[5]),e=new Qs({props:r}),Ve.push(()=>ps(e,"openCollapse",a)),{c(){Se(e.$$.fragment)},l(c){we(e.$$.fragment,c)},m(c,u){ke(e,c,u),o=!0},p(c,u){const d={};u&4&&(d.title=c[2]),u&8388633&&(d.$$scope={dirty:u,ctx:c}),!t&&u&32&&(t=!0,d.openCollapse=c[5],gs(()=>t=!1)),e.$set(d)},i(c){o||(fe(e.$$.fragment,c),o=!0)},o(c){he(e.$$.fragment,c),o=!1},d(c){ye(e,c)}}}function qa(n){let e,t,o=n[18].id+"",a,r,c,u,d,g,I,m,_,p=n[18].name+"",y,U,k,j,$,H='<i class="ri-check-line"></i>',q,C,M;function Q(){return n[13](n[18])}return{c(){e=f("tr"),t=f("td"),a=E(o),r=V(),c=f("td"),u=f("div"),d=f("div"),g=f("img"),m=V(),_=f("div"),y=E(p),U=V(),k=f("td"),j=f("div"),$=f("a"),$.innerHTML=H,q=V(),this.h()},l(z){e=h(z,"TR",{scope:!0});var N=v(e);t=h(N,"TD",{});var R=v(t);a=S(R,o),R.forEach(i),r=O(N),c=h(N,"TD",{});var B=v(c);u=h(B,"DIV",{class:!0});var b=v(u);d=h(b,"DIV",{class:!0});var w=v(d);g=h(w,"IMG",{src:!0,alt:!0,class:!0}),w.forEach(i),m=O(b),_=h(b,"DIV",{class:!0});var T=v(_);y=S(T,p),T.forEach(i),b.forEach(i),B.forEach(i),U=O(N),k=h(N,"TD",{});var D=v(k);j=h(D,"DIV",{class:!0});var G=v(j);$=h(G,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),rt($)!=="svelte-1o4icwl"&&($.innerHTML=H),G.forEach(i),D.forEach(i),q=O(N),N.forEach(i),this.h()},h(){var z;Oe(g.src,I=n[18].logo.full_path)||s(g,"src",I),s(g,"alt",""),s(g,"class","avatar-xs rounded-circle"),s(d,"class","flex-shrink-0"),s(_,"class","flex-grow-1"),s(u,"class","d-flex gap-2 align-items-center"),s($,"href","javascript:void(0);"),s($,"class","fs-15"),s($,"data-bs-toggle","tooltip"),s($,"data-bs-original-title","Select"),s(j,"class","hstack gap-3 flex-wrap"),s(e,"scope","row"),pe(e,"bg-secondary-subtle",n[18].id==((z=n[0])==null?void 0:z.id))},m(z,N){A(z,e,N),l(e,t),l(t,a),l(e,r),l(e,c),l(c,u),l(u,d),l(d,g),l(u,m),l(u,_),l(_,y),l(e,U),l(e,k),l(k,j),l(j,$),l(e,q),C||(M=se($,"click",Q),C=!0)},p(z,N){var R;n=z,N&8&&o!==(o=n[18].id+"")&&me(a,o),N&8&&!Oe(g.src,I=n[18].logo.full_path)&&s(g,"src",I),N&8&&p!==(p=n[18].name+"")&&me(y,p),N&9&&pe(e,"bg-secondary-subtle",n[18].id==((R=n[0])==null?void 0:R.id))},d(z){z&&i(e),C=!1,M()}}}function Ra(n){let e,t,o=n[18].id+"",a,r,c,u,d,g,I,m,_,p=n[18].name+"",y,U,k,j,$,H='<i class="ri-check-line"></i>',q,C,M;function Q(){return n[11](n[18])}return{c(){e=f("tr"),t=f("td"),a=E(o),r=V(),c=f("td"),u=f("div"),d=f("div"),g=f("img"),m=V(),_=f("div"),y=E(p),U=V(),k=f("td"),j=f("div"),$=f("a"),$.innerHTML=H,q=V(),this.h()},l(z){e=h(z,"TR",{scope:!0});var N=v(e);t=h(N,"TD",{});var R=v(t);a=S(R,o),R.forEach(i),r=O(N),c=h(N,"TD",{});var B=v(c);u=h(B,"DIV",{class:!0});var b=v(u);d=h(b,"DIV",{class:!0});var w=v(d);g=h(w,"IMG",{src:!0,alt:!0,class:!0}),w.forEach(i),m=O(b),_=h(b,"DIV",{class:!0});var T=v(_);y=S(T,p),T.forEach(i),b.forEach(i),B.forEach(i),U=O(N),k=h(N,"TD",{});var D=v(k);j=h(D,"DIV",{class:!0});var G=v(j);$=h(G,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),rt($)!=="svelte-1o4icwl"&&($.innerHTML=H),G.forEach(i),D.forEach(i),q=O(N),N.forEach(i),this.h()},h(){var z;Oe(g.src,I=n[18].logo.full_path)||s(g,"src",I),s(g,"alt",""),s(g,"class","avatar-xs rounded-circle"),s(d,"class","flex-shrink-0"),s(_,"class","flex-grow-1"),s(u,"class","d-flex gap-2 align-items-center"),s($,"href","javascript:void(0);"),s($,"class","fs-15"),s($,"data-bs-toggle","tooltip"),s($,"data-bs-original-title","Select"),s(j,"class","hstack gap-3 flex-wrap"),s(e,"scope","row"),pe(e,"bg-secondary-subtle",n[18].id==((z=n[0])==null?void 0:z.id))},m(z,N){A(z,e,N),l(e,t),l(t,a),l(e,r),l(e,c),l(c,u),l(u,d),l(d,g),l(u,m),l(u,_),l(_,y),l(e,U),l(e,k),l(k,j),l(j,$),l(e,q),C||(M=se($,"click",Q),C=!0)},p(z,N){var R;n=z,N&8&&o!==(o=n[18].id+"")&&me(a,o),N&8&&!Oe(g.src,I=n[18].logo.full_path)&&s(g,"src",I),N&8&&p!==(p=n[18].name+"")&&me(y,p),N&9&&pe(e,"bg-secondary-subtle",n[18].id==((R=n[0])==null?void 0:R.id))},d(z){z&&i(e),C=!1,M()}}}function dr(n){let e,t,o,a,r,c,u,d,g=P.id[localStorage.getItem("language")]+"",I,m,_,p=P.name[localStorage.getItem("language")]+"",y,U,k,j=P.actions[localStorage.getItem("language")]+"",$,H,q,C,M,Q;e=new ws({props:{type:P.school[localStorage.getItem("language")]}}),e.$on("search",n[8]);let z=Bt(n[3]),N=[];for(let b=0;b<z.length;b+=1)N[b]=Ra(Ba(n,z,b));const R=[n[4]];let B={};for(let b=0;b<R.length;b+=1)B=fs(B,R[b]);return M=new ks({props:B}),M.$on("switchPage",n[9]),{c(){Se(e.$$.fragment),t=V(),o=f("div"),a=f("div"),r=f("table"),c=f("thead"),u=f("tr"),d=f("td"),I=E(g),m=V(),_=f("td"),y=E(p),U=V(),k=f("td"),$=E(j),H=V(),q=f("tbody");for(let b=0;b<N.length;b+=1)N[b].c();C=V(),Se(M.$$.fragment),this.h()},l(b){we(e.$$.fragment,b),t=O(b),o=h(b,"DIV",{class:!0});var w=v(o);a=h(w,"DIV",{class:!0});var T=v(a);r=h(T,"TABLE",{class:!0});var D=v(r);c=h(D,"THEAD",{class:!0});var G=v(c);u=h(G,"TR",{scope:!0});var J=v(u);d=h(J,"TD",{scope:!0});var W=v(d);I=S(W,g),W.forEach(i),m=O(J),_=h(J,"TD",{scope:!0});var F=v(_);y=S(F,p),F.forEach(i),U=O(J),k=h(J,"TD",{scope:!0});var ee=v(k);$=S(ee,j),ee.forEach(i),J.forEach(i),G.forEach(i),H=O(D),q=h(D,"TBODY",{class:!0});var te=v(q);for(let L=0;L<N.length;L+=1)N[L].l(te);te.forEach(i),D.forEach(i),T.forEach(i),w.forEach(i),C=O(b),we(M.$$.fragment,b),this.h()},h(){s(d,"scope","col"),s(_,"scope","col"),s(k,"scope","col"),s(u,"scope","row"),s(c,"class","table-light"),s(q,"class","list"),s(r,"class","table align-middle table-nowrap mb-0 border-top"),s(a,"class","table-responsive"),s(o,"class","row pe-0")},m(b,w){ke(e,b,w),A(b,t,w),A(b,o,w),l(o,a),l(a,r),l(r,c),l(c,u),l(u,d),l(d,I),l(u,m),l(u,_),l(_,y),l(u,U),l(u,k),l(k,$),l(r,H),l(r,q);for(let T=0;T<N.length;T+=1)N[T]&&N[T].m(q,null);A(b,C,w),ke(M,b,w),Q=!0},p(b,w){if(w&73){z=Bt(b[3]);let D;for(D=0;D<z.length;D+=1){const G=Ba(b,z,D);N[D]?N[D].p(G,w):(N[D]=Ra(G),N[D].c(),N[D].m(q,null))}for(;D<N.length;D+=1)N[D].d(1);N.length=z.length}const T=w&16?Es(R,[Ss(b[4])]):{};M.$set(T)},i(b){Q||(fe(e.$$.fragment,b),fe(M.$$.fragment,b),Q=!0)},o(b){he(e.$$.fragment,b),he(M.$$.fragment,b),Q=!1},d(b){b&&(i(t),i(o),i(C)),ye(e,b),hs(N,b),ye(M,b)}}}function fr(n){var I;let e,t,o,a,r,c=((I=n[0])==null?void 0:I.id)&&Ua(n);const u=[ur,cr],d=[];function g(m,_){return m[1]?0:1}return o=g(n),a=d[o]=u[o](n),{c(){c&&c.c(),e=V(),t=f("div"),a.c(),this.h()},l(m){c&&c.l(m),e=O(m),t=h(m,"DIV",{});var _=v(t);a.l(_),_.forEach(i),this.h()},h(){var m;pe(t,"d-none",((m=n[0])==null?void 0:m.id)!=null)},m(m,_){c&&c.m(m,_),A(m,e,_),A(m,t,_),d[o].m(t,null),r=!0},p(m,[_]){var y,U;(y=m[0])!=null&&y.id?c?c.p(m,_):(c=Ua(m),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null);let p=o;o=g(m),o===p?d[o].p(m,_):(_s(),he(d[p],1,1,()=>{d[p]=null}),vs(),a=d[o],a?a.p(m,_):(a=d[o]=u[o](m),a.c()),fe(a,1),a.m(t,null)),(!r||_&1)&&pe(t,"d-none",((U=m[0])==null?void 0:U.id)!=null)},i(m){r||(fe(a),r=!0)},o(m){he(a),r=!1},d(m){m&&(i(e),i(t)),c&&c.d(m),d[o].d()}}}function hr(n,e,t){const o=$s();let a=[],r,c=1,u="",{selected:d={}}=e,{collapse:g}=e,{title:I}=e,m;async function _(){let C=await fetch(Vs({page:c,search:u},"parent"),{headers:{Authorization:`${localStorage.getItem("SID")}`}});al(C);let M=await C.json();t(3,a=M.data),t(4,r=M.pagination)}rl(()=>{_()});function p(C){t(0,d=C),o("select",{schoolId:d.id})}function y(){t(0,d={}),o("select",{schoolId:""}),m()}function U(C){c=1,u=C.detail.searchQuery,_()}function k(C){c=C.detail.page,_()}function j(){t(0,d={})}const $=C=>p(C);function H(C){m=C,t(5,m)}const q=C=>p(C);return n.$$set=C=>{"selected"in C&&t(0,d=C.selected),"collapse"in C&&t(1,g=C.collapse),"title"in C&&t(2,I=C.title)},[d,g,I,a,r,m,p,y,U,k,j,$,H,q]}class gr extends Tt{constructor(e){super(),Dt(this,e,hr,fr,yt,{selected:0,collapse:1,title:2,resetSchool:10})}get resetSchool(){return this.$$.ctx[10]}}function Ga(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=t,this.h()},l(o){e=h(o,"DIV",{class:!0,"data-svelte-h":!0}),rt(e)!=="svelte-1eqlld5"&&(e.innerHTML=t),this.h()},h(){s(e,"class","text-center")},m(o,a){A(o,e,a)},d(o){o&&i(e)}}}function mr(n){let e,t,o=P.picGuideUpload[localStorage.getItem("language")]+"",a,r,c,u=P.studentImage[localStorage.getItem("language")]+"",d,g,I;return{c(){e=f("div"),t=new ta(!1),a=V(),r=f("div"),c=f("label"),d=E(u),g=V(),I=f("input"),this.h()},l(m){e=h(m,"DIV",{class:!0,role:!0});var _=v(e);t=la(_,!1),_.forEach(i),a=O(m),r=h(m,"DIV",{class:!0});var p=v(r);c=h(p,"LABEL",{for:!0,class:!0});var y=v(c);d=S(y,u),y.forEach(i),g=O(p),I=h(p,"INPUT",{class:!0,name:!0,type:!0,id:!0}),p.forEach(i),this.h()},h(){t.a=null,s(e,"class","alert alert-info alert-border-left alert-dismissible fade show"),s(e,"role","alert"),s(c,"for","formFile"),s(c,"class","form-label"),s(I,"class","form-control"),s(I,"name","file"),s(I,"type","file"),s(I,"id","formFile"),s(r,"class","svelte-ae9qa3"),pe(r,"none",!n[4])},m(m,_){A(m,e,_),t.m(o,e),A(m,a,_),A(m,r,_),l(r,c),l(c,d),l(r,g),l(r,I)},p(m,_){_[0]&16&&pe(r,"none",!m[4])},d(m){m&&(i(e),i(a),i(r))}}}function _r(n){let e,t,o=P.picGuideCamera[localStorage.getItem("language")]+"",a,r;function c(g,I){return g[11]?br:g[10]?pr:vr}let u=c(n),d=u(n);return{c(){e=f("div"),t=new ta(!1),a=V(),r=f("div"),d.c(),this.h()},l(g){e=h(g,"DIV",{class:!0,role:!0});var I=v(e);t=la(I,!1),I.forEach(i),a=O(g),r=h(g,"DIV",{class:!0});var m=v(r);d.l(m),m.forEach(i),this.h()},h(){t.a=null,s(e,"class","alert alert-info alert-border-left alert-dismissible fade show"),s(e,"role","alert"),s(r,"class","svelte-ae9qa3"),pe(r,"none",!n[4])},m(g,I){A(g,e,I),t.m(o,e),A(g,a,I),A(g,r,I),d.m(r,null)},p(g,I){u===(u=c(g))&&d?d.p(g,I):(d.d(1),d=u(g),d&&(d.c(),d.m(r,null))),I[0]&16&&pe(r,"none",!g[4])},d(g){g&&(i(e),i(a),i(r)),d.d()}}}function vr(n){let e,t=P.launchCamera[localStorage.getItem("language")]+"",o,a,r;return{c(){e=f("button"),o=E(t),this.h()},l(c){e=h(c,"BUTTON",{type:!0,class:!0});var u=v(e);o=S(u,t),u.forEach(i),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-primary waves-effect waves-light")},m(c,u){A(c,e,u),l(e,o),a||(r=se(e,"click",n[21]),a=!0)},p:oe,d(c){c&&i(e),a=!1,r()}}}function pr(n){let e,t=P.stopCamera[localStorage.getItem("language")]+"",o,a,r;return{c(){e=f("button"),o=E(t),this.h()},l(c){e=h(c,"BUTTON",{type:!0,class:!0});var u=v(e);o=S(u,t),u.forEach(i),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-danger waves-effect waves-light")},m(c,u){A(c,e,u),l(e,o),a||(r=se(e,"click",n[22]),a=!0)},p:oe,d(c){c&&i(e),a=!1,r()}}}function br(n){let e,t=P.takeAnother[localStorage.getItem("language")]+"",o,a,r;return{c(){e=f("button"),o=E(t),this.h()},l(c){e=h(c,"BUTTON",{type:!0,class:!0});var u=v(e);o=S(u,t),u.forEach(i),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-success waves-effect waves-light")},m(c,u){A(c,e,u),l(e,o),a||(r=se(e,"click",n[19]),a=!0)},p:oe,d(c){c&&i(e),a=!1,r()}}}function Fa(n){var I;let e,t,o,a,r,c,u,d,g=((I=n[5])==null?void 0:I.srcObject)&&za(n);return{c(){e=f("div"),t=f("div"),o=f("video"),a=V(),g&&g.c(),r=V(),c=f("canvas"),this.h()},l(m){e=h(m,"DIV",{});var _=v(e);t=h(_,"DIV",{id:!0});var p=v(t);o=h(p,"VIDEO",{id:!0,class:!0}),v(o).forEach(i),a=O(p),g&&g.l(p),p.forEach(i),r=O(_),c=h(_,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),v(c).forEach(i),_.forEach(i),this.h()},h(){s(o,"id","video"),o.autoplay=!0,s(o,"class","svelte-ae9qa3"),s(t,"id","video-container"),s(c,"id","canvas"),s(c,"width","400"),s(c,"height","400"),s(c,"class","svelte-ae9qa3")},m(m,_){A(m,e,_),l(e,t),l(t,o),n[27](o),l(t,a),g&&g.m(t,null),l(e,r),l(e,c),n[29](c),u||(d=se(o,"playing",n[16]),u=!0)},p(m,_){var p;(p=m[5])!=null&&p.srcObject?g?g.p(m,_):(g=za(m),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(m){m&&i(e),n[27](null),g&&g.d(),n[29](null),u=!1,d()}}}function za(n){let e,t,o,a,r,c='<i class="ri-camera-lens-fill"></i>',u,d,g='<i class="ri-camera-switch-line"></i>',I,m;return{c(){e=f("div"),t=V(),o=f("div"),a=f("div"),r=f("button"),r.innerHTML=c,u=V(),d=f("button"),d.innerHTML=g,this.h()},l(_){e=h(_,"DIV",{class:!0,style:!0}),v(e).forEach(i),t=O(_),o=h(_,"DIV",{class:!0});var p=v(o);a=h(p,"DIV",{class:!0});var y=v(a);r=h(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),rt(r)!=="svelte-bunave"&&(r.innerHTML=c),u=O(y),d=h(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),rt(d)!=="svelte-qnl301"&&(d.innerHTML=g),y.forEach(i),p.forEach(i),this.h()},h(){s(e,"class","square svelte-ae9qa3"),_t(e,"width",n[8]+"px"),_t(e,"height",n[9]+"px"),s(r,"type","button"),s(r,"class","btn btn-lg btn-primary waves-effect waves-light mx-2"),s(d,"type","button"),s(d,"class","btn btn-lg btn-success waves-effect waves-light mx-2"),s(a,"class","camera-btn-group py-4 svelte-ae9qa3"),s(o,"class","camera-btn-container svelte-ae9qa3")},m(_,p){A(_,e,p),n[28](e),A(_,t,p),A(_,o,p),l(o,a),l(a,r),l(a,u),l(a,d),I||(m=[se(r,"click",n[20]),se(d,"click",n[23])],I=!0)},p(_,p){p[0]&256&&_t(e,"width",_[8]+"px"),p[0]&512&&_t(e,"height",_[9]+"px")},d(_){_&&(i(e),i(t),i(o)),n[28](null),I=!1,Ut(m)}}}function Qa(n){let e,t,o;return{c(){e=f("div"),t=f("img"),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);t=h(r,"IMG",{class:!0,alt:!0,width:!0,src:!0}),r.forEach(i),this.h()},h(){s(t,"class","rounded avatar-xl mb-3 object-fit-cover"),s(t,"alt","School logo"),s(t,"width","200"),Oe(t.src,o=n[12])||s(t,"src",o),s(e,"class","svelte-ae9qa3"),pe(e,"none",!n[4])},m(a,r){A(a,e,r),l(e,t)},p(a,r){r[0]&4096&&!Oe(t.src,o=a[12])&&s(t,"src",o),r[0]&16&&pe(e,"none",!a[4])},d(a){a&&i(e)}}}function Wa(n){let e,t,o,a,r,c=P.currentStudentImage[localStorage.getItem("language")]+"",u;return{c(){e=f("figure"),t=f("img"),a=V(),r=f("figcaption"),u=E(c),this.h()},l(d){e=h(d,"FIGURE",{class:!0});var g=v(e);t=h(g,"IMG",{alt:!0,width:!0,src:!0,class:!0}),a=O(g),r=h(g,"FIGCAPTION",{class:!0});var I=v(r);u=S(I,c),I.forEach(i),g.forEach(i),this.h()},h(){var d,g;s(t,"alt","school logo "),s(t,"width","200"),Oe(t.src,o=(g=(d=n[14])==null?void 0:d.image)==null?void 0:g.full_path)||s(t,"src",o),s(t,"class","figure-img rounded avatar-xl mb-3 object-fit-cover"),s(r,"class","figure-caption"),s(e,"class","figure")},m(d,g){A(d,e,g),l(e,t),l(e,a),l(e,r),l(r,u)},p(d,g){var I,m;g[0]&16384&&!Oe(t.src,o=(m=(I=d[14])==null?void 0:I.image)==null?void 0:m.full_path)&&s(t,"src",o)},d(d){d&&i(e)}}}function Ya(n){let e,t=n[2].file[0]+"",o;return{c(){e=f("strong"),o=E(t),this.h()},l(a){e=h(a,"STRONG",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","text-danger ms-1 my-2")},m(a,r){A(a,e,r),l(e,o)},p(a,r){r[0]&4&&t!==(t=a[2].file[0]+"")&&me(o,t)},d(a){a&&i(e)}}}function Ja(n){return{c:oe,l:oe,m:oe,d:oe}}function Ir(n){var qe;let e,t,o,a,r,c=P.editStudent[localStorage.getItem("language")]+"",u,d,g,I,m,_,p,y,U,k,j,$,H,q,C=P.warning[localStorage.getItem("language")]+"",M,Q,z=P.uploadFace[localStorage.getItem("language")]+"",N,R,B,b,w,T,D,G,J,W=P.useCamera[localStorage.getItem("language")]+"",F,ee,te,L,X,K,Y="",ae,Z,re,_e,Be,Je=P.close[localStorage.getItem("language")]+"",We,Te,ot,ze,Me,nt,ce=n[3]&&Ga();function ct(le,Ee){return le[13]?_r:mr}let be=ct(n),ue=be(n),ne=n[10]&&n[4]&&Fa(n),ie=n[12]&&n[11]&&Qa(n),de=!n[4]&&Wa(n),ve=((qe=n[2])==null?void 0:qe.file)&&Ya(n),Ie=!n[14].subscribed&&Ja();return{c(){e=f("div"),t=f("div"),o=f("div"),a=f("div"),r=f("h5"),u=E(c),d=V(),g=f("button"),I=V(),m=f("div"),_=f("div"),ce&&ce.c(),p=V(),y=f("div"),U=f("form"),k=f("div"),j=f("div"),$=f("i"),H=V(),q=f("strong"),M=E(C),Q=E(" - "),N=E(z),R=V(),B=f("button"),b=V(),w=f("div"),T=f("div"),D=f("input"),G=V(),J=f("label"),F=E(W),ee=V(),ue.c(),te=V(),ne&&ne.c(),L=V(),ie&&ie.c(),X=V(),K=f("div"),K.innerHTML=Y,ae=V(),de&&de.c(),Z=V(),ve&&ve.c(),re=V(),_e=f("div"),Be=f("button"),We=E(Je),Te=V(),Ie&&Ie.c(),ot=V(),ze=f("input"),this.h()},l(le){e=h(le,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var Ee=v(e);t=h(Ee,"DIV",{class:!0});var ut=v(t);o=h(ut,"DIV",{class:!0});var vt=v(o);a=h(vt,"DIV",{class:!0});var ht=v(a);r=h(ht,"H5",{class:!0,id:!0});var Vt=v(r);u=S(Vt,c),Vt.forEach(i),d=O(ht),g=h(ht,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),v(g).forEach(i),ht.forEach(i),I=O(vt),m=h(vt,"DIV",{class:!0});var Re=v(m);_=h(Re,"DIV",{class:!0});var pt=v(_);ce&&ce.l(pt),p=O(pt),y=h(pt,"DIV",{class:!0});var Ot=v(y);U=h(Ot,"FORM",{});var Nt=v(U);k=h(Nt,"DIV",{class:!0});var ge=v(k);j=h(ge,"DIV",{class:!0,role:!0});var Ye=v(j);$=h(Ye,"I",{class:!0}),v($).forEach(i),H=O(Ye),q=h(Ye,"STRONG",{});var Mt=v(q);M=S(Mt,C),Mt.forEach(i),Q=S(Ye," - "),N=S(Ye,z),R=O(Ye),B=h(Ye,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),v(B).forEach(i),Ye.forEach(i),b=O(ge),w=h(ge,"DIV",{class:!0});var Ge=v(w);T=h(Ge,"DIV",{class:!0});var bt=v(T);D=h(bt,"INPUT",{class:!0,type:!0,role:!0,id:!0}),G=O(bt),J=h(bt,"LABEL",{class:!0,for:!0});var $t=v(J);F=S($t,W),$t.forEach(i),bt.forEach(i),Ge.forEach(i),ee=O(ge),ue.l(ge),te=O(ge),ne&&ne.l(ge),L=O(ge),ie&&ie.l(ge),X=O(ge),K=h(ge,"DIV",{class:!0,"data-svelte-h":!0}),rt(K)!=="svelte-hcgumb"&&(K.innerHTML=Y),ae=O(ge),de&&de.l(ge),Z=O(ge),ve&&ve.l(ge),re=O(ge),_e=h(ge,"DIV",{class:!0});var it=v(_e);Be=h(it,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var qt=v(Be);We=S(qt,Je),qt.forEach(i),Te=O(it),Ie&&Ie.l(it),ot=O(it),ze=h(it,"INPUT",{type:!0,class:!0}),it.forEach(i),ge.forEach(i),Nt.forEach(i),Ot.forEach(i),pt.forEach(i),Re.forEach(i),vt.forEach(i),ut.forEach(i),Ee.forEach(i),this.h()},h(){s(r,"class","modal-title"),s(r,"id","exampleModalgridLabel"),s(g,"type","button"),s(g,"class","btn-close"),s(g,"data-bs-dismiss","modal"),s(g,"aria-label","Close"),s(a,"class","modal-header"),s($,"class","ri-alert-line me-3 align-middle"),s(B,"type","button"),s(B,"class","btn-close"),s(B,"data-bs-dismiss","alert"),s(B,"aria-label","Close"),s(j,"class","alert alert-warning alert-border-left alert-dismissible fade show"),s(j,"role","alert"),s(D,"class","form-check-input"),s(D,"type","checkbox"),s(D,"role","switch"),s(D,"id","SwitchCheck1"),s(J,"class","form-check-label"),s(J,"for","SwitchCheck1"),s(T,"class","form-check form-switch col"),s(w,"class","row ps-3 g-3 svelte-ae9qa3"),pe(w,"none",!n[4]),s(K,"class","svelte-ae9qa3"),pe(K,"none",!n[4]),s(Be,"type","button"),s(Be,"class","btn btn-light fw-light"),s(Be,"data-bs-dismiss","modal"),s(ze,"type","submit"),s(ze,"class","btn btn-primary waves-effect waves-light"),ze.value=P.save[localStorage.getItem("language")],s(_e,"class","hstack gap-2 justify-content-end"),s(k,"class","row g-3"),s(y,"class","row g-3"),pe(y,"d-none",n[3]),s(_,"class","modal-body"),s(m,"class","modal-body"),s(o,"class","modal-content"),s(t,"class","modal-dialog modal-dialog-centered modal-lg"),s(e,"class","modal fade"),s(e,"id","editStudentModal"),s(e,"tabindex","-1"),s(e,"aria-labelledby","exampleModalgridLabel"),s(e,"aria-modal","true")},m(le,Ee){A(le,e,Ee),l(e,t),l(t,o),l(o,a),l(a,r),l(r,u),l(a,d),l(a,g),l(o,I),l(o,m),l(m,_),ce&&ce.m(_,null),l(_,p),l(_,y),l(y,U),l(U,k),l(k,j),l(j,$),l(j,H),l(j,q),l(q,M),l(j,Q),l(j,N),l(j,R),l(j,B),l(k,b),l(k,w),l(w,T),l(T,D),D.checked=n[13],l(T,G),l(T,J),l(J,F),l(k,ee),ue.m(k,null),l(k,te),ne&&ne.m(k,null),l(k,L),ie&&ie.m(k,null),l(k,X),l(k,K),l(k,ae),de&&de.m(k,null),l(k,Z),ve&&ve.m(k,null),l(k,re),l(k,_e),l(_e,Be),l(Be,We),n[30](Be),l(_e,Te),Ie&&Ie.m(_e,null),l(_e,ot),l(_e,ze),n[31](U),Me||(nt=[se(D,"change",n[24]),se(D,"change",n[26]),se(U,"submit",ms(n[17])),se(e,"hidden.bs.modal",n[18])],Me=!0)},p(le,Ee){var ut;le[3]?ce||(ce=Ga(),ce.c(),ce.m(_,p)):ce&&(ce.d(1),ce=null),Ee[0]&8192&&(D.checked=le[13]),Ee[0]&16&&pe(w,"none",!le[4]),be===(be=ct(le))&&ue?ue.p(le,Ee):(ue.d(1),ue=be(le),ue&&(ue.c(),ue.m(k,te))),le[10]&&le[4]?ne?ne.p(le,Ee):(ne=Fa(le),ne.c(),ne.m(k,L)):ne&&(ne.d(1),ne=null),le[12]&&le[11]?ie?ie.p(le,Ee):(ie=Qa(le),ie.c(),ie.m(k,X)):ie&&(ie.d(1),ie=null),Ee[0]&16&&pe(K,"none",!le[4]),le[4]?de&&(de.d(1),de=null):de?de.p(le,Ee):(de=Wa(le),de.c(),de.m(k,Z)),(ut=le[2])!=null&&ut.file?ve?ve.p(le,Ee):(ve=Ya(le),ve.c(),ve.m(k,re)):ve&&(ve.d(1),ve=null),le[14].subscribed?Ie&&(Ie.d(1),Ie=null):Ie||(Ie=Ja(),Ie.c(),Ie.m(_e,ot)),Ee[0]&8&&pe(y,"d-none",le[3])},i:oe,o:oe,d(le){le&&i(e),ce&&ce.d(),ue.d(),ne&&ne.d(),ie&&ie.d(),de&&de.d(),ve&&ve.d(),n[30](null),Ie&&Ie.d(),n[31](null),Me=!1,Ut(nt)}}}function Er(n,e,t){let o,a,r,c,u,d=!1,g="",I=!0,{studentStore:m}=ml("studentStore");sl(n,m,L=>t(14,a=L));let _,p,y,U=400,k=400,j,$=!1,H=!1,q=!0,C,M=!0;rl(()=>{window.addEventListener("resize",Q)});function Q(){if(_==null)return;let L=400,X=400,K=1;L=_.offsetWidth,X=_.offsetHeight,L<400||X<400?(K=Math.min(L/400,X/400),t(8,U=Math.min(L*K,X*K)),t(9,k=Math.min(L*K,X*K))):(t(8,U=400),t(9,k=400))}async function z(){t(3,d=!0),t(2,u={});let L=new FormData(c);g!=""&&L.set("school_id",g),L.set("edit_image",I),I&&M&&L.set("file",bs(C)),L.set("lang",localStorage.getItem("language"));let X=await fetch(Os(a.id,"parent"),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:L});al(X),X=await X.json(),t(3,d=!1),X.status=="success"?(Is(`/students/${a.id}/choosePackage`),r.click()):t(2,u=X.errors)}m.subscribe(()=>{a.father_id,g=a.school_id});function N(){t(4,I=!0),c.reset(),t(2,u={}),g="",w(),t(11,H=!1),t(12,C=null)}function R(){t(11,H=!1),t(12,C=null),b()}function B(){j=p.getContext("2d");const L=(_.videoWidth-400)/2,X=(_.videoHeight-400)/2,K=400,Y=400;j.drawImage(_,L,X,K,Y,0,0,400,400),t(12,C=p.toDataURL("image/jpeg")),w(),t(10,$=!1),t(11,H=!0)}async function b(){try{t(10,$=!0);let L=await navigator.mediaDevices.getUserMedia(o);t(5,_.srcObject=L,_)}catch(L){console.error("Error accessing camera:",L)}}function w(){_!=null&&_.srcObject&&(_.srcObject.getTracks().forEach(K=>{K.stop()}),t(5,_.srcObject=null,_)),t(10,$=!1)}async function T(){w(),t(25,q=!q),await b()}function D(){$&&w(),t(11,H=!1)}function G(){M=this.checked,t(13,M)}function J(L){Ve[L?"unshift":"push"](()=>{_=L,t(5,_)})}function W(L){Ve[L?"unshift":"push"](()=>{y=L,t(7,y)})}function F(L){Ve[L?"unshift":"push"](()=>{p=L,t(6,p)})}function ee(L){Ve[L?"unshift":"push"](()=>{r=L,t(0,r)})}function te(L){Ve[L?"unshift":"push"](()=>{c=L,t(1,c)})}return n.$$.update=()=>{n.$$.dirty[0]&33554432&&(o={video:{facingMode:q?"user":"environment"}})},[r,c,u,d,I,_,p,y,U,k,$,H,C,M,a,m,Q,z,N,R,B,b,w,T,D,q,G,J,W,F,ee,te]}class Sr extends Tt{constructor(e){super(),Dt(this,e,Er,Ir,yt,{},null,[-1,-1])}}function Xa(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=f("div"),e.innerHTML=t,this.h()},l(o){e=h(o,"DIV",{class:!0,"data-svelte-h":!0}),rt(e)!=="svelte-1skq92h"&&(e.innerHTML=t),this.h()},h(){s(e,"class","text-center")},m(o,a){A(o,e,a)},d(o){o&&i(e)}}}function Ka(n){let e,t=n[3].school_id[0]+"",o;return{c(){e=f("strong"),o=E(t),this.h()},l(a){e=h(a,"STRONG",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","text-danger ms-1 my-2")},m(a,r){A(a,e,r),l(e,o)},p(a,r){r[0]&8&&t!==(t=a[3].school_id[0]+"")&&me(o,t)},d(a){a&&i(e)}}}function Za(n){let e,t=n[3].firstname[0]+"",o;return{c(){e=f("strong"),o=E(t),this.h()},l(a){e=h(a,"STRONG",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","text-danger ms-1 my-2")},m(a,r){A(a,e,r),l(e,o)},p(a,r){r[0]&8&&t!==(t=a[3].firstname[0]+"")&&me(o,t)},d(a){a&&i(e)}}}function xa(n){let e,t=n[3].lastname[0]+"",o;return{c(){e=f("strong"),o=E(t),this.h()},l(a){e=h(a,"STRONG",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","text-danger ms-1 my-2")},m(a,r){A(a,e,r),l(e,o)},p(a,r){r[0]&8&&t!==(t=a[3].lastname[0]+"")&&me(o,t)},d(a){a&&i(e)}}}function es(n){let e,t=n[3].class[0]+"",o;return{c(){e=f("strong"),o=E(t),this.h()},l(a){e=h(a,"STRONG",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","text-danger ms-1 my-2")},m(a,r){A(a,e,r),l(e,o)},p(a,r){r[0]&8&&t!==(t=a[3].class[0]+"")&&me(o,t)},d(a){a&&i(e)}}}function wr(n){let e,t,o=P.studentImage[localStorage.getItem("language")]+"",a,r,c;return{c(){e=f("div"),t=f("label"),a=E(o),r=V(),c=f("input"),this.h()},l(u){e=h(u,"DIV",{});var d=v(e);t=h(d,"LABEL",{for:!0,class:!0});var g=v(t);a=S(g,o),g.forEach(i),r=O(d),c=h(d,"INPUT",{class:!0,name:!0,type:!0,id:!0}),d.forEach(i),this.h()},h(){s(t,"for","formFile"),s(t,"class","form-label"),s(c,"class","form-control"),s(c,"name","file"),s(c,"type","file"),s(c,"id","formFile")},m(u,d){A(u,e,d),l(e,t),l(t,a),l(e,r),l(e,c)},p:oe,d(u){u&&i(e)}}}function kr(n){let e;function t(r,c){return r[13]?Dr:r[12]?Tr:yr}let o=t(n),a=o(n);return{c(){e=f("div"),a.c()},l(r){e=h(r,"DIV",{});var c=v(e);a.l(c),c.forEach(i)},m(r,c){A(r,e,c),a.m(e,null)},p(r,c){o===(o=t(r))&&a?a.p(r,c):(a.d(1),a=o(r),a&&(a.c(),a.m(e,null)))},d(r){r&&i(e),a.d()}}}function yr(n){let e,t=P.launchCamera[localStorage.getItem("language")]+"",o,a,r;return{c(){e=f("button"),o=E(t),this.h()},l(c){e=h(c,"BUTTON",{type:!0,class:!0});var u=v(e);o=S(u,t),u.forEach(i),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-primary waves-effect waves-light")},m(c,u){A(c,e,u),l(e,o),a||(r=se(e,"click",n[21]),a=!0)},p:oe,d(c){c&&i(e),a=!1,r()}}}function Tr(n){let e,t=P.stopCamera[localStorage.getItem("language")]+"",o,a,r;return{c(){e=f("button"),o=E(t),this.h()},l(c){e=h(c,"BUTTON",{type:!0,class:!0});var u=v(e);o=S(u,t),u.forEach(i),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-danger waves-effect waves-light")},m(c,u){A(c,e,u),l(e,o),a||(r=se(e,"click",n[22]),a=!0)},p:oe,d(c){c&&i(e),a=!1,r()}}}function Dr(n){let e,t=P.takeAnother[localStorage.getItem("language")]+"",o,a,r;return{c(){e=f("button"),o=E(t),this.h()},l(c){e=h(c,"BUTTON",{type:!0,class:!0});var u=v(e);o=S(u,t),u.forEach(i),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-success waves-effect waves-light")},m(c,u){A(c,e,u),l(e,o),a||(r=se(e,"click",n[19]),a=!0)},p:oe,d(c){c&&i(e),a=!1,r()}}}function ts(n){var I;let e,t,o,a,r,c,u,d,g=((I=n[7])==null?void 0:I.srcObject)&&ls(n);return{c(){e=f("div"),t=f("div"),o=f("video"),a=V(),g&&g.c(),r=V(),c=f("canvas"),this.h()},l(m){e=h(m,"DIV",{});var _=v(e);t=h(_,"DIV",{id:!0});var p=v(t);o=h(p,"VIDEO",{id:!0,class:!0}),v(o).forEach(i),a=O(p),g&&g.l(p),p.forEach(i),r=O(_),c=h(_,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),v(c).forEach(i),_.forEach(i),this.h()},h(){s(o,"id","video"),o.autoplay=!0,s(o,"class","svelte-vtz7js"),s(t,"id","video-container"),s(c,"id","canvas"),s(c,"width","400"),s(c,"height","400"),s(c,"class","svelte-vtz7js")},m(m,_){A(m,e,_),l(e,t),l(t,o),n[30](o),l(t,a),g&&g.m(t,null),l(e,r),l(e,c),n[32](c),u||(d=se(o,"playing",n[16]),u=!0)},p(m,_){var p;(p=m[7])!=null&&p.srcObject?g?g.p(m,_):(g=ls(m),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(m){m&&i(e),n[30](null),g&&g.d(),n[32](null),u=!1,d()}}}function ls(n){let e,t,o,a,r,c='<i class="ri-camera-lens-fill"></i>',u,d,g='<i class="ri-camera-switch-line"></i>',I,m;return{c(){e=f("div"),t=V(),o=f("div"),a=f("div"),r=f("button"),r.innerHTML=c,u=V(),d=f("button"),d.innerHTML=g,this.h()},l(_){e=h(_,"DIV",{class:!0,style:!0}),v(e).forEach(i),t=O(_),o=h(_,"DIV",{class:!0});var p=v(o);a=h(p,"DIV",{class:!0});var y=v(a);r=h(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),rt(r)!=="svelte-kjkc3u"&&(r.innerHTML=c),u=O(y),d=h(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),rt(d)!=="svelte-1qe7wq9"&&(d.innerHTML=g),y.forEach(i),p.forEach(i),this.h()},h(){s(e,"class","square svelte-vtz7js"),_t(e,"width",n[10]+"px"),_t(e,"height",n[11]+"px"),s(r,"type","button"),s(r,"class","btn btn-lg btn-primary waves-effect waves-light mx-2"),s(d,"type","button"),s(d,"class","btn btn-lg btn-success waves-effect waves-light mx-2"),s(a,"class","camera-btn-group py-4 svelte-vtz7js"),s(o,"class","camera-btn-container svelte-vtz7js")},m(_,p){A(_,e,p),n[31](e),A(_,t,p),A(_,o,p),l(o,a),l(a,r),l(a,u),l(a,d),I||(m=[se(r,"click",n[20]),se(d,"click",n[23])],I=!0)},p(_,p){p[0]&1024&&_t(e,"width",_[10]+"px"),p[0]&2048&&_t(e,"height",_[11]+"px")},d(_){_&&(i(e),i(t),i(o)),n[31](null),I=!1,Ut(m)}}}function as(n){let e,t,o;return{c(){e=f("div"),t=f("img"),this.h()},l(a){e=h(a,"DIV",{});var r=v(e);t=h(r,"IMG",{class:!0,alt:!0,width:!0,src:!0}),r.forEach(i),this.h()},h(){s(t,"class","rounded avatar-xl mb-3 object-fit-cover"),s(t,"alt","School logo"),s(t,"width","200"),Oe(t.src,o=n[14])||s(t,"src",o)},m(a,r){A(a,e,r),l(e,t)},p(a,r){r[0]&16384&&!Oe(t.src,o=a[14])&&s(t,"src",o)},d(a){a&&i(e)}}}function ss(n){let e,t=n[3].file[0]+"",o;return{c(){e=f("strong"),o=E(t),this.h()},l(a){e=h(a,"STRONG",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","text-danger ms-1 my-2")},m(a,r){A(a,e,r),l(e,o)},p(a,r){r[0]&8&&t!==(t=a[3].file[0]+"")&&me(o,t)},d(a){a&&i(e)}}}function Vr(n){var wa,ka,ya,Ta,Da;let e,t,o,a,r,c=P.addStudent[localStorage.getItem("language")]+"",u,d,g,I,m,_,p,y,U,k,j,$,H,q,C,M,Q=P.firstName[localStorage.getItem("language")]+"",z,N,R,B,b,w,T,D,G=P.lastName[localStorage.getItem("language")]+"",J,W,F,ee,te,L,X,K=P.class[localStorage.getItem("language")]+"",Y,ae,Z,re,_e,Be=P.selectClass[localStorage.getItem("language")]+"",Je,We,Te,ot=P.primarySchool[localStorage.getItem("language")]+"",ze,Me,nt=P.grade[localStorage.getItem("language")]+"",ce,ct,be,ue=P.primarySchool[localStorage.getItem("language")]+"",ne,ie,de=P.grade[localStorage.getItem("language")]+"",ve,Ie,qe,le=P.primarySchool[localStorage.getItem("language")]+"",Ee,ut,vt=P.grade[localStorage.getItem("language")]+"",ht,Vt,Re,pt=P.primarySchool[localStorage.getItem("language")]+"",Ot,Nt,ge=P.grade[localStorage.getItem("language")]+"",Ye,Mt,Ge,bt=P.primarySchool[localStorage.getItem("language")]+"",$t,it,qt=P.grade[localStorage.getItem("language")]+"",_l,vl,Xe,sa=P.primarySchool[localStorage.getItem("language")]+"",pl,bl,ra=P.grade[localStorage.getItem("language")]+"",Il,El,Ke,oa=P.middleSchool[localStorage.getItem("language")]+"",Sl,wl,na=P.grade[localStorage.getItem("language")]+"",kl,yl,Ze,ia=P.middleSchool[localStorage.getItem("language")]+"",Tl,Dl,ca=P.grade[localStorage.getItem("language")]+"",Vl,Ol,xe,ua=P.middleSchool[localStorage.getItem("language")]+"",Nl,Ml,da=P.grade[localStorage.getItem("language")]+"",$l,Cl,et,fa=P.secondarySchool[localStorage.getItem("language")]+"",Ll,Pl,ha=P.grade[localStorage.getItem("language")]+"",Al,Hl,tt,ga=P.secondarySchool[localStorage.getItem("language")]+"",jl,Bl,ma=P.grade[localStorage.getItem("language")]+"",Ul,ql,lt,_a=P.secondarySchool[localStorage.getItem("language")]+"",Rl,Gl,va=P.grade[localStorage.getItem("language")]+"",Fl,zl,Ql,Wl,Ct,gt,at,Yl,It,pa=P.useCamera[localStorage.getItem("language")]+"",Jl,Xl,ol,nl,il,Lt,Kl,mt,dt,ba=P.close[localStorage.getItem("language")]+"",Zl,xl,Pt,Rt,ea,Ia,Ue=n[4]&&Xa();function ys(x){n[26](x)}let Ea={collapse:!0,title:P.studentSchool[localStorage.getItem("language")]};n[6]!==void 0&&(Ea.resetSchool=n[6]),y=new gr({props:Ea}),Ve.push(()=>ps(y,"resetSchool",ys)),y.$on("select",n[27]);let $e=((wa=n[3])==null?void 0:wa.school_id)&&Ka(n),Ce=((ka=n[3])==null?void 0:ka.firstname)&&Za(n),Le=((ya=n[3])==null?void 0:ya.lastname)&&xa(n),Pe=((Ta=n[3])==null?void 0:Ta.class)&&es(n);function Sa(x,Ne){return x[15]?kr:wr}let cl=Sa(n),st=cl(n),Ae=n[12]&&ts(n),He=n[14]&&n[13]&&as(n),je=((Da=n[3])==null?void 0:Da.file)&&ss(n);return{c(){e=f("div"),t=f("div"),o=f("div"),a=f("div"),r=f("h5"),u=E(c),d=V(),g=f("button"),I=V(),m=f("div"),Ue&&Ue.c(),_=V(),p=f("div"),Se(y.$$.fragment),k=V(),$e&&$e.c(),j=V(),$=f("form"),H=f("div"),q=f("div"),C=f("div"),M=f("label"),z=E(Q),N=V(),R=f("input"),B=V(),Ce&&Ce.c(),b=V(),w=f("div"),T=f("div"),D=f("label"),J=E(G),W=V(),F=f("input"),ee=V(),Le&&Le.c(),te=V(),L=f("div"),X=f("label"),Y=E(K),ae=V(),Z=f("select"),re=f("option"),_e=E("-- "),Je=E(Be),We=E(" -- "),Te=f("option"),ze=E(ot),Me=E(" - "),ce=E(nt),ct=E(" 1"),be=f("option"),ne=E(ue),ie=E(" - "),ve=E(de),Ie=E(" 2"),qe=f("option"),Ee=E(le),ut=E(" - "),ht=E(vt),Vt=E(" 3"),Re=f("option"),Ot=E(pt),Nt=E(" - "),Ye=E(ge),Mt=E(" 4"),Ge=f("option"),$t=E(bt),it=E(" - "),_l=E(qt),vl=E(" 5"),Xe=f("option"),pl=E(sa),bl=E(" - "),Il=E(ra),El=E(" 6"),Ke=f("option"),Sl=E(oa),wl=E(" - "),kl=E(na),yl=E(" 1"),Ze=f("option"),Tl=E(ia),Dl=E(" - "),Vl=E(ca),Ol=E(" 2"),xe=f("option"),Nl=E(ua),Ml=E(" - "),$l=E(da),Cl=E(" 3"),et=f("option"),Ll=E(fa),Pl=E(" - "),Al=E(ha),Hl=E(" 1"),tt=f("option"),jl=E(ga),Bl=E(" - "),Ul=E(ma),ql=E(" 2"),lt=f("option"),Rl=E(_a),Gl=E(" - "),Fl=E(va),zl=E(" 3"),Ql=V(),Pe&&Pe.c(),Wl=V(),Ct=f("div"),gt=f("div"),at=f("input"),Yl=V(),It=f("label"),Jl=E(pa),Xl=V(),st.c(),ol=V(),Ae&&Ae.c(),nl=V(),He&&He.c(),il=V(),Lt=f("div"),je&&je.c(),Kl=V(),mt=f("div"),dt=f("button"),Zl=E(ba),xl=V(),Pt=f("input"),this.h()},l(x){e=h(x,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var Ne=v(e);t=h(Ne,"DIV",{class:!0});var Gt=v(t);o=h(Gt,"DIV",{class:!0});var Et=v(o);a=h(Et,"DIV",{class:!0});var St=v(a);r=h(St,"H5",{class:!0,id:!0});var Ft=v(r);u=S(Ft,c),Ft.forEach(i),d=O(St),g=h(St,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),v(g).forEach(i),St.forEach(i),I=O(Et),m=h(Et,"DIV",{class:!0});var wt=v(m);Ue&&Ue.l(wt),_=O(wt),p=h(wt,"DIV",{class:!0});var ft=v(p);we(y.$$.fragment,ft),k=O(ft),$e&&$e.l(ft),j=O(ft),$=h(ft,"FORM",{});var Va=v($);H=h(Va,"DIV",{class:!0});var De=v(H);q=h(De,"DIV",{class:!0});var Oa=v(q);C=h(Oa,"DIV",{});var At=v(C);M=h(At,"LABEL",{for:!0,class:!0});var Na=v(M);z=S(Na,Q),Na.forEach(i),N=O(At),R=h(At,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),B=O(At),Ce&&Ce.l(At),At.forEach(i),Oa.forEach(i),b=O(De),w=h(De,"DIV",{class:!0});var Ma=v(w);T=h(Ma,"DIV",{});var Ht=v(T);D=h(Ht,"LABEL",{for:!0,class:!0});var $a=v(D);J=S($a,G),$a.forEach(i),W=O(Ht),F=h(Ht,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),ee=O(Ht),Le&&Le.l(Ht),Ht.forEach(i),Ma.forEach(i),te=O(De),L=h(De,"DIV",{class:!0});var jt=v(L);X=h(jt,"LABEL",{for:!0,class:!0});var Ca=v(X);Y=S(Ca,K),Ca.forEach(i),ae=O(jt),Z=h(jt,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var Fe=v(Z);re=h(Fe,"OPTION",{});var ul=v(re);_e=S(ul,"-- "),Je=S(ul,Be),We=S(ul," -- "),ul.forEach(i),Te=h(Fe,"OPTION",{});var zt=v(Te);ze=S(zt,ot),Me=S(zt," - "),ce=S(zt,nt),ct=S(zt," 1"),zt.forEach(i),be=h(Fe,"OPTION",{});var Qt=v(be);ne=S(Qt,ue),ie=S(Qt," - "),ve=S(Qt,de),Ie=S(Qt," 2"),Qt.forEach(i),qe=h(Fe,"OPTION",{});var Wt=v(qe);Ee=S(Wt,le),ut=S(Wt," - "),ht=S(Wt,vt),Vt=S(Wt," 3"),Wt.forEach(i),Re=h(Fe,"OPTION",{});var Yt=v(Re);Ot=S(Yt,pt),Nt=S(Yt," - "),Ye=S(Yt,ge),Mt=S(Yt," 4"),Yt.forEach(i),Ge=h(Fe,"OPTION",{});var Jt=v(Ge);$t=S(Jt,bt),it=S(Jt," - "),_l=S(Jt,qt),vl=S(Jt," 5"),Jt.forEach(i),Xe=h(Fe,"OPTION",{});var Xt=v(Xe);pl=S(Xt,sa),bl=S(Xt," - "),Il=S(Xt,ra),El=S(Xt," 6"),Xt.forEach(i),Ke=h(Fe,"OPTION",{});var Kt=v(Ke);Sl=S(Kt,oa),wl=S(Kt," - "),kl=S(Kt,na),yl=S(Kt," 1"),Kt.forEach(i),Ze=h(Fe,"OPTION",{});var Zt=v(Ze);Tl=S(Zt,ia),Dl=S(Zt," - "),Vl=S(Zt,ca),Ol=S(Zt," 2"),Zt.forEach(i),xe=h(Fe,"OPTION",{});var xt=v(xe);Nl=S(xt,ua),Ml=S(xt," - "),$l=S(xt,da),Cl=S(xt," 3"),xt.forEach(i),et=h(Fe,"OPTION",{});var el=v(et);Ll=S(el,fa),Pl=S(el," - "),Al=S(el,ha),Hl=S(el," 1"),el.forEach(i),tt=h(Fe,"OPTION",{});var tl=v(tt);jl=S(tl,ga),Bl=S(tl," - "),Ul=S(tl,ma),ql=S(tl," 2"),tl.forEach(i),lt=h(Fe,"OPTION",{});var ll=v(lt);Rl=S(ll,_a),Gl=S(ll," - "),Fl=S(ll,va),zl=S(ll," 3"),ll.forEach(i),Fe.forEach(i),Ql=O(jt),Pe&&Pe.l(jt),jt.forEach(i),Wl=O(De),Ct=h(De,"DIV",{class:!0});var La=v(Ct);gt=h(La,"DIV",{class:!0});var dl=v(gt);at=h(dl,"INPUT",{class:!0,type:!0,role:!0,id:!0}),Yl=O(dl),It=h(dl,"LABEL",{class:!0,for:!0});var Pa=v(It);Jl=S(Pa,pa),Pa.forEach(i),dl.forEach(i),La.forEach(i),Xl=O(De),st.l(De),ol=O(De),Ae&&Ae.l(De),nl=O(De),He&&He.l(De),il=O(De),Lt=h(De,"DIV",{});var Aa=v(Lt);je&&je.l(Aa),Aa.forEach(i),Kl=O(De),mt=h(De,"DIV",{class:!0});var fl=v(mt);dt=h(fl,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var Ha=v(dt);Zl=S(Ha,ba),Ha.forEach(i),xl=O(fl),Pt=h(fl,"INPUT",{type:!0,class:!0}),fl.forEach(i),De.forEach(i),Va.forEach(i),ft.forEach(i),wt.forEach(i),Et.forEach(i),Gt.forEach(i),Ne.forEach(i),this.h()},h(){s(r,"class","modal-title"),s(r,"id","exampleModalgridLabel"),s(g,"type","button"),s(g,"class","btn-close"),s(g,"data-bs-dismiss","modal"),s(g,"aria-label","Close"),s(a,"class","modal-header"),s(M,"for","firstName"),s(M,"class","form-label"),s(R,"type","text"),s(R,"name","firstname"),s(R,"class","form-control"),s(R,"id","firstName"),s(R,"placeholder",P.enterFirstName[localStorage.getItem("language")]),s(q,"class","col-xxl-6"),s(D,"for","lastName"),s(D,"class","form-label"),s(F,"type","text"),s(F,"name","lastname"),s(F,"class","form-control"),s(F,"id","lastName"),s(F,"placeholder",P.enterLastName[localStorage.getItem("language")]),s(w,"class","col-xxl-6"),s(X,"for","class"),s(X,"class","form-label"),re.disabled=!0,re.selected=!0,re.__value="",Qe(re,re.__value),Te.__value=0,Qe(Te,Te.__value),be.__value=1,Qe(be,be.__value),qe.__value=2,Qe(qe,qe.__value),Re.__value=3,Qe(Re,Re.__value),Ge.__value=4,Qe(Ge,Ge.__value),Xe.__value=5,Qe(Xe,Xe.__value),Ke.__value=6,Qe(Ke,Ke.__value),Ze.__value=7,Qe(Ze,Ze.__value),xe.__value=8,Qe(xe,xe.__value),et.__value=9,Qe(et,et.__value),tt.__value=10,Qe(tt,tt.__value),lt.__value=11,Qe(lt,lt.__value),s(Z,"class","form-select"),s(Z,"name","class"),s(Z,"id","class"),s(Z,"aria-label","Default select example"),s(L,"class","col-lg-12"),s(at,"class","form-check-input"),s(at,"type","checkbox"),s(at,"role","switch"),s(at,"id","SwitchCheck1"),s(It,"class","form-check-label"),s(It,"for","SwitchCheck1"),s(gt,"class","form-check form-switch col"),s(Ct,"class","row ps-3 g-3"),s(dt,"type","button"),s(dt,"class","btn btn-light fw-light"),s(dt,"data-bs-dismiss","modal"),s(Pt,"type","submit"),s(Pt,"class","btn btn-primary waves-effect waves-light"),Pt.value=P.save[localStorage.getItem("language")],s(mt,"class","hstack gap-2 justify-content-end"),s(H,"class","row g-3"),s(p,"class","row g-3"),pe(p,"d-none",n[4]),s(m,"class","modal-body"),s(o,"class","modal-content"),s(t,"class","modal-dialog modal-dialog-centered modal-lg"),s(e,"class","modal fade"),s(e,"id","addStudentModal"),s(e,"tabindex","-1"),s(e,"aria-labelledby","exampleModalgridLabel"),s(e,"aria-modal","true")},m(x,Ne){A(x,e,Ne),l(e,t),l(t,o),l(o,a),l(a,r),l(r,u),l(a,d),l(a,g),l(o,I),l(o,m),Ue&&Ue.m(m,null),l(m,_),l(m,p),ke(y,p,null),l(p,k),$e&&$e.m(p,null),l(p,j),l(p,$),l($,H),l(H,q),l(q,C),l(C,M),l(M,z),l(C,N),l(C,R),l(C,B),Ce&&Ce.m(C,null),l(H,b),l(H,w),l(w,T),l(T,D),l(D,J),l(T,W),l(T,F),l(T,ee),Le&&Le.m(T,null),l(H,te),l(H,L),l(L,X),l(X,Y),l(L,ae),l(L,Z),l(Z,re),l(re,_e),l(re,Je),l(re,We),l(Z,Te),l(Te,ze),l(Te,Me),l(Te,ce),l(Te,ct),l(Z,be),l(be,ne),l(be,ie),l(be,ve),l(be,Ie),l(Z,qe),l(qe,Ee),l(qe,ut),l(qe,ht),l(qe,Vt),l(Z,Re),l(Re,Ot),l(Re,Nt),l(Re,Ye),l(Re,Mt),l(Z,Ge),l(Ge,$t),l(Ge,it),l(Ge,_l),l(Ge,vl),l(Z,Xe),l(Xe,pl),l(Xe,bl),l(Xe,Il),l(Xe,El),l(Z,Ke),l(Ke,Sl),l(Ke,wl),l(Ke,kl),l(Ke,yl),l(Z,Ze),l(Ze,Tl),l(Ze,Dl),l(Ze,Vl),l(Ze,Ol),l(Z,xe),l(xe,Nl),l(xe,Ml),l(xe,$l),l(xe,Cl),l(Z,et),l(et,Ll),l(et,Pl),l(et,Al),l(et,Hl),l(Z,tt),l(tt,jl),l(tt,Bl),l(tt,Ul),l(tt,ql),l(Z,lt),l(lt,Rl),l(lt,Gl),l(lt,Fl),l(lt,zl),n[28](Z),l(L,Ql),Pe&&Pe.m(L,null),l(H,Wl),l(H,Ct),l(Ct,gt),l(gt,at),at.checked=n[15],l(gt,Yl),l(gt,It),l(It,Jl),l(H,Xl),st.m(H,null),l(H,ol),Ae&&Ae.m(H,null),l(H,nl),He&&He.m(H,null),l(H,il),l(H,Lt),je&&je.m(Lt,null),l(H,Kl),l(H,mt),l(mt,dt),l(dt,Zl),n[33](dt),l(mt,xl),l(mt,Pt),n[34]($),Rt=!0,ea||(Ia=[se(at,"change",n[24]),se(at,"change",n[29]),se($,"submit",ms(n[17])),se(e,"hidden.bs.modal",n[18])],ea=!0)},p(x,Ne){var Et,St,Ft,wt,ft;x[4]?Ue||(Ue=Xa(),Ue.c(),Ue.m(m,_)):Ue&&(Ue.d(1),Ue=null);const Gt={};!U&&Ne[0]&64&&(U=!0,Gt.resetSchool=x[6],gs(()=>U=!1)),y.$set(Gt),(Et=x[3])!=null&&Et.school_id?$e?$e.p(x,Ne):($e=Ka(x),$e.c(),$e.m(p,j)):$e&&($e.d(1),$e=null),(St=x[3])!=null&&St.firstname?Ce?Ce.p(x,Ne):(Ce=Za(x),Ce.c(),Ce.m(C,null)):Ce&&(Ce.d(1),Ce=null),(Ft=x[3])!=null&&Ft.lastname?Le?Le.p(x,Ne):(Le=xa(x),Le.c(),Le.m(T,null)):Le&&(Le.d(1),Le=null),(wt=x[3])!=null&&wt.class?Pe?Pe.p(x,Ne):(Pe=es(x),Pe.c(),Pe.m(L,null)):Pe&&(Pe.d(1),Pe=null),Ne[0]&32768&&(at.checked=x[15]),cl===(cl=Sa(x))&&st?st.p(x,Ne):(st.d(1),st=cl(x),st&&(st.c(),st.m(H,ol))),x[12]?Ae?Ae.p(x,Ne):(Ae=ts(x),Ae.c(),Ae.m(H,nl)):Ae&&(Ae.d(1),Ae=null),x[14]&&x[13]?He?He.p(x,Ne):(He=as(x),He.c(),He.m(H,il)):He&&(He.d(1),He=null),(ft=x[3])!=null&&ft.file?je?je.p(x,Ne):(je=ss(x),je.c(),je.m(Lt,null)):je&&(je.d(1),je=null),(!Rt||Ne[0]&16)&&pe(p,"d-none",x[4])},i(x){Rt||(fe(y.$$.fragment,x),Rt=!0)},o(x){he(y.$$.fragment,x),Rt=!1},d(x){x&&i(e),Ue&&Ue.d(),ye(y),$e&&$e.d(),Ce&&Ce.d(),Le&&Le.d(),n[28](null),Pe&&Pe.d(),st.d(),Ae&&Ae.d(),He&&He.d(),je&&je.d(),n[33](null),n[34](null),ea=!1,Ut(Ia)}}}function Or(n,e,t){let o,a,r,c,u,d,g=!1,I="",m,_,p,y,U=400,k=400,j,$=!1,H=!1,q=!0,C,M=!0;rl(()=>{window.addEventListener("resize",Q)});function Q(){if(_==null)return;let Y=400,ae=400,Z=1;Y=_==null?void 0:_.offsetWidth,ae=_==null?void 0:_.offsetHeight,Y<400||ae<400?(Z=Math.min(Y/400,ae/400),t(10,U=Math.min(Y*Z,ae*Z)),t(11,k=Math.min(Y*Z,ae*Z))):(t(10,U=400),t(11,k=400))}async function z(){t(4,g=!0),t(3,d={});let Y=new FormData(c);I!=""&&Y.set("school_id",I),M&&Y.set("file",bs(C)),Y.set("lang",localStorage.getItem("language"));let ae=await fetch(Ns("parent"),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:Y});if(al(ae),ae=await ae.json(),t(4,g=!1),ae.status=="success"){a.click();let Z=`Added ${r} as a new student`;zs(Z,"success"),Rs("students:refresh"),N()}else t(3,d=ae.errors)}function N(){c.reset(),t(2,u.selectedIndex=0,u),t(3,d={}),m(),t(5,I=""),w(),t(13,H=!1),t(14,C=null)}function R(){t(13,H=!1),t(14,C=null),b()}function B(){j=p.getContext("2d");const Y=(_.videoWidth-400)/2,ae=(_.videoHeight-400)/2,Z=400,re=400;j.drawImage(_,Y,ae,Z,re,0,0,400,400),t(14,C=p.toDataURL("image/jpeg")),w(),t(12,$=!1),t(13,H=!0)}async function b(){try{t(12,$=!0);let Y=await navigator.mediaDevices.getUserMedia(o);t(7,_.srcObject=Y,_)}catch(Y){console.error("Error accessing camera:",Y)}}function w(){_!=null&&_.srcObject&&(_.srcObject.getTracks().forEach(Z=>{console.log(Z),Z.stop()}),t(7,_.srcObject=null,_)),t(12,$=!1)}async function T(){w(),t(25,q=!q),await b()}function D(){$&&w(),t(13,H=!1)}function G(Y){m=Y,t(6,m)}const J=Y=>t(5,I=Y.detail.schoolId);function W(Y){Ve[Y?"unshift":"push"](()=>{u=Y,t(2,u)})}function F(){M=this.checked,t(15,M)}function ee(Y){Ve[Y?"unshift":"push"](()=>{_=Y,t(7,_)})}function te(Y){Ve[Y?"unshift":"push"](()=>{y=Y,t(9,y)})}function L(Y){Ve[Y?"unshift":"push"](()=>{p=Y,t(8,p)})}function X(Y){Ve[Y?"unshift":"push"](()=>{a=Y,t(0,a)})}function K(Y){Ve[Y?"unshift":"push"](()=>{c=Y,t(1,c)})}return n.$$.update=()=>{n.$$.dirty[0]&33554432&&(o={video:{facingMode:q?"user":"environment"}})},[a,c,u,d,g,I,m,_,p,y,U,k,$,H,C,M,Q,z,N,R,B,b,w,T,D,q,G,J,W,F,ee,te,L,X,K]}class Nr extends Tt{constructor(e){super(),Dt(this,e,Or,Vr,yt,{},null,[-1,-1])}}function Mr(n){let e,t=P.notSubscribed[localStorage.getItem("language")]+"",o;return{c(){e=f("span"),o=E(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","badge bg-danger-subtle text-danger")},m(a,r){A(a,e,r),l(e,o)},p:oe,d(a){a&&i(e)}}}function $r(n){let e,t=P.subscribed[localStorage.getItem("language")]+"",o;return{c(){e=f("span"),o=E(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);o=S(r,t),r.forEach(i),this.h()},h(){s(e,"class","badge bg-success-subtle text-success")},m(a,r){A(a,e,r),l(e,o)},p:oe,d(a){a&&i(e)}}}function rs(n){let e,t,o,a,r=P.edit[localStorage.getItem("language")]+"",c,u,d;return{c(){e=f("span"),t=f("button"),o=f("i"),a=V(),c=E(r),this.h()},l(g){e=h(g,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0});var I=v(e);t=h(I,"BUTTON",{type:!0,class:!0});var m=v(t);o=h(m,"I",{class:!0}),v(o).forEach(i),a=O(m),c=S(m,r),m.forEach(i),I.forEach(i),this.h()},h(){s(o,"class","ri-edit-2-line label-icon align-middle fs-16 me-2"),s(t,"type","button"),s(t,"class","btn col-12 text-start btn-soft-success btn-label waves-effect waves-light"),s(e,"data-bs-toggle","modal"),s(e,"class","col-12 d-none"),s(e,"data-bs-target","#editStudentModal")},m(g,I){A(g,e,I),l(e,t),l(t,o),l(t,a),l(t,c),n[8](e),u||(d=se(e,"click",aa(n[5])),u=!0)},p:oe,d(g){g&&i(e),n[8](null),u=!1,d()}}}function os(n){let e,t,o,a,r=P.qrCode[localStorage.getItem("language")]+"",c,u,d;return{c(){e=f("span"),t=f("button"),o=f("i"),a=V(),c=E(r),this.h()},l(g){e=h(g,"SPAN",{"data-bs-toggle":!0,class:!0,"data-bs-target":!0});var I=v(e);t=h(I,"BUTTON",{type:!0,class:!0});var m=v(t);o=h(m,"I",{class:!0}),v(o).forEach(i),a=O(m),c=S(m,r),m.forEach(i),I.forEach(i),this.h()},h(){s(o,"class","ri-qr-code-line label-icon align-middle fs-16 me-2"),s(t,"type","button"),s(t,"class","col-12 btn text-start btn-soft-danger btn-label waves-effect waves-light"),s(e,"data-bs-toggle","modal"),s(e,"class","col-12"),s(e,"data-bs-target","#ViewQrStudentModal")},m(g,I){A(g,e,I),l(e,t),l(t,o),l(t,a),l(t,c),u||(d=se(e,"click",aa(n[5])),u=!0)},p:oe,d(g){g&&i(e),u=!1,d()}}}function Cr(n){let e,t,o,a,r,c,u,d,g,I=n[0].fullname+"",m,_,p,y,U,k,j,$,H=P.subscribe[localStorage.getItem("language")]+"",q,C,M,Q,z,N;function R(D,G){return D[0].subscribed?$r:Mr}let B=R(n),b=B(n),w=n[0].face_id==null&&rs(n),T=n[0].qrEnabled&&n[0].subscribed&&os(n);return{c(){e=f("div"),t=f("div"),o=f("div"),a=f("div"),r=f("div"),c=f("img"),d=V(),g=f("h5"),m=E(I),_=V(),b.c(),p=V(),y=f("div"),w&&w.c(),U=V(),k=f("button"),j=f("i"),$=V(),q=E(H),C=V(),T&&T.c(),M=V(),Q=f("button"),this.h()},l(D){e=h(D,"DIV",{class:!0});var G=v(e);t=h(G,"DIV",{class:!0,role:!0});var J=v(t);o=h(J,"DIV",{class:!0});var W=v(o);a=h(W,"DIV",{class:!0});var F=v(a);r=h(F,"DIV",{class:!0});var ee=v(r);c=h(ee,"IMG",{src:!0,alt:!0,id:!0,class:!0}),ee.forEach(i),d=O(F),g=h(F,"H5",{id:!0,class:!0});var te=v(g);m=S(te,I),te.forEach(i),_=O(F),b.l(F),p=O(F),y=h(F,"DIV",{class:!0});var L=v(y);w&&w.l(L),U=O(L),k=h(L,"BUTTON",{type:!0,class:!0});var X=v(k);j=h(X,"I",{class:!0}),v(j).forEach(i),$=O(X),q=S(X,H),X.forEach(i),C=O(L),T&&T.l(L),M=O(L),Q=h(L,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0}),v(Q).forEach(i),L.forEach(i),F.forEach(i),W.forEach(i),J.forEach(i),G.forEach(i),this.h()},h(){Oe(c.src,u=n[0].image.full_path)||s(c,"src",u),s(c,"alt",""),s(c,"id","candidate-img"),s(c,"class","avatar-md rounded-circle"),s(r,"class","avatar-md mb-3 mx-auto"),s(g,"id","candidate-name"),s(g,"class","mb-1 text-truncate"),s(j,"class","ri-money-dollar-circle-line label-icon align-middle fs-16 me-2"),s(k,"type","button"),s(k,"class","col-12 btn text-start btn-soft-secondary btn-label waves-effect waves-light"),s(Q,"type","button"),s(Q,"class","d-none"),s(Q,"data-bs-toggle","modal"),s(Q,"data-bs-target","#viewStudentModal"),s(y,"class","d-flex gap-2 mt-4 flex-wrap"),s(a,"class","card-body text-center"),s(o,"class","row g-0"),s(t,"class","card card-animate p-3 py-2"),s(t,"role","button"),s(e,"class","col-xxl-3 col-xl-4 col-lg-5 col-sm-6 col-xs-12")},m(D,G){A(D,e,G),l(e,t),l(t,o),l(o,a),l(a,r),l(r,c),l(a,d),l(a,g),l(g,m),l(a,_),b.m(a,null),l(a,p),l(a,y),w&&w.m(y,null),l(y,U),l(y,k),l(k,j),l(k,$),l(k,q),n[9](k),l(y,C),T&&T.m(y,null),l(y,M),l(y,Q),n[10](Q),z||(N=[se(k,"click",aa(n[6])),se(Q,"click",n[5]),se(t,"click",n[7])],z=!0)},p(D,[G]){G&1&&!Oe(c.src,u=D[0].image.full_path)&&s(c,"src",u),G&1&&I!==(I=D[0].fullname+"")&&me(m,I),B===(B=R(D))&&b?b.p(D,G):(b.d(1),b=B(D),b&&(b.c(),b.m(a,p))),D[0].face_id==null?w?w.p(D,G):(w=rs(D),w.c(),w.m(y,U)):w&&(w.d(1),w=null),D[0].qrEnabled&&D[0].subscribed?T?T.p(D,G):(T=os(D),T.c(),T.m(y,M)):T&&(T.d(1),T=null)},i:oe,o:oe,d(D){D&&i(e),b.d(),w&&w.d(),n[9](null),T&&T.d(),n[10](null),z=!1,Ut(N)}}}function Lr(n,e,t){let o,{student:a}=e,{studentStore:r}=ml("studentStore");sl(n,r,k=>t(11,o=k));function c(){Cs(r,o=JSON.parse(JSON.stringify(a)),o)}let u,d,g;async function I(){bootstrap.Tooltip.getOrCreateInstance(u).hide(),a.face_id!=null&&Is(`/students/${a.id}/choosePackage`),_()}function m(){d.click()}function _(){g.click()}function p(k){Ve[k?"unshift":"push"](()=>{g=k,t(3,g)})}function y(k){Ve[k?"unshift":"push"](()=>{u=k,t(1,u)})}function U(k){Ve[k?"unshift":"push"](()=>{d=k,t(2,d)})}return n.$$set=k=>{"student"in k&&t(0,a=k.student)},[a,u,d,g,r,c,I,m,p,y,U]}class Pr extends Tt{constructor(e){super(),Dt(this,e,Lr,Cr,yt,{student:0})}}function Ar(n){let e,t,o,a,r,c=P.studentQrCode[localStorage.getItem("language")]+"",u,d,g,I,m,_,p,y,U="",k,j,$,H=P.download[localStorage.getItem("language")]+"",q,C,M,Q=P.print[localStorage.getItem("language")]+"",z,N,R,B,b,w=P.qrExpireNote[localStorage.getItem("language")]+"",T,D,G,J=P.endOfDay[localStorage.getItem("language")]+"",W,F,ee,te,L,X,K=P.close[localStorage.getItem("language")]+"",Y,ae,Z;return{c(){e=f("div"),t=f("div"),o=f("div"),a=f("div"),r=f("h5"),u=E(c),d=V(),g=f("button"),I=V(),m=f("div"),_=f("form"),p=f("div"),y=f("div"),y.innerHTML=U,k=V(),j=f("div"),$=f("button"),q=E(H),C=V(),M=f("button"),z=E(Q),N=V(),R=f("div"),B=f("div"),b=f("i"),T=E(w),D=V(),G=f("strong"),W=E(J),F=E(`.
                                    `),ee=f("button"),te=V(),L=f("div"),X=f("button"),Y=E(K),this.h()},l(re){e=h(re,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var _e=v(e);t=h(_e,"DIV",{class:!0});var Be=v(t);o=h(Be,"DIV",{class:!0});var Je=v(o);a=h(Je,"DIV",{class:!0});var We=v(a);r=h(We,"H5",{class:!0,id:!0});var Te=v(r);u=S(Te,c),Te.forEach(i),d=O(We),g=h(We,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),v(g).forEach(i),We.forEach(i),I=O(Je),m=h(Je,"DIV",{class:!0});var ot=v(m);_=h(ot,"FORM",{});var ze=v(_);p=h(ze,"DIV",{class:!0});var Me=v(p);y=h(Me,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),rt(y)!=="svelte-isak5x"&&(y.innerHTML=U),k=O(Me),j=h(Me,"DIV",{class:!0});var nt=v(j);$=h(nt,"BUTTON",{type:!0,class:!0});var ce=v($);q=S(ce,H),ce.forEach(i),C=O(nt),M=h(nt,"BUTTON",{type:!0,class:!0});var ct=v(M);z=S(ct,Q),ct.forEach(i),nt.forEach(i),N=O(Me),R=h(Me,"DIV",{});var be=v(R);B=h(be,"DIV",{class:!0,role:!0});var ue=v(B);b=h(ue,"I",{class:!0}),v(b).forEach(i),T=S(ue,w),D=O(ue),G=h(ue,"STRONG",{});var ne=v(G);W=S(ne,J),ne.forEach(i),F=S(ue,`.
                                    `),ee=h(ue,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),v(ee).forEach(i),ue.forEach(i),be.forEach(i),te=O(Me),L=h(Me,"DIV",{class:!0});var ie=v(L);X=h(ie,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var de=v(X);Y=S(de,K),de.forEach(i),ie.forEach(i),Me.forEach(i),ze.forEach(i),ot.forEach(i),Je.forEach(i),Be.forEach(i),_e.forEach(i),this.h()},h(){s(r,"class","modal-title"),s(r,"id","exampleModalgridLabel"),s(g,"type","button"),s(g,"class","btn-close"),s(g,"data-bs-dismiss","modal"),s(g,"aria-label","Close"),s(a,"class","modal-header"),s(y,"class","text-center"),s(y,"id","qrImage"),s($,"type","button"),s($,"class","btn btn-primary waves-effect waves-light"),s(M,"type","button"),s(M,"class","btn btn-primary waves-effect waves-light"),s(j,"class","text-center hstack gap-2 justify-content-center"),s(b,"class","ri-alert-line me-3 align-middle"),s(ee,"type","button"),s(ee,"class","btn-close"),s(ee,"data-bs-dismiss","alert"),s(ee,"aria-label","Close"),s(B,"class","alert alert-warning alert-border-left alert-dismissible fade show"),s(B,"role","alert"),s(X,"type","button"),s(X,"class","btn btn-light fw-light"),s(X,"data-bs-dismiss","modal"),s(L,"class","hstack gap-2 justify-content-end"),s(p,"class","row g-3 d-print-block"),s(m,"class","modal-body"),s(o,"class","modal-content"),s(t,"class","modal-dialog modal-dialog-centered"),s(e,"class","modal fade"),s(e,"id","ViewQrStudentModal"),s(e,"tabindex","-1"),s(e,"aria-labelledby","ViewQrStudentModal"),s(e,"aria-modal","true")},m(re,_e){A(re,e,_e),l(e,t),l(t,o),l(o,a),l(a,r),l(r,u),l(a,d),l(a,g),l(o,I),l(o,m),l(m,_),l(_,p),l(p,y),n[7](y),l(p,k),l(p,j),l(j,$),l($,q),l(j,C),l(j,M),l(M,z),l(p,N),l(p,R),l(R,B),l(B,b),l(B,T),l(B,D),l(B,G),l(G,W),l(B,F),l(B,ee),l(p,te),l(p,L),l(L,X),l(X,Y),ae||(Z=[se($,"click",n[4]),se(M,"click",n[5]),se(e,"hidden.bs.modal",n[3]),se(e,"show.bs.modal",n[2])],ae=!0)},p:oe,i:oe,o:oe,d(re){re&&i(e),n[7](null),ae=!1,Ut(Z)}}}let ns=200,is=200;function Hr(n,e,t){let o,{type:a}=e,{studentStore:r}=ml("studentStore");sl(n,r,p=>t(9,o=p));let c,u;function d(p){u.update({width:300,height:300,type:"png",data:p})}rl(()=>{u=new Gs({width:ns,height:is,type:"png"}),u.append(c)});function g(){u.update({width:ns,height:is,type:"png",data:""})}r.subscribe(async()=>{if((o==null?void 0:o.id)==null)return;let p=await fetch(Ms(o.id,a),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST"});al(p);let y=await p.json();y.status=="success"&&d(y.data.otp)});async function I(){await u.download({name:o.fullname,extension:"png"})}async function m(){Fs({printable:"qrImage",type:"html",header:`Boofey - ${o.fullname}`})}function _(p){Ve[p?"unshift":"push"](()=>{c=p,t(0,c)})}return n.$$set=p=>{"type"in p&&t(6,a=p.type)},[c,r,d,g,I,m,a,_]}class jr extends Tt{constructor(e){super(),Dt(this,e,Hr,Ar,yt,{type:6})}}function cs(n,e,t){const o=n.slice();return o[7]=e[t],o[9]=t,o}function us(n){let e,t,o,a=P.noPicSub[localStorage.getItem("language")]+"",r,c,u,d,g;return{c(){e=f("div"),t=f("i"),o=new ta(!1),r=V(),c=f("strong"),u=E(n[1]),d=V(),g=f("button"),this.h()},l(I){e=h(I,"DIV",{class:!0,role:!0});var m=v(e);t=h(m,"I",{class:!0}),v(t).forEach(i),o=la(m,!1),r=O(m),c=h(m,"STRONG",{class:!0});var _=v(c);u=S(_,n[1]),_.forEach(i),d=O(m),g=h(m,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),v(g).forEach(i),m.forEach(i),this.h()},h(){s(t,"class","ri-alert-line me-3 align-middle"),o.a=r,s(c,"class","text-primary"),s(g,"type","button"),s(g,"class","btn-close"),s(g,"data-bs-dismiss","alert"),s(g,"aria-label","Close"),s(e,"class","alert alert-warning alert-border-left alert-dismissible fade show"),s(e,"role","alert")},m(I,m){A(I,e,m),l(e,t),o.m(a,e),l(e,r),l(e,c),l(c,u),l(e,d),l(e,g)},p(I,m){m&2&&me(u,I[1])},d(I){I&&i(e)}}}function ds(n,e){let t,o,a;return o=new Pr({props:{student:e[7]}}),{key:n,first:null,c(){t=hl(),Se(o.$$.fragment),this.h()},l(r){t=hl(),we(o.$$.fragment,r),this.h()},h(){this.first=t},m(r,c){A(r,t,c),ke(o,r,c),a=!0},p(r,c){e=r;const u={};c&4&&(u.student=e[7]),o.$set(u)},i(r){a||(fe(o.$$.fragment,r),a=!0)},o(r){he(o.$$.fragment,r),a=!1},d(r){r&&i(t),ye(o,r)}}}function Br(n){let e,t,o=n[3].url.searchParams.get("noFace"),a,r,c,u,d=P.studentsManagement[localStorage.getItem("language")]+"",g,I,m,_,p,y,U,k,j,$,H,q,C,M=[],Q=new Map,z,N,R=o&&us(n);_=new Nr({}),y=new jr({props:{type:"parent"}}),k=new ir({}),$=new qs({}),q=new Sr({});let B=Bt(n[2]);const b=w=>w[7].id;for(let w=0;w<B.length;w+=1){let T=cs(n,B,w),D=b(T);Q.set(D,M[w]=ds(D,T))}return{c(){e=f("div"),t=f("div"),R&&R.c(),a=V(),r=f("div"),c=f("div"),u=f("h4"),g=E(d),I=V(),m=f("div"),Se(_.$$.fragment),p=V(),Se(y.$$.fragment),U=V(),Se(k.$$.fragment),j=V(),Se($.$$.fragment),H=V(),Se(q.$$.fragment),C=V();for(let w=0;w<M.length;w+=1)M[w].c();this.h()},l(w){e=h(w,"DIV",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var D=v(t);R&&R.l(D),a=O(D),r=h(D,"DIV",{class:!0});var G=v(r);c=h(G,"DIV",{class:!0});var J=v(c);u=h(J,"H4",{class:!0});var W=v(u);g=S(W,d),W.forEach(i),I=O(J),m=h(J,"DIV",{class:!0});var F=v(m);we(_.$$.fragment,F),F.forEach(i),J.forEach(i),p=O(G),we(y.$$.fragment,G),U=O(G),we(k.$$.fragment,G),j=O(G),we($.$$.fragment,G),H=O(G),we(q.$$.fragment,G),G.forEach(i),D.forEach(i),C=O(T);for(let ee=0;ee<M.length;ee+=1)M[ee].l(T);T.forEach(i),this.h()},h(){s(u,"class","card-title mb-0 flex-grow-1"),s(m,"class","flex-shrink-0"),s(c,"class","card-header align-items-center d-flex"),s(r,"class","card"),s(t,"class","col-lg-12"),s(e,"class","row")},m(w,T){A(w,e,T),l(e,t),R&&R.m(t,null),l(t,a),l(t,r),l(r,c),l(c,u),l(u,g),l(c,I),l(c,m),ke(_,m,null),l(r,p),ke(y,r,null),l(r,U),ke(k,r,null),l(r,j),ke($,r,null),l(r,H),ke(q,r,null),l(e,C);for(let D=0;D<M.length;D+=1)M[D]&&M[D].m(e,null);n[5](e),N=!0},p(w,[T]){T&8&&(o=w[3].url.searchParams.get("noFace")),o?R?R.p(w,T):(R=us(w),R.c(),R.m(t,a)):R&&(R.d(1),R=null),T&4&&(B=Bt(w[2]),_s(),M=Hs(M,T,b,1,w,B,Q,e,js,ds,null,cs),vs())},i(w){if(!N){fe(_.$$.fragment,w),fe(y.$$.fragment,w),fe(k.$$.fragment,w),fe($.$$.fragment,w),fe(q.$$.fragment,w);for(let T=0;T<B.length;T+=1)fe(M[T]);w&&(z||Ls(()=>{z=As(e,Ys,{duration:200}),z.start()})),N=!0}},o(w){he(_.$$.fragment,w),he(y.$$.fragment,w),he(k.$$.fragment,w),he($.$$.fragment,w),he(q.$$.fragment,w);for(let T=0;T<M.length;T+=1)he(M[T]);N=!1},d(w){w&&i(e),R&&R.d(),ye(_),ye(y),ye(k),ye($),ye(q);for(let T=0;T<M.length;T+=1)M[T].d();n[5](null)}}}function Ur(n,e,t){let o,a;sl(n,Us,g=>t(3,a=g));let{data:r}=e,c,u="Student";rl(()=>{if(Ws(c),a.url.searchParams.get("noFace")){let g=a.url.searchParams.get("id");t(1,u=o.find(I=>I.id==g).fullname)}}),Ps("studentStore",{studentStore:Bs({})});function d(g){Ve[g?"unshift":"push"](()=>{c=g,t(0,c)})}return n.$$set=g=>{"data"in g&&t(4,r=g.data)},n.$$.update=()=>{n.$$.dirty&16&&t(2,o=r.studentsResponse.data.students),n.$$.dirty&16&&r.studentsResponse.pagination},[c,u,o,a,r,d]}class io extends Tt{constructor(e){super(),Dt(this,e,Ur,Br,yt,{data:4})}}export{io as component,no as universal};
