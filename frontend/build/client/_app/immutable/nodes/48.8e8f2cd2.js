import{a9 as ms,D as ps,av as vs,aC as gs}from"../chunks/paths.29c5142d.js";import{a as Nl}from"../chunks/auth.82ff8344.js";import{s as ol,f as c,a as p,g as d,h as m,z as T,c as v,d as u,j as r,E as It,i as P,C as i,T as Pl,y as gl,l as Q,m as K,n as fe,e as rl,A as Kt,p as mt,K as X,H as kl,B as El,L as il,F as Ue,Q as ns,S as tl,G as Ol,M as Dl,I as bs,J as Cs,D as Ss,o as $s,R as Is}from"../chunks/scheduler.726ac76d.js";import{S as cl,i as dl,b as Ee,d as Te,m as Ne,a as de,t as _e,e as De,h as ll,g as is,c as rs,f as ws}from"../chunks/index.8a5ed380.js";import{g as ks,a as Es}from"../chunks/spread.8a54911c.js";import{P as Ts}from"../chunks/Pagination.0a529dad.js";import{S as Ns}from"../chunks/SearchTable.1c079677.js";import{e as Ll}from"../chunks/each.381f634d.js";import{D as Ds}from"../chunks/DeleteStudentModal.27ddd880.js";import{f as Tl,i as os,g as cs}from"../chunks/utils.5f096ebf.js";import{V as el}from"../chunks/ViewRow.487fb326.js";import{t as ds}from"../chunks/toast.aca1940a.js";import{P as fs,Y as us,Q as Ps}from"../chunks/Qr.e7e61473.js";import{S as hs}from"../chunks/SchoolsTableCollapse.54a8e5ef.js";import{D as _s}from"../chunks/DivisionsTableCollapse.167c8c7c.js";import{w as Os}from"../chunks/singletons.df66ea99.js";import{n as ys,p as Ls}from"../chunks/stores.1008b3f8.js";import{i as Vs}from"../chunks/initToolTip.b2308c6a.js";import{I as Ms}from"../chunks/initFlatpickr.06386e0f.js";import{f as As}from"../chunks/index.955fed47.js";const Gs=!1;async function Hs({fetch:n,url:e,depends:t,params:s}){t("students:refresh");let l=e.searchParams.get("archived");l?l=l=="true"?"true":"false":l="";let a=e.searchParams.get("subscribed");a?a=a=="true"?"true":"false":a="";let o=await n(ms(ps(e),null,{archived:l,subscribed:a}),{headers:{Authorization:`${localStorage.getItem("SID")}`}});return Nl(o),{studentsResponse:await o.json(),tabTitle:"Students"}}const Ya=Object.freeze(Object.defineProperty({__proto__:null,load:Hs,ssr:Gs},Symbol.toStringTag,{value:"Module"}));function js(n){var a;let e,t,s=((a=n[0])==null?void 0:a.fullname)+"",l;return{c(){e=Q("Name : "),t=c("span"),l=Q(s),this.h()},l(o){e=K(o,"Name : "),t=d(o,"SPAN",{class:!0});var f=m(t);l=K(f,s),f.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(o,f){P(o,e,f),P(o,t,f),i(t,l)},p(o,f){var _;f&1&&s!==(s=((_=o[0])==null?void 0:_.fullname)+"")&&fe(l,s)},d(o){o&&(u(e),u(t))}}}function Rs(n){var f,_,h,g;let e,t,s,l,a=((g=(h=(_=(f=n[0])==null?void 0:f.father)==null?void 0:_.user)==null?void 0:h.profile)==null?void 0:g.fullname)+"",o;return{c(){e=Q(`Father : 
                            `),t=c("img"),l=p(),o=Q(a),this.h()},l(S){e=K(S,`Father : 
                            `),t=d(S,"IMG",{src:!0,alt:!0,class:!0}),l=v(S),o=K(S,a),this.h()},h(){var S,I,M,C,$;It(t.src,s=($=(C=(M=(I=(S=n[0])==null?void 0:S.father)==null?void 0:I.user)==null?void 0:M.profile)==null?void 0:C.image)==null?void 0:$.full_path)||r(t,"src",s),r(t,"alt",""),r(t,"class","avatar-xs d-inline rounded-circle")},m(S,I){P(S,e,I),P(S,t,I),P(S,l,I),P(S,o,I)},p(S,I){var M,C,$,A,j,k,V,U,Y;I&1&&!It(t.src,s=(j=(A=($=(C=(M=S[0])==null?void 0:M.father)==null?void 0:C.user)==null?void 0:$.profile)==null?void 0:A.image)==null?void 0:j.full_path)&&r(t,"src",s),I&1&&a!==(a=((Y=(U=(V=(k=S[0])==null?void 0:k.father)==null?void 0:V.user)==null?void 0:U.profile)==null?void 0:Y.fullname)+"")&&fe(o,a)},d(S){S&&(u(e),u(t),u(l),u(o))}}}function Fs(n){let e,t="Not Subscribed";return{c(){e=c("span"),e.textContent=t,this.h()},l(s){e=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1a2xrxf"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-danger-subtle text-danger")},m(s,l){P(s,e,l)},d(s){s&&u(e)}}}function Us(n){let e,t="Subscribed";return{c(){e=c("span"),e.textContent=t,this.h()},l(s){e=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-3hcgtk"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-success-subtle text-success")},m(s,l){P(s,e,l)},d(s){s&&u(e)}}}function Bs(n){let e,t;function s(o,f){var _;return(_=o[0])!=null&&_.subscribed?Us:Fs}let l=s(n),a=l(n);return{c(){e=Q("Status :         "),a.c(),t=rl()},l(o){e=K(o,"Status :         "),a.l(o),t=rl()},m(o,f){P(o,e,f),a.m(o,f),P(o,t,f)},p(o,f){l!==(l=s(o))&&(a.d(1),a=l(o),a&&(a.c(),a.m(t.parentNode,t)))},d(o){o&&(u(e),u(t)),a.d(o)}}}function Ys(n){var f,_;let e,t,s,l,a=((_=(f=n[0])==null?void 0:f.school)==null?void 0:_.name)+"",o;return{c(){e=Q(`School :      
                            `),t=c("img"),l=p(),o=Q(a),this.h()},l(h){e=K(h,`School :      
                            `),t=d(h,"IMG",{src:!0,alt:!0,class:!0}),l=v(h),o=K(h,a),this.h()},h(){var h,g,S;It(t.src,s=(S=(g=(h=n[0])==null?void 0:h.school)==null?void 0:g.logo)==null?void 0:S.full_path)||r(t,"src",s),r(t,"alt",""),r(t,"class","avatar-xs rounded-circle")},m(h,g){P(h,e,g),P(h,t,g),P(h,l,g),P(h,o,g)},p(h,g){var S,I,M,C,$;g&1&&!It(t.src,s=(M=(I=(S=h[0])==null?void 0:S.school)==null?void 0:I.logo)==null?void 0:M.full_path)&&r(t,"src",s),g&1&&a!==(a=(($=(C=h[0])==null?void 0:C.school)==null?void 0:$.name)+"")&&fe(o,a)},d(h){h&&(u(e),u(t),u(l),u(o))}}}function qs(n){let e,t="No Division";return{c(){e=c("span"),e.textContent=t,this.h()},l(s){e=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-xnfvbo"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-danger-subtle text-danger")},m(s,l){P(s,e,l)},p:Kt,d(s){s&&u(e)}}}function xs(n){var l,a;let e,t=((a=(l=n[0])==null?void 0:l.division)==null?void 0:a.name)+"",s;return{c(){e=c("span"),s=Q(t),this.h()},l(o){e=d(o,"SPAN",{class:!0});var f=m(e);s=K(f,t),f.forEach(u),this.h()},h(){r(e,"class","fw-normal")},m(o,f){P(o,e,f),i(e,s)},p(o,f){var _,h;f&1&&t!==(t=((h=(_=o[0])==null?void 0:_.division)==null?void 0:h.name)+"")&&fe(s,t)},d(o){o&&u(e)}}}function zs(n){let e,t;function s(o,f){var _;return(_=o[0])!=null&&_.division?xs:qs}let l=s(n),a=l(n);return{c(){e=Q("Devision : "),a.c(),t=rl()},l(o){e=K(o,"Devision : "),a.l(o),t=rl()},m(o,f){P(o,e,f),a.m(o,f),P(o,t,f)},p(o,f){l===(l=s(o))&&a?a.p(o,f):(a.d(1),a=l(o),a&&(a.c(),a.m(t.parentNode,t)))},d(o){o&&(u(e),u(t)),a.d(o)}}}function Js(n){let e,t,s=n[0].className+"",l;return{c(){e=Q("Class : "),t=c("span"),l=Q(s),this.h()},l(a){e=K(a,"Class : "),t=d(a,"SPAN",{class:!0});var o=m(t);l=K(o,s),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){P(a,e,o),P(a,t,o),i(t,l)},p(a,o){o&1&&s!==(s=a[0].className+"")&&fe(l,s)},d(a){a&&(u(e),u(t))}}}function Qs(n){let e,t,s=Tl(n[0].created_at)+"",l;return{c(){e=Q("Created at : "),t=c("span"),l=Q(s),this.h()},l(a){e=K(a,"Created at : "),t=d(a,"SPAN",{class:!0});var o=m(t);l=K(o,s),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){P(a,e,o),P(a,t,o),i(t,l)},p(a,o){o&1&&s!==(s=Tl(a[0].created_at)+"")&&fe(l,s)},d(a){a&&(u(e),u(t))}}}function Ks(n){let e,t,s=Tl(n[0].updated_at)+"",l;return{c(){e=Q("Updated at : "),t=c("span"),l=Q(s),this.h()},l(a){e=K(a,"Updated at : "),t=d(a,"SPAN",{class:!0});var o=m(t);l=K(o,s),o.forEach(u),this.h()},h(){r(t,"class","fw-normal")},m(a,o){P(a,e,o),P(a,t,o),i(t,l)},p(a,o){o&1&&s!==(s=Tl(a[0].updated_at)+"")&&fe(l,s)},d(a){a&&(u(e),u(t))}}}function Ws(n){let e,t,s,l,a='<h5 class="modal-title" id="exampleModalgridLabel">View Permission</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,f,_,h,g,S,I,M,C,$,A,j,k,V,U,Y,F,Z,$e,q,ee,O,me='<button type="button" class="btn btn-light fw-light" data-bs-dismiss="modal">Close</button>',B;return S=new el({props:{$$slots:{default:[js]},$$scope:{ctx:n}}}),M=new el({props:{$$slots:{default:[Rs]},$$scope:{ctx:n}}}),$=new el({props:{$$slots:{default:[Bs]},$$scope:{ctx:n}}}),j=new el({props:{$$slots:{default:[Ys]},$$scope:{ctx:n}}}),V=new el({props:{$$slots:{default:[zs]},$$scope:{ctx:n}}}),Y=new el({props:{$$slots:{default:[Js]},$$scope:{ctx:n}}}),Z=new el({props:{$$slots:{default:[Qs]},$$scope:{ctx:n}}}),q=new el({props:{$$slots:{default:[Ks]},$$scope:{ctx:n}}}),{c(){e=c("div"),t=c("div"),s=c("div"),l=c("div"),l.innerHTML=a,o=p(),f=c("div"),_=c("img"),g=p(),Ee(S.$$.fragment),I=p(),Ee(M.$$.fragment),C=p(),Ee($.$$.fragment),A=p(),Ee(j.$$.fragment),k=p(),Ee(V.$$.fragment),U=p(),Ee(Y.$$.fragment),F=p(),Ee(Z.$$.fragment),$e=p(),Ee(q.$$.fragment),ee=p(),O=c("div"),O.innerHTML=me,this.h()},l(E){e=d(E,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var N=m(e);t=d(N,"DIV",{class:!0});var b=m(t);s=d(b,"DIV",{class:!0});var D=m(s);l=d(D,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-fwqd2z"&&(l.innerHTML=a),o=v(D),f=d(D,"DIV",{class:!0});var G=m(f);_=d(G,"IMG",{class:!0,alt:!0,width:!0,src:!0}),g=v(G),Te(S.$$.fragment,G),I=v(G),Te(M.$$.fragment,G),C=v(G),Te($.$$.fragment,G),A=v(G),Te(j.$$.fragment,G),k=v(G),Te(V.$$.fragment,G),U=v(G),Te(Y.$$.fragment,G),F=v(G),Te(Z.$$.fragment,G),$e=v(G),Te(q.$$.fragment,G),ee=v(G),O=d(G,"DIV",{class:!0,"data-svelte-h":!0}),T(O)!=="svelte-1vrqtk3"&&(O.innerHTML=me),G.forEach(u),D.forEach(u),b.forEach(u),N.forEach(u),this.h()},h(){var E,N;r(l,"class","modal-header"),r(_,"class","rounded avatar-xl mb-3 object-fit-cover"),r(_,"alt","Student image"),r(_,"width","200"),It(_.src,h=(N=(E=n[0])==null?void 0:E.image)==null?void 0:N.full_path)||r(_,"src",h),r(O,"class","hstack gap-2 justify-content-end"),r(f,"class","modal-body p-4"),r(s,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered"),r(e,"class","modal fade"),r(e,"id","viewStudentModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(E,N){P(E,e,N),i(e,t),i(t,s),i(s,l),i(s,o),i(s,f),i(f,_),i(f,g),Ne(S,f,null),i(f,I),Ne(M,f,null),i(f,C),Ne($,f,null),i(f,A),Ne(j,f,null),i(f,k),Ne(V,f,null),i(f,U),Ne(Y,f,null),i(f,F),Ne(Z,f,null),i(f,$e),Ne(q,f,null),i(f,ee),i(f,O),B=!0},p(E,[N]){var Le,te;(!B||N&1&&!It(_.src,h=(te=(Le=E[0])==null?void 0:Le.image)==null?void 0:te.full_path))&&r(_,"src",h);const b={};N&5&&(b.$$scope={dirty:N,ctx:E}),S.$set(b);const D={};N&5&&(D.$$scope={dirty:N,ctx:E}),M.$set(D);const G={};N&5&&(G.$$scope={dirty:N,ctx:E}),$.$set(G);const ue={};N&5&&(ue.$$scope={dirty:N,ctx:E}),j.$set(ue);const ae={};N&5&&(ae.$$scope={dirty:N,ctx:E}),V.$set(ae);const x={};N&5&&(x.$$scope={dirty:N,ctx:E}),Y.$set(x);const se={};N&5&&(se.$$scope={dirty:N,ctx:E}),Z.$set(se);const R={};N&5&&(R.$$scope={dirty:N,ctx:E}),q.$set(R)},i(E){B||(de(S.$$.fragment,E),de(M.$$.fragment,E),de($.$$.fragment,E),de(j.$$.fragment,E),de(V.$$.fragment,E),de(Y.$$.fragment,E),de(Z.$$.fragment,E),de(q.$$.fragment,E),B=!0)},o(E){_e(S.$$.fragment,E),_e(M.$$.fragment,E),_e($.$$.fragment,E),_e(j.$$.fragment,E),_e(V.$$.fragment,E),_e(Y.$$.fragment,E),_e(Z.$$.fragment,E),_e(q.$$.fragment,E),B=!1},d(E){E&&u(e),De(S),De(M),De($),De(j),De(V),De(Y),De(Z),De(q)}}}function Xs(n,e,t){let s,{studentStore:l}=Pl("studentStore");return gl(n,l,a=>t(0,s=a)),[s,l]}class Zs extends cl{constructor(e){super(),dl(this,e,Xs,Ws,ol,{})}}function Vl(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1skq92h"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(s,l){P(s,e,l)},d(s){s&&u(e)}}}function Ml(n){let e,t=n[3].father_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].father_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Al(n){let e,t=n[3].school_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].school_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Gl(n){let e,t=n[3].academic_year_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].academic_year_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Hl(n){let e,t=n[3].division_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].division_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function jl(n){let e,t=n[3].firstname[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].firstname[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Rl(n){let e,t=n[3].lastname[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].lastname[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Fl(n){let e,t=n[3].class[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].class[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Ul(n){let e,t=n[3].nfc_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].nfc_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function ea(n){let e,t,s,l,a,o="Current Student image";return{c(){e=c("figure"),t=c("img"),l=p(),a=c("figcaption"),a.textContent=o,this.h()},l(f){e=d(f,"FIGURE",{class:!0});var _=m(e);t=d(_,"IMG",{alt:!0,width:!0,src:!0,class:!0}),l=v(_),a=d(_,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),T(a)!=="svelte-1j0mbyv"&&(a.textContent=o),_.forEach(u),this.h()},h(){var f,_;r(t,"alt","school logo "),r(t,"width","200"),It(t.src,s=(_=(f=n[14])==null?void 0:f.image)==null?void 0:_.full_path)||r(t,"src",s),r(t,"class","figure-img rounded avatar-xl mb-3 object-fit-cover"),r(a,"class","figure-caption"),r(e,"class","figure")},m(f,_){P(f,e,_),i(e,t),i(e,l),i(e,a)},p(f,_){var h,g;_[0]&16384&&!It(t.src,s=(g=(h=f[14])==null?void 0:h.image)==null?void 0:g.full_path)&&r(t,"src",s)},d(f){f&&u(e)}}}function ta(n){var _;let e,t,s="Student  Image",l,a,o,f=((_=n[3])==null?void 0:_.file)&&Bl(n);return{c(){e=c("div"),t=c("label"),t.textContent=s,l=p(),a=c("input"),o=p(),f&&f.c(),this.h()},l(h){e=d(h,"DIV",{});var g=m(e);t=d(g,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(t)!=="svelte-3h3qwu"&&(t.textContent=s),l=v(g),a=d(g,"INPUT",{class:!0,name:!0,type:!0,id:!0}),o=v(g),f&&f.l(g),g.forEach(u),this.h()},h(){r(t,"for","formFile"),r(t,"class","form-label"),r(a,"class","form-control"),r(a,"name","file"),r(a,"type","file"),r(a,"id","formFile")},m(h,g){P(h,e,g),i(e,t),i(e,l),i(e,a),i(e,o),f&&f.m(e,null)},p(h,g){var S;(S=h[3])!=null&&S.file?f?f.p(h,g):(f=Bl(h),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(h){h&&u(e),f&&f.d()}}}function Bl(n){let e,t=n[3].file[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a[0]&8&&t!==(t=l[3].file[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function la(n){var ul,hl,_l,ml,pl,vl,L,ke;let e,t,s,l,a='<h5 class="modal-title" id="exampleModalgridLabel">Add Student</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,f,_,h,g,S,I,M,C,$,A,j,k,V,U,Y,F,Z,$e,q,ee,O,me,B,E,N="First Name",b,D,G,ue,ae,x,se,R="Last Name",Le,te,ht,pt,pe,Ce,Rt="Class",wt,H,be,Ft="-- select a class -- ",we,Ve="Primary School - Grade 1",Me,Lt="Primary School - Grade 2",Ae,Ut="Primary School - Grade 3",Ie,ct="Primary School - Grade 4",Ge,Bt="Primary School - Grade 5",He,Yt="Primary School - Grade 6",je,qt="Middle School - Grade 1",Re,xt="Middle School - Grade 2",Fe,Wt="Middle School - Grade 3",Pe,dt="Secondary School - Grade 1",le,vt="Secondary School - Grade 2",ve,gt="Secondary School - Grade 3",ft,W,y,Be,Xt="NFC ID",Tt,Oe,Vt,Mt,at,Ye,ye,At,qe,Zt="On Hold",Nt,xe,ze,_t,Gt,Qe,Ke="Edit Image",Ht,kt,We,Et,al="Close",jt,Dt,zt,nl,nt,ut=n[4]&&Vl();function bl(w){n[18](w)}let Xe={collapse:!0,selected:n[14].father,title:"Student's Parent"};n[9]!==void 0&&(Xe.resetParent=n[9]),g=new fs({props:Xe}),mt.push(()=>ll(g,"resetParent",bl)),g.$on("select",n[19]);let it=((ul=n[3])==null?void 0:ul.father_id)&&Ml(n);function Cl(w){n[20](w)}let Ze={collapse:!0,selected:n[14].school,title:"Student's School"};n[10]!==void 0&&(Ze.resetSchool=n[10]),C=new hs({props:Ze}),mt.push(()=>ll(C,"resetSchool",Cl)),C.$on("select",n[21]);let rt=((hl=n[3])==null?void 0:hl.school_id)&&Al(n);function Sl(w){n[22](w)}let et={collapse:!0,schoolId:n[6],selected:n[14].academic_year,title:"Student's Academic Year"};n[11]!==void 0&&(et.resetYear=n[11]),k=new us({props:et}),mt.push(()=>ll(k,"resetYear",Sl)),k.$on("select",n[23]);let ot=((_l=n[3])==null?void 0:_l.academic_year_id)&&Gl(n);function $l(w){n[24](w)}let tt={collapse:!0,schoolId:n[6],selected:n[14].division,title:"Student's Division"};n[12]!==void 0&&(tt.resetDivision=n[12]),F=new _s({props:tt}),mt.push(()=>ll(F,"resetDivision",$l)),F.$on("select",n[25]);let ne=((ml=n[3])==null?void 0:ml.division_id)&&Hl(n),ie=((pl=n[3])==null?void 0:pl.firstname)&&jl(n),re=((vl=n[3])==null?void 0:vl.lastname)&&Rl(n),oe=((L=n[3])==null?void 0:L.class)&&Fl(n),ce=((ke=n[3])==null?void 0:ke.nfc_id)&&Ul(n);function fl(w,J){return w[13]?ta:ea}let sl=fl(n),$t=sl(n);return{c(){e=c("div"),t=c("div"),s=c("div"),l=c("div"),l.innerHTML=a,o=p(),f=c("div"),ut&&ut.c(),_=p(),h=c("div"),Ee(g.$$.fragment),I=p(),it&&it.c(),M=p(),Ee(C.$$.fragment),A=p(),rt&&rt.c(),j=p(),Ee(k.$$.fragment),U=p(),ot&&ot.c(),Y=p(),Ee(F.$$.fragment),$e=p(),ne&&ne.c(),q=p(),ee=c("form"),O=c("div"),me=c("div"),B=c("div"),E=c("label"),E.textContent=N,b=p(),D=c("input"),G=p(),ie&&ie.c(),ue=p(),ae=c("div"),x=c("div"),se=c("label"),se.textContent=R,Le=p(),te=c("input"),ht=p(),re&&re.c(),pt=p(),pe=c("div"),Ce=c("label"),Ce.textContent=Rt,wt=p(),H=c("select"),be=c("option"),be.textContent=Ft,we=c("option"),we.textContent=Ve,Me=c("option"),Me.textContent=Lt,Ae=c("option"),Ae.textContent=Ut,Ie=c("option"),Ie.textContent=ct,Ge=c("option"),Ge.textContent=Bt,He=c("option"),He.textContent=Yt,je=c("option"),je.textContent=qt,Re=c("option"),Re.textContent=xt,Fe=c("option"),Fe.textContent=Wt,Pe=c("option"),Pe.textContent=dt,le=c("option"),le.textContent=vt,ve=c("option"),ve.textContent=gt,ft=p(),oe&&oe.c(),W=p(),y=c("div"),Be=c("label"),Be.textContent=Xt,Tt=p(),Oe=c("input"),Vt=p(),ce&&ce.c(),Mt=p(),at=c("div"),Ye=c("div"),ye=c("input"),At=p(),qe=c("label"),qe.textContent=Zt,Nt=p(),xe=c("div"),ze=c("div"),_t=c("input"),Gt=p(),Qe=c("label"),Qe.textContent=Ke,Ht=p(),$t.c(),kt=p(),We=c("div"),Et=c("button"),Et.textContent=al,jt=p(),Dt=c("input"),this.h()},l(w){e=d(w,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var J=m(e);t=d(J,"DIV",{class:!0});var bt=m(t);s=d(bt,"DIV",{class:!0});var he=m(s);l=d(he,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-4b19vr"&&(l.innerHTML=a),o=v(he),f=d(he,"DIV",{class:!0});var Ct=m(f);ut&&ut.l(Ct),_=v(Ct),h=d(Ct,"DIV",{class:!0});var z=m(h);Te(g.$$.fragment,z),I=v(z),it&&it.l(z),M=v(z),Te(C.$$.fragment,z),A=v(z),rt&&rt.l(z),j=v(z),Te(k.$$.fragment,z),U=v(z),ot&&ot.l(z),Y=v(z),Te(F.$$.fragment,z),$e=v(z),ne&&ne.l(z),q=v(z),ee=d(z,"FORM",{});var Pt=m(ee);O=d(Pt,"DIV",{class:!0});var ge=m(O);me=d(ge,"DIV",{class:!0});var Ot=m(me);B=d(Ot,"DIV",{});var lt=m(B);E=d(lt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(E)!=="svelte-1hs0n20"&&(E.textContent=N),b=v(lt),D=d(lt,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),G=v(lt),ie&&ie.l(lt),lt.forEach(u),Ot.forEach(u),ue=v(ge),ae=d(ge,"DIV",{class:!0});var St=m(ae);x=d(St,"DIV",{});var Se=m(x);se=d(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(se)!=="svelte-1tzb4fa"&&(se.textContent=R),Le=v(Se),te=d(Se,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),ht=v(Se),re&&re.l(Se),Se.forEach(u),St.forEach(u),pt=v(ge),pe=d(ge,"DIV",{class:!0});var st=m(pe);Ce=d(st,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Ce)!=="svelte-15fukk2"&&(Ce.textContent=Rt),wt=v(st),H=d(st,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var Je=m(H);be=d(Je,"OPTION",{"data-svelte-h":!0}),T(be)!=="svelte-wf9klv"&&(be.textContent=Ft),we=d(Je,"OPTION",{"data-svelte-h":!0}),T(we)!=="svelte-14ylisr"&&(we.textContent=Ve),Me=d(Je,"OPTION",{"data-svelte-h":!0}),T(Me)!=="svelte-bmc3c9"&&(Me.textContent=Lt),Ae=d(Je,"OPTION",{"data-svelte-h":!0}),T(Ae)!=="svelte-pzy12b"&&(Ae.textContent=Ut),Ie=d(Je,"OPTION",{"data-svelte-h":!0}),T(Ie)!=="svelte-17rvz3h"&&(Ie.textContent=ct),Ge=d(Je,"OPTION",{"data-svelte-h":!0}),T(Ge)!=="svelte-152oma3"&&(Ge.textContent=Bt),He=d(Je,"OPTION",{"data-svelte-h":!0}),T(He)!=="svelte-1y7a26p"&&(He.textContent=Yt),je=d(Je,"OPTION",{"data-svelte-h":!0}),T(je)!=="svelte-118wla"&&(je.textContent=qt),Re=d(Je,"OPTION",{"data-svelte-h":!0}),T(Re)!=="svelte-1gxeq1e"&&(Re.textContent=xt),Fe=d(Je,"OPTION",{"data-svelte-h":!0}),T(Fe)!=="svelte-oul01a"&&(Fe.textContent=Wt),Pe=d(Je,"OPTION",{"data-svelte-h":!0}),T(Pe)!=="svelte-1coeeh0"&&(Pe.textContent=dt),le=d(Je,"OPTION",{"data-svelte-h":!0}),T(le)!=="svelte-kq57ip"&&(le.textContent=vt),ve=d(Je,"OPTION",{"data-svelte-h":!0}),T(ve)!=="svelte-14cpvwt"&&(ve.textContent=gt),Je.forEach(u),ft=v(st),oe&&oe.l(st),st.forEach(u),W=v(ge),y=d(ge,"DIV",{class:!0});var yt=m(y);Be=d(yt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Be)!=="svelte-1xnq29g"&&(Be.textContent=Xt),Tt=v(yt),Oe=d(yt,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),Vt=v(yt),ce&&ce.l(yt),yt.forEach(u),Mt=v(ge),at=d(ge,"DIV",{class:!0});var Jt=m(at);Ye=d(Jt,"DIV",{class:!0});var Qt=m(Ye);ye=d(Qt,"INPUT",{class:!0,type:!0,role:!0,id:!0}),At=v(Qt),qe=d(Qt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),T(qe)!=="svelte-vorh5w"&&(qe.textContent=Zt),Qt.forEach(u),Jt.forEach(u),Nt=v(ge),xe=d(ge,"DIV",{class:!0});var yl=m(xe);ze=d(yl,"DIV",{class:!0});var Il=m(ze);_t=d(Il,"INPUT",{class:!0,type:!0,role:!0,id:!0}),Gt=v(Il),Qe=d(Il,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),T(Qe)!=="svelte-mhtbt5"&&(Qe.textContent=Ke),Il.forEach(u),yl.forEach(u),Ht=v(ge),$t.l(ge),kt=v(ge),We=d(ge,"DIV",{class:!0});var wl=m(We);Et=d(wl,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),T(Et)!=="svelte-1h5uvws"&&(Et.textContent=al),jt=v(wl),Dt=d(wl,"INPUT",{type:!0,class:!0}),wl.forEach(u),ge.forEach(u),Pt.forEach(u),z.forEach(u),Ct.forEach(u),he.forEach(u),bt.forEach(u),J.forEach(u),this.h()},h(){r(l,"class","modal-header"),r(E,"for","firstName"),r(E,"class","form-label"),r(D,"type","text"),r(D,"name","firstname"),r(D,"class","form-control"),r(D,"id","firstName"),r(D,"placeholder","Enter Firstname"),r(me,"class","col-xxl-6"),r(se,"for","lastName"),r(se,"class","form-label"),r(te,"type","text"),r(te,"name","lastname"),r(te,"class","form-control"),r(te,"id","lastName"),r(te,"placeholder","Enter Lastname"),r(ae,"class","col-xxl-6"),r(Ce,"for","class"),r(Ce,"class","form-label"),be.disabled=!0,be.selected=!0,be.__value="",X(be,be.__value),we.__value=0,X(we,we.__value),Me.__value=1,X(Me,Me.__value),Ae.__value=2,X(Ae,Ae.__value),Ie.__value=3,X(Ie,Ie.__value),Ge.__value=4,X(Ge,Ge.__value),He.__value=5,X(He,He.__value),je.__value=6,X(je,je.__value),Re.__value=7,X(Re,Re.__value),Fe.__value=8,X(Fe,Fe.__value),Pe.__value=9,X(Pe,Pe.__value),le.__value=10,X(le,le.__value),ve.__value=11,X(ve,ve.__value),r(H,"class","form-select"),r(H,"name","class"),r(H,"id","class"),r(H,"aria-label","Default select example"),n[14].class===void 0&&kl(()=>n[29].call(H)),r(pe,"class","col-lg-12"),r(Be,"for","studentname"),r(Be,"class","form-label"),r(Oe,"type","text"),r(Oe,"name","nfc_id"),r(Oe,"class","form-control"),r(Oe,"id","nfc_id"),r(Oe,"placeholder","Enter Studentname name"),r(y,"class","col-lg-12"),r(ye,"class","form-check-input"),r(ye,"type","checkbox"),r(ye,"role","switch"),r(ye,"id","SwitchCheck1"),r(qe,"class","form-check-label"),r(qe,"for","SwitchCheck1"),r(Ye,"class","form-check form-switch col"),r(at,"class","row ps-3 g-3"),r(_t,"class","form-check-input"),r(_t,"type","checkbox"),r(_t,"role","switch"),r(_t,"id","SwitchCheck1"),r(Qe,"class","form-check-label"),r(Qe,"for","SwitchCheck1"),r(ze,"class","form-check form-switch col"),r(xe,"class","row ps-3 g-3"),r(Et,"type","button"),r(Et,"class","btn btn-light fw-light"),r(Et,"data-bs-dismiss","modal"),r(Dt,"type","submit"),r(Dt,"class","btn btn-primary waves-effect waves-light"),Dt.value="Save",r(We,"class","hstack gap-2 justify-content-end"),r(O,"class","row g-3"),r(h,"class","row g-3"),El(h,"d-none",n[4]),r(f,"class","modal-body"),r(s,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered modal-lg"),r(e,"class","modal fade"),r(e,"id","editStudentModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(w,J){P(w,e,J),i(e,t),i(t,s),i(s,l),i(s,o),i(s,f),ut&&ut.m(f,null),i(f,_),i(f,h),Ne(g,h,null),i(h,I),it&&it.m(h,null),i(h,M),Ne(C,h,null),i(h,A),rt&&rt.m(h,null),i(h,j),Ne(k,h,null),i(h,U),ot&&ot.m(h,null),i(h,Y),Ne(F,h,null),i(h,$e),ne&&ne.m(h,null),i(h,q),i(h,ee),i(ee,O),i(O,me),i(me,B),i(B,E),i(B,b),i(B,D),X(D,n[14].firstname),i(B,G),ie&&ie.m(B,null),i(O,ue),i(O,ae),i(ae,x),i(x,se),i(x,Le),i(x,te),X(te,n[14].lastname),i(x,ht),re&&re.m(x,null),i(O,pt),i(O,pe),i(pe,Ce),i(pe,wt),i(pe,H),i(H,be),i(H,we),i(H,Me),i(H,Ae),i(H,Ie),i(H,Ge),i(H,He),i(H,je),i(H,Re),i(H,Fe),i(H,Pe),i(H,le),i(H,ve),n[28](H),il(H,n[14].class,!0),i(pe,ft),oe&&oe.m(pe,null),i(O,W),i(O,y),i(y,Be),i(y,Tt),i(y,Oe),X(Oe,n[14].nfc_id),i(y,Vt),ce&&ce.m(y,null),i(O,Mt),i(O,at),i(at,Ye),i(Ye,ye),ye.checked=n[14].onhold,i(Ye,At),i(Ye,qe),i(O,Nt),i(O,xe),i(xe,ze),i(ze,_t),_t.checked=n[13],i(ze,Gt),i(ze,Qe),i(O,Ht),$t.m(O,null),i(O,kt),i(O,We),i(We,Et),n[33](Et),i(We,jt),i(We,Dt),n[34](ee),zt=!0,nl||(nt=[Ue(D,"input",n[26]),Ue(te,"input",n[27]),Ue(H,"change",n[29]),Ue(Oe,"input",n[30]),Ue(ye,"change",n[31]),Ue(_t,"change",n[32]),Ue(ee,"submit",ns(n[16])),Ue(e,"hidden.bs.modal",n[17])],nl=!0)},p(w,J){var Pt,ge,Ot,lt,St,Se,st,Je;w[4]?ut||(ut=Vl(),ut.c(),ut.m(f,_)):ut&&(ut.d(1),ut=null);const bt={};J[0]&16384&&(bt.selected=w[14].father),!S&&J[0]&512&&(S=!0,bt.resetParent=w[9],tl(()=>S=!1)),g.$set(bt),(Pt=w[3])!=null&&Pt.father_id?it?it.p(w,J):(it=Ml(w),it.c(),it.m(h,M)):it&&(it.d(1),it=null);const he={};J[0]&16384&&(he.selected=w[14].school),!$&&J[0]&1024&&($=!0,he.resetSchool=w[10],tl(()=>$=!1)),C.$set(he),(ge=w[3])!=null&&ge.school_id?rt?rt.p(w,J):(rt=Al(w),rt.c(),rt.m(h,j)):rt&&(rt.d(1),rt=null);const Ct={};J[0]&64&&(Ct.schoolId=w[6]),J[0]&16384&&(Ct.selected=w[14].academic_year),!V&&J[0]&2048&&(V=!0,Ct.resetYear=w[11],tl(()=>V=!1)),k.$set(Ct),(Ot=w[3])!=null&&Ot.academic_year_id?ot?ot.p(w,J):(ot=Gl(w),ot.c(),ot.m(h,Y)):ot&&(ot.d(1),ot=null);const z={};J[0]&64&&(z.schoolId=w[6]),J[0]&16384&&(z.selected=w[14].division),!Z&&J[0]&4096&&(Z=!0,z.resetDivision=w[12],tl(()=>Z=!1)),F.$set(z),(lt=w[3])!=null&&lt.division_id?ne?ne.p(w,J):(ne=Hl(w),ne.c(),ne.m(h,q)):ne&&(ne.d(1),ne=null),J[0]&16384&&D.value!==w[14].firstname&&X(D,w[14].firstname),(St=w[3])!=null&&St.firstname?ie?ie.p(w,J):(ie=jl(w),ie.c(),ie.m(B,null)):ie&&(ie.d(1),ie=null),J[0]&16384&&te.value!==w[14].lastname&&X(te,w[14].lastname),(Se=w[3])!=null&&Se.lastname?re?re.p(w,J):(re=Rl(w),re.c(),re.m(x,null)):re&&(re.d(1),re=null),J[0]&16384&&il(H,w[14].class),(st=w[3])!=null&&st.class?oe?oe.p(w,J):(oe=Fl(w),oe.c(),oe.m(pe,null)):oe&&(oe.d(1),oe=null),J[0]&16384&&Oe.value!==w[14].nfc_id&&X(Oe,w[14].nfc_id),(Je=w[3])!=null&&Je.nfc_id?ce?ce.p(w,J):(ce=Ul(w),ce.c(),ce.m(y,null)):ce&&(ce.d(1),ce=null),J[0]&16384&&(ye.checked=w[14].onhold),J[0]&8192&&(_t.checked=w[13]),sl===(sl=fl(w))&&$t?$t.p(w,J):($t.d(1),$t=sl(w),$t&&($t.c(),$t.m(O,kt))),(!zt||J[0]&16)&&El(h,"d-none",w[4])},i(w){zt||(de(g.$$.fragment,w),de(C.$$.fragment,w),de(k.$$.fragment,w),de(F.$$.fragment,w),zt=!0)},o(w){_e(g.$$.fragment,w),_e(C.$$.fragment,w),_e(k.$$.fragment,w),_e(F.$$.fragment,w),zt=!1},d(w){w&&u(e),ut&&ut.d(),De(g),it&&it.d(),De(C),rt&&rt.d(),De(k),ot&&ot.d(),De(F),ne&&ne.d(),ie&&ie.d(),re&&re.d(),n[28](null),oe&&oe.d(),ce&&ce.d(),$t.d(),n[33](null),n[34](null),nl=!1,Ol(nt)}}}function sa(n,e,t){let s,l,a,o,f,_=!1,h=!1,g="",S="",I="",M,C,$,A,j,k=!1,{studentStore:V}=Pl("studentStore");gl(n,V,R=>t(14,s=R));async function U(){t(4,_=!0),t(3,f={});let R=new FormData(a);g!=""&&R.set("father_id",g),S!=""&&R.set("school_id",S),I!=""&&R.set("academic_year_id",I),M!=""&&R.set("division_id",M),R.set("edit_image",k),R.set("onhold",h);let Le=await fetch(vs(s.id),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:R});if(Nl(Le),Le=await Le.json(),t(4,_=!1),Le.status=="success"){l.click();let te=`Edit ${s.fullname} `;ds(te,"success"),os("students:refresh"),Y()}else t(3,f=Le.errors)}V.subscribe(()=>{t(5,g=s.father_id),t(6,S=s.school_id),t(7,I=s.academic_year_id),t(8,M=s.division_id)});function Y(){t(13,k=!1),a.reset(),t(2,o.selectedIndex=0,o),t(3,f={}),C(),$(),A(),j(),h=!1,t(5,g=t(6,S=t(7,I=t(8,M=""))))}function F(R){C=R,t(9,C)}const Z=R=>t(5,g=R.detail.parentId);function $e(R){$=R,t(10,$)}const q=R=>t(6,S=R.detail.schoolId);function ee(R){A=R,t(11,A)}const O=R=>t(7,I=R.detail.yearId);function me(R){j=R,t(12,j)}const B=R=>t(8,M=R.detail.divisionId);function E(){s.firstname=this.value,V.set(s)}function N(){s.lastname=this.value,V.set(s)}function b(R){mt[R?"unshift":"push"](()=>{o=R,t(2,o)})}function D(){s.class=Dl(this),V.set(s)}function G(){s.nfc_id=this.value,V.set(s)}function ue(){s.onhold=this.checked,V.set(s)}function ae(){k=this.checked,t(13,k)}function x(R){mt[R?"unshift":"push"](()=>{l=R,t(0,l)})}function se(R){mt[R?"unshift":"push"](()=>{a=R,t(1,a)})}return[l,a,o,f,_,g,S,I,M,C,$,A,j,k,s,V,U,Y,F,Z,$e,q,ee,O,me,B,E,N,b,D,G,ue,ae,x,se]}class aa extends cl{constructor(e){super(),dl(this,e,sa,la,ol,{},null,[-1,-1])}}function na(n){let e,t="No Division";return{c(){e=c("span"),e.textContent=t,this.h()},l(s){e=d(s,"SPAN",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-xnfvbo"&&(e.textContent=t),this.h()},h(){r(e,"class","badge bg-danger-subtle text-danger")},m(s,l){P(s,e,l)},p:Kt,d(s){s&&u(e)}}}function ia(n){let e=n[0].division.name+"",t;return{c(){t=Q(e)},l(s){t=K(s,e)},m(s,l){P(s,t,l)},p(s,l){l&1&&e!==(e=s[0].division.name+"")&&fe(t,e)},d(s){s&&u(t)}}}function Yl(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Notify"><i class="ri-notification-3-line"></i></a>',s,l;return{c(){e=c("span"),e.innerHTML=t},l(a){e=d(a,"SPAN",{"data-svelte-h":!0}),T(e)!=="svelte-hnhmbp"&&(e.innerHTML=t)},m(a,o){P(a,e,o),s||(l=Ue(e,"click",n[6]),s=!0)},p:Kt,d(a){a&&u(e),s=!1,l()}}}function ra(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Qr Code"><i class="ri-qr-code-line"></i></a>',s,l;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=d(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),T(e)!=="svelte-16cfjz2"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#ViewQrStudentModal")},m(a,o){P(a,e,o),s||(l=Ue(e,"click",n[4]),s=!0)},p:Kt,d(a){a&&u(e),s=!1,l()}}}function oa(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="View"><i class="ri-eye-fill"></i></a>',s,l;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=d(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),T(e)!=="svelte-1so25d1"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#viewStudentModal")},m(a,o){P(a,e,o),s||(l=Ue(e,"click",n[4]),s=!0)},p:Kt,d(a){a&&u(e),s=!1,l()}}}function ca(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Edit"><i class="ri-edit-2-line"></i></a>',s,l;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=d(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),T(e)!=="svelte-l088sk"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#editStudentModal")},m(a,o){P(a,e,o),s||(l=Ue(e,"click",n[4]),s=!0)},p:Kt,d(a){a&&u(e),s=!1,l()}}}function da(n){let e,t='<a href="javascript:void(0);" class="fs-15" data-bs-toggle="tooltip" data-bs-original-title="Delete"><i class="ri-delete-bin-line"></i></a>',s,l;return{c(){e=c("span"),e.innerHTML=t,this.h()},l(a){e=d(a,"SPAN",{"data-bs-toggle":!0,"data-bs-target":!0,"data-svelte-h":!0}),T(e)!=="svelte-46fona"&&(e.innerHTML=t),this.h()},h(){r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#deleteStudentModal")},m(a,o){P(a,e,o),s||(l=Ue(e,"click",n[4]),s=!0)},p:Kt,d(a){a&&u(e),s=!1,l()}}}function fa(n){let e,t,s='<div class="form-check"><input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option1"/></div>',l,a,o=n[0].id+"",f,_,h,g,S,I,M,C,$,A=n[0].fullname+"",j,k,V,U,Y,F,Z,$e,q,ee=n[0].father.user.profile.fullname+"",O,me,B,E,N=n[0].subscribedStatus+"",b,D,G,ue,ae,x,se,R,Le,te,ht=n[0].school.name+"",pt,pe,Ce,Rt,wt,H=n[0].className+"",be,Ft,we,Ve,Me=JSON.parse(sessionStorage.getItem("permissions")).includes("students.notify-parent")&&n[0].face_id==null&&n[1]==!1,Lt,Ae=JSON.parse(sessionStorage.getItem("permissions")).includes("students.otp"),Ut,Ie,ct,Ge='<i class="ri-money-dollar-circle-line"></i>',Bt,He=JSON.parse(sessionStorage.getItem("permissions")).includes("students.show"),Yt,je=JSON.parse(sessionStorage.getItem("permissions")).includes("students.update"),qt,Re=JSON.parse(sessionStorage.getItem("permissions")).includes("students.destroy"),xt,Fe;function Wt(W,y){return W[0].division?ia:na}let Pe=Wt(n),dt=Pe(n),le=Me&&Yl(n),vt=Ae&&ra(n),ve=He&&oa(n),gt=je&&ca(n),ft=Re&&da(n);return{c(){e=c("tr"),t=c("td"),t.innerHTML=s,l=p(),a=c("td"),f=Q(o),_=p(),h=c("td"),g=c("div"),S=c("div"),I=c("img"),C=p(),$=c("div"),j=Q(A),k=p(),V=c("td"),U=c("div"),Y=c("div"),F=c("img"),$e=p(),q=c("div"),O=Q(ee),me=p(),B=c("td"),E=c("span"),b=Q(N),G=p(),ue=c("td"),ae=c("div"),x=c("div"),se=c("img"),Le=p(),te=c("div"),pt=Q(ht),pe=p(),Ce=c("td"),dt.c(),Rt=p(),wt=c("td"),be=Q(H),Ft=p(),we=c("td"),Ve=c("div"),le&&le.c(),Lt=p(),vt&&vt.c(),Ut=p(),Ie=c("span"),ct=c("a"),ct.innerHTML=Ge,Bt=p(),ve&&ve.c(),Yt=p(),gt&&gt.c(),qt=p(),ft&&ft.c(),this.h()},l(W){e=d(W,"TR",{scope:!0});var y=m(e);t=d(y,"TD",{"data-svelte-h":!0}),T(t)!=="svelte-1wqjv4e"&&(t.innerHTML=s),l=v(y),a=d(y,"TD",{});var Be=m(a);f=K(Be,o),Be.forEach(u),_=v(y),h=d(y,"TD",{});var Xt=m(h);g=d(Xt,"DIV",{class:!0});var Tt=m(g);S=d(Tt,"DIV",{class:!0});var Oe=m(S);I=d(Oe,"IMG",{src:!0,alt:!0,class:!0}),Oe.forEach(u),C=v(Tt),$=d(Tt,"DIV",{class:!0});var Vt=m($);j=K(Vt,A),Vt.forEach(u),Tt.forEach(u),Xt.forEach(u),k=v(y),V=d(y,"TD",{});var Mt=m(V);U=d(Mt,"DIV",{class:!0});var at=m(U);Y=d(at,"DIV",{class:!0});var Ye=m(Y);F=d(Ye,"IMG",{src:!0,alt:!0,class:!0}),Ye.forEach(u),$e=v(at),q=d(at,"DIV",{class:!0});var ye=m(q);O=K(ye,ee),ye.forEach(u),at.forEach(u),Mt.forEach(u),me=v(y),B=d(y,"TD",{});var At=m(B);E=d(At,"SPAN",{class:!0});var qe=m(E);b=K(qe,N),qe.forEach(u),At.forEach(u),G=v(y),ue=d(y,"TD",{});var Zt=m(ue);ae=d(Zt,"DIV",{class:!0});var Nt=m(ae);x=d(Nt,"DIV",{class:!0});var xe=m(x);se=d(xe,"IMG",{src:!0,alt:!0,class:!0}),xe.forEach(u),Le=v(Nt),te=d(Nt,"DIV",{class:!0});var ze=m(te);pt=K(ze,ht),ze.forEach(u),Nt.forEach(u),Zt.forEach(u),pe=v(y),Ce=d(y,"TD",{});var _t=m(Ce);dt.l(_t),_t.forEach(u),Rt=v(y),wt=d(y,"TD",{});var Gt=m(wt);be=K(Gt,H),Gt.forEach(u),Ft=v(y),we=d(y,"TD",{});var Qe=m(we);Ve=d(Qe,"DIV",{class:!0});var Ke=m(Ve);le&&le.l(Ke),Lt=v(Ke),vt&&vt.l(Ke),Ut=v(Ke),Ie=d(Ke,"SPAN",{});var Ht=m(Ie);ct=d(Ht,"A",{href:!0,class:!0,"data-bs-toggle":!0,"data-bs-original-title":!0,"data-svelte-h":!0}),T(ct)!=="svelte-11ty0pd"&&(ct.innerHTML=Ge),Ht.forEach(u),Bt=v(Ke),ve&&ve.l(Ke),Yt=v(Ke),gt&&gt.l(Ke),qt=v(Ke),ft&&ft.l(Ke),Ke.forEach(u),Qe.forEach(u),y.forEach(u),this.h()},h(){It(I.src,M=n[0].image.full_path)||r(I,"src",M),r(I,"alt",""),r(I,"class","avatar-xs rounded-circle"),r(S,"class","flex-shrink-0"),r($,"class","flex-grow-1"),r(g,"class","d-flex gap-2 align-items-center"),It(F.src,Z=n[0].father.user.profile.image.full_path)||r(F,"src",Z),r(F,"alt",""),r(F,"class","avatar-xs rounded-circle"),r(Y,"class","flex-shrink-0"),r(q,"class","flex-grow-1"),r(U,"class","d-flex gap-2 align-items-center"),r(E,"class",D="badge "+(n[0].subscribedStatus=="Active Subscription"?"bg-success-subtle text-success":n[0].subscribedStatus=="Preactive Subscription"||n[0].subscribedStatus=="Inactive Subscription"?"bg-warning-subtle text-warning":"bg-danger-subtle text-danger")),It(se.src,R=n[0].school.logo.full_path)||r(se,"src",R),r(se,"alt",""),r(se,"class","avatar-xs rounded-circle"),r(x,"class","flex-shrink-0"),r(te,"class","flex-grow-1"),r(ae,"class","d-flex gap-2 align-items-center"),r(ct,"href","javascript:void(0);"),r(ct,"class","fs-15"),r(ct,"data-bs-toggle","tooltip"),r(ct,"data-bs-original-title","Subscribtion"),r(Ve,"class","hstack gap-3 flex-wrap"),r(e,"scope","row")},m(W,y){P(W,e,y),i(e,t),i(e,l),i(e,a),i(a,f),i(e,_),i(e,h),i(h,g),i(g,S),i(S,I),i(g,C),i(g,$),i($,j),i(e,k),i(e,V),i(V,U),i(U,Y),i(Y,F),i(U,$e),i(U,q),i(q,O),i(e,me),i(e,B),i(B,E),i(E,b),i(e,G),i(e,ue),i(ue,ae),i(ae,x),i(x,se),i(ae,Le),i(ae,te),i(te,pt),i(e,pe),i(e,Ce),dt.m(Ce,null),i(e,Rt),i(e,wt),i(wt,be),i(e,Ft),i(e,we),i(we,Ve),le&&le.m(Ve,null),i(Ve,Lt),vt&&vt.m(Ve,null),i(Ve,Ut),i(Ve,Ie),i(Ie,ct),n[7](ct),i(Ve,Bt),ve&&ve.m(Ve,null),i(Ve,Yt),gt&&gt.m(Ve,null),i(Ve,qt),ft&&ft.m(Ve,null),xt||(Fe=Ue(Ie,"click",n[5]),xt=!0)},p(W,[y]){y&1&&o!==(o=W[0].id+"")&&fe(f,o),y&1&&!It(I.src,M=W[0].image.full_path)&&r(I,"src",M),y&1&&A!==(A=W[0].fullname+"")&&fe(j,A),y&1&&!It(F.src,Z=W[0].father.user.profile.image.full_path)&&r(F,"src",Z),y&1&&ee!==(ee=W[0].father.user.profile.fullname+"")&&fe(O,ee),y&1&&N!==(N=W[0].subscribedStatus+"")&&fe(b,N),y&1&&D!==(D="badge "+(W[0].subscribedStatus=="Active Subscription"?"bg-success-subtle text-success":W[0].subscribedStatus=="Preactive Subscription"||W[0].subscribedStatus=="Inactive Subscription"?"bg-warning-subtle text-warning":"bg-danger-subtle text-danger"))&&r(E,"class",D),y&1&&!It(se.src,R=W[0].school.logo.full_path)&&r(se,"src",R),y&1&&ht!==(ht=W[0].school.name+"")&&fe(pt,ht),Pe===(Pe=Wt(W))&&dt?dt.p(W,y):(dt.d(1),dt=Pe(W),dt&&(dt.c(),dt.m(Ce,null))),y&1&&H!==(H=W[0].className+"")&&fe(be,H),y&3&&(Me=JSON.parse(sessionStorage.getItem("permissions")).includes("students.notify-parent")&&W[0].face_id==null&&W[1]==!1),Me?le?le.p(W,y):(le=Yl(W),le.c(),le.m(Ve,Lt)):le&&(le.d(1),le=null),Ae&&vt.p(W,y),He&&ve.p(W,y),je&&gt.p(W,y),Re&&ft.p(W,y)},i:Kt,o:Kt,d(W){W&&u(e),dt.d(),le&&le.d(),vt&&vt.d(),n[7](null),ve&&ve.d(),gt&&gt.d(),ft&&ft.d(),xt=!1,Fe()}}}function ua(n,e,t){let s,{student:l}=e,a=!1,{studentStore:o}=Pl("studentStore");gl(n,o,I=>t(8,s=I));function f(){bs(o,s=JSON.parse(JSON.stringify(l)),s)}let _;function h(){let I=bootstrap.Tooltip.getOrCreateInstance(_);cs(`/admin/students/${l.id}/subscriptions`),I.hide()}async function g(){let I=await fetch(`https://backend.boofey.app/api/admin/students/${l.id}/notify-parent`,{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST"});Nl(I),I=await I.json(),I.status=="success"&&t(1,a=!0)}function S(I){mt[I?"unshift":"push"](()=>{_=I,t(2,_)})}return n.$$set=I=>{"student"in I&&t(0,l=I.student)},[l,a,_,o,f,h,g,S]}class ha extends cl{constructor(e){super(),dl(this,e,ua,fa,ol,{student:0})}}function ql(n,e,t){const s=n.slice();return s[2]=e[t],s}function xl(n){let e,t,s=Ll(n[0]),l=[];for(let o=0;o<s.length;o+=1)l[o]=zl(ql(n,s,o));const a=o=>_e(l[o],1,1,()=>{l[o]=null});return{c(){e=c("tbody");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=d(o,"TBODY",{class:!0});var f=m(e);for(let _=0;_<l.length;_+=1)l[_].l(f);f.forEach(u),this.h()},h(){r(e,"class","list")},m(o,f){P(o,e,f);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(e,null);t=!0},p(o,f){if(f&1){s=Ll(o[0]);let _;for(_=0;_<s.length;_+=1){const h=ql(o,s,_);l[_]?(l[_].p(h,f),de(l[_],1)):(l[_]=zl(h),l[_].c(),de(l[_],1),l[_].m(e,null))}for(is(),_=s.length;_<l.length;_+=1)a(_);rs()}},i(o){if(!t){for(let f=0;f<s.length;f+=1)de(l[f]);t=!0}},o(o){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)_e(l[f]);t=!1},d(o){o&&u(e),Ss(l,o)}}}function zl(n){let e,t;return e=new ha({props:{student:n[2]}}),{c(){Ee(e.$$.fragment)},l(s){Te(e.$$.fragment,s)},m(s,l){Ne(e,s,l),t=!0},p(s,l){const a={};l&1&&(a.student=s[2]),e.$set(a)},i(s){t||(de(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){De(e,s)}}}function Jl(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-2svhwp"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(s,l){P(s,e,l)},d(s){s&&u(e)}}}function _a(n){var U,Y,F,Z,$e,q,ee,O,me,B,E,N;let e,t,s,l,a='<tr><th scope="col" style="width: 25px;"><div class="form-check"><input class="form-check-input" type="checkbox" id="checkAll" value="option1"/></div></th> <th scope="col">ID</th> <th scope="col">Student</th> <th scope="col">Father</th> <th scope="col">Status</th> <th scope="col">School</th> <th scope="col">Division</th> <th scope="col">Class</th> <th scope="col">Action</th></tr>',o,f,_,h,g,S,I,M,C,$,A,j,k=(n[1]==null||((F=(Y=(U=n[1])==null?void 0:U.from)==null?void 0:Y.route)==null?void 0:F.id)!=((q=($e=(Z=n[1])==null?void 0:Z.to)==null?void 0:$e.route)==null?void 0:q.id))&&xl(n);_=new Ps({}),g=new Zs({}),I=new Ds({}),C=new aa({});let V=((me=(O=(ee=n[1])==null?void 0:ee.from)==null?void 0:O.route)==null?void 0:me.id)==((N=(E=(B=n[1])==null?void 0:B.to)==null?void 0:E.route)==null?void 0:N.id)&&n[1]&&Jl();return{c(){e=c("div"),t=c("div"),s=c("table"),l=c("thead"),l.innerHTML=a,o=p(),k&&k.c(),f=p(),Ee(_.$$.fragment),h=p(),Ee(g.$$.fragment),S=p(),Ee(I.$$.fragment),M=p(),Ee(C.$$.fragment),$=p(),V&&V.c(),A=rl(),this.h()},l(b){e=d(b,"DIV",{class:!0});var D=m(e);t=d(D,"DIV",{class:!0});var G=m(t);s=d(G,"TABLE",{class:!0});var ue=m(s);l=d(ue,"THEAD",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-1mv0z8j"&&(l.innerHTML=a),o=v(ue),k&&k.l(ue),ue.forEach(u),f=v(G),Te(_.$$.fragment,G),h=v(G),Te(g.$$.fragment,G),S=v(G),Te(I.$$.fragment,G),M=v(G),Te(C.$$.fragment,G),G.forEach(u),D.forEach(u),$=v(b),V&&V.l(b),A=rl(),this.h()},h(){r(l,"class","table-light"),r(s,"class","table align-middle table-nowrap mb-0 border-top"),r(t,"class","table-responsive"),r(e,"class","row pe-0")},m(b,D){P(b,e,D),i(e,t),i(t,s),i(s,l),i(s,o),k&&k.m(s,null),i(t,f),Ne(_,t,null),i(t,h),Ne(g,t,null),i(t,S),Ne(I,t,null),i(t,M),Ne(C,t,null),P(b,$,D),V&&V.m(b,D),P(b,A,D),j=!0},p(b,[D]){var G,ue,ae,x,se,R,Le,te,ht,pt,pe,Ce;b[1]==null||((ae=(ue=(G=b[1])==null?void 0:G.from)==null?void 0:ue.route)==null?void 0:ae.id)!=((R=(se=(x=b[1])==null?void 0:x.to)==null?void 0:se.route)==null?void 0:R.id)?k?(k.p(b,D),D&2&&de(k,1)):(k=xl(b),k.c(),de(k,1),k.m(s,null)):k&&(is(),_e(k,1,1,()=>{k=null}),rs()),((ht=(te=(Le=b[1])==null?void 0:Le.from)==null?void 0:te.route)==null?void 0:ht.id)==((Ce=(pe=(pt=b[1])==null?void 0:pt.to)==null?void 0:pe.route)==null?void 0:Ce.id)&&b[1]?V||(V=Jl(),V.c(),V.m(A.parentNode,A)):V&&(V.d(1),V=null)},i(b){j||(de(k),de(_.$$.fragment,b),de(g.$$.fragment,b),de(I.$$.fragment,b),de(C.$$.fragment,b),j=!0)},o(b){_e(k),_e(_.$$.fragment,b),_e(g.$$.fragment,b),_e(I.$$.fragment,b),_e(C.$$.fragment,b),j=!1},d(b){b&&(u(e),u($),u(A)),k&&k.d(),De(_),De(g),De(I),De(C),V&&V.d(b)}}}function ma(n,e,t){let s;gl(n,ys,a=>t(1,s=a));let{studentsList:l}=e;return Cs("studentStore",{studentStore:Os({})}),n.$$set=a=>{"studentsList"in a&&t(0,l=a.studentsList)},[l,s]}class pa extends cl{constructor(e){super(),dl(this,e,ma,_a,ol,{studentsList:0})}}function Ql(n){let e,t='<lord-icon src="https://cdn.lordicon.com/xjovhxra.json" trigger="loop" colors="primary:#E16F28,secondary:#73dce9" style="width:120px;height:120px"></lord-icon>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),T(e)!=="svelte-1skq92h"&&(e.innerHTML=t),this.h()},h(){r(e,"class","text-center")},m(s,l){P(s,e,l)},d(s){s&&u(e)}}}function Kl(n){let e,t=n[3].father_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].father_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Wl(n){let e,t=n[3].school_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].school_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Xl(n){let e,t=n[3].academic_year_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].academic_year_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function Zl(n){let e,t=n[3].division_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].division_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function es(n){let e,t=n[3].firstname[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].firstname[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function ts(n){let e,t=n[3].lastname[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].lastname[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function ls(n){let e,t=n[3].class[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].class[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function ss(n){let e,t=n[3].nfc_id[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].nfc_id[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function as(n){let e,t=n[3].file[0]+"",s;return{c(){e=c("strong"),s=Q(t),this.h()},l(l){e=d(l,"STRONG",{class:!0});var a=m(e);s=K(a,t),a.forEach(u),this.h()},h(){r(e,"class","text-danger ms-1 my-2")},m(l,a){P(l,e,a),i(e,s)},p(l,a){a&8&&t!==(t=l[3].file[0]+"")&&fe(s,t)},d(l){l&&u(e)}}}function va(n){var fl,sl,$t,ul,hl,_l,ml,pl,vl;let e,t,s,l,a='<h5 class="modal-title" id="exampleModalgridLabel">Add Student</h5> <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',o,f,_,h,g,S,I,M,C,$,A,j,k,V,U,Y,F,Z,$e,q,ee,O,me,B,E,N="First Name",b,D,G,ue,ae,x,se,R="Last Name",Le,te,ht,pt,pe,Ce,Rt="Class",wt,H,be,Ft="-- select a class -- ",we,Ve="Primary School - Grade 1",Me,Lt="Primary School - Grade 2",Ae,Ut="Primary School - Grade 3",Ie,ct="Primary School - Grade 4",Ge,Bt="Primary School - Grade 5",He,Yt="Primary School - Grade 6",je,qt="Middle School - Grade 1",Re,xt="Middle School - Grade 2",Fe,Wt="Middle School - Grade 3",Pe,dt="Secondary School - Grade 1",le,vt="Secondary School - Grade 2",ve,gt="Secondary School - Grade 3",ft,W,y,Be,Xt="NFC ID",Tt,Oe,Vt,Mt,at,Ye,ye,At,qe,Zt="On Hold",Nt,xe,ze,_t="Student  Image",Gt,Qe,Ke,Ht,kt,We,Et="Close",al,jt,Dt,zt,nl,nt=n[4]&&Ql();function ut(L){n[16](L)}let bl={collapse:!0,title:"Student's Parent"};n[10]!==void 0&&(bl.resetParent=n[10]),g=new fs({props:bl}),mt.push(()=>ll(g,"resetParent",ut)),g.$on("select",n[17]);let Xe=((fl=n[3])==null?void 0:fl.father_id)&&Kl(n);function it(L){n[18](L)}let Cl={collapse:!0,title:"Student's School"};n[11]!==void 0&&(Cl.resetSchool=n[11]),C=new hs({props:Cl}),mt.push(()=>ll(C,"resetSchool",it)),C.$on("select",n[19]);let Ze=((sl=n[3])==null?void 0:sl.school_id)&&Wl(n);function rt(L){n[20](L)}let Sl={collapse:!0,schoolId:n[7],title:"Student's Academic Year"};n[12]!==void 0&&(Sl.resetYear=n[12]),k=new us({props:Sl}),mt.push(()=>ll(k,"resetYear",rt)),k.$on("select",n[21]);let et=(($t=n[3])==null?void 0:$t.academic_year_id)&&Xl(n);function ot(L){n[22](L)}let $l={collapse:!0,schoolId:n[7],title:"Student's Division"};n[13]!==void 0&&($l.resetDivision=n[13]),F=new _s({props:$l}),mt.push(()=>ll(F,"resetDivision",ot)),F.$on("select",n[23]);let tt=((ul=n[3])==null?void 0:ul.division_id)&&Zl(n),ne=((hl=n[3])==null?void 0:hl.firstname)&&es(n),ie=((_l=n[3])==null?void 0:_l.lastname)&&ts(n),re=((ml=n[3])==null?void 0:ml.class)&&ls(n),oe=((pl=n[3])==null?void 0:pl.nfc_id)&&ss(n),ce=((vl=n[3])==null?void 0:vl.file)&&as(n);return{c(){e=c("div"),t=c("div"),s=c("div"),l=c("div"),l.innerHTML=a,o=p(),f=c("div"),nt&&nt.c(),_=p(),h=c("div"),Ee(g.$$.fragment),I=p(),Xe&&Xe.c(),M=p(),Ee(C.$$.fragment),A=p(),Ze&&Ze.c(),j=p(),Ee(k.$$.fragment),U=p(),et&&et.c(),Y=p(),Ee(F.$$.fragment),$e=p(),tt&&tt.c(),q=p(),ee=c("form"),O=c("div"),me=c("div"),B=c("div"),E=c("label"),E.textContent=N,b=p(),D=c("input"),G=p(),ne&&ne.c(),ue=p(),ae=c("div"),x=c("div"),se=c("label"),se.textContent=R,Le=p(),te=c("input"),ht=p(),ie&&ie.c(),pt=p(),pe=c("div"),Ce=c("label"),Ce.textContent=Rt,wt=p(),H=c("select"),be=c("option"),be.textContent=Ft,we=c("option"),we.textContent=Ve,Me=c("option"),Me.textContent=Lt,Ae=c("option"),Ae.textContent=Ut,Ie=c("option"),Ie.textContent=ct,Ge=c("option"),Ge.textContent=Bt,He=c("option"),He.textContent=Yt,je=c("option"),je.textContent=qt,Re=c("option"),Re.textContent=xt,Fe=c("option"),Fe.textContent=Wt,Pe=c("option"),Pe.textContent=dt,le=c("option"),le.textContent=vt,ve=c("option"),ve.textContent=gt,ft=p(),re&&re.c(),W=p(),y=c("div"),Be=c("label"),Be.textContent=Xt,Tt=p(),Oe=c("input"),Vt=p(),oe&&oe.c(),Mt=p(),at=c("div"),Ye=c("div"),ye=c("input"),At=p(),qe=c("label"),qe.textContent=Zt,Nt=p(),xe=c("div"),ze=c("label"),ze.textContent=_t,Gt=p(),Qe=c("input"),Ke=p(),ce&&ce.c(),Ht=p(),kt=c("div"),We=c("button"),We.textContent=Et,al=p(),jt=c("input"),this.h()},l(L){e=d(L,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-modal":!0});var ke=m(e);t=d(ke,"DIV",{class:!0});var w=m(t);s=d(w,"DIV",{class:!0});var J=m(s);l=d(J,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-4b19vr"&&(l.innerHTML=a),o=v(J),f=d(J,"DIV",{class:!0});var bt=m(f);nt&&nt.l(bt),_=v(bt),h=d(bt,"DIV",{class:!0});var he=m(h);Te(g.$$.fragment,he),I=v(he),Xe&&Xe.l(he),M=v(he),Te(C.$$.fragment,he),A=v(he),Ze&&Ze.l(he),j=v(he),Te(k.$$.fragment,he),U=v(he),et&&et.l(he),Y=v(he),Te(F.$$.fragment,he),$e=v(he),tt&&tt.l(he),q=v(he),ee=d(he,"FORM",{});var Ct=m(ee);O=d(Ct,"DIV",{class:!0});var z=m(O);me=d(z,"DIV",{class:!0});var Pt=m(me);B=d(Pt,"DIV",{});var ge=m(B);E=d(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(E)!=="svelte-1hs0n20"&&(E.textContent=N),b=v(ge),D=d(ge,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),G=v(ge),ne&&ne.l(ge),ge.forEach(u),Pt.forEach(u),ue=v(z),ae=d(z,"DIV",{class:!0});var Ot=m(ae);x=d(Ot,"DIV",{});var lt=m(x);se=d(lt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(se)!=="svelte-1tzb4fa"&&(se.textContent=R),Le=v(lt),te=d(lt,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),ht=v(lt),ie&&ie.l(lt),lt.forEach(u),Ot.forEach(u),pt=v(z),pe=d(z,"DIV",{class:!0});var St=m(pe);Ce=d(St,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Ce)!=="svelte-15fukk2"&&(Ce.textContent=Rt),wt=v(St),H=d(St,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var Se=m(H);be=d(Se,"OPTION",{"data-svelte-h":!0}),T(be)!=="svelte-wf9klv"&&(be.textContent=Ft),we=d(Se,"OPTION",{"data-svelte-h":!0}),T(we)!=="svelte-14ylisr"&&(we.textContent=Ve),Me=d(Se,"OPTION",{"data-svelte-h":!0}),T(Me)!=="svelte-bmc3c9"&&(Me.textContent=Lt),Ae=d(Se,"OPTION",{"data-svelte-h":!0}),T(Ae)!=="svelte-pzy12b"&&(Ae.textContent=Ut),Ie=d(Se,"OPTION",{"data-svelte-h":!0}),T(Ie)!=="svelte-17rvz3h"&&(Ie.textContent=ct),Ge=d(Se,"OPTION",{"data-svelte-h":!0}),T(Ge)!=="svelte-152oma3"&&(Ge.textContent=Bt),He=d(Se,"OPTION",{"data-svelte-h":!0}),T(He)!=="svelte-1y7a26p"&&(He.textContent=Yt),je=d(Se,"OPTION",{"data-svelte-h":!0}),T(je)!=="svelte-118wla"&&(je.textContent=qt),Re=d(Se,"OPTION",{"data-svelte-h":!0}),T(Re)!=="svelte-1gxeq1e"&&(Re.textContent=xt),Fe=d(Se,"OPTION",{"data-svelte-h":!0}),T(Fe)!=="svelte-oul01a"&&(Fe.textContent=Wt),Pe=d(Se,"OPTION",{"data-svelte-h":!0}),T(Pe)!=="svelte-1coeeh0"&&(Pe.textContent=dt),le=d(Se,"OPTION",{"data-svelte-h":!0}),T(le)!=="svelte-kq57ip"&&(le.textContent=vt),ve=d(Se,"OPTION",{"data-svelte-h":!0}),T(ve)!=="svelte-14cpvwt"&&(ve.textContent=gt),Se.forEach(u),ft=v(St),re&&re.l(St),St.forEach(u),W=v(z),y=d(z,"DIV",{class:!0});var st=m(y);Be=d(st,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(Be)!=="svelte-1xnq29g"&&(Be.textContent=Xt),Tt=v(st),Oe=d(st,"INPUT",{type:!0,name:!0,class:!0,id:!0,placeholder:!0}),Vt=v(st),oe&&oe.l(st),st.forEach(u),Mt=v(z),at=d(z,"DIV",{class:!0});var Je=m(at);Ye=d(Je,"DIV",{class:!0});var yt=m(Ye);ye=d(yt,"INPUT",{class:!0,type:!0,role:!0,id:!0}),At=v(yt),qe=d(yt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),T(qe)!=="svelte-vorh5w"&&(qe.textContent=Zt),yt.forEach(u),Je.forEach(u),Nt=v(z),xe=d(z,"DIV",{});var Jt=m(xe);ze=d(Jt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(ze)!=="svelte-3h3qwu"&&(ze.textContent=_t),Gt=v(Jt),Qe=d(Jt,"INPUT",{class:!0,name:!0,type:!0,id:!0}),Ke=v(Jt),ce&&ce.l(Jt),Jt.forEach(u),Ht=v(z),kt=d(z,"DIV",{class:!0});var Qt=m(kt);We=d(Qt,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"data-svelte-h":!0}),T(We)!=="svelte-1h5uvws"&&(We.textContent=Et),al=v(Qt),jt=d(Qt,"INPUT",{type:!0,class:!0}),Qt.forEach(u),z.forEach(u),Ct.forEach(u),he.forEach(u),bt.forEach(u),J.forEach(u),w.forEach(u),ke.forEach(u),this.h()},h(){r(l,"class","modal-header"),r(E,"for","firstName"),r(E,"class","form-label"),r(D,"type","text"),r(D,"name","firstname"),r(D,"class","form-control"),r(D,"id","firstName"),r(D,"placeholder","Enter Firstname"),r(me,"class","col-xxl-6"),r(se,"for","lastName"),r(se,"class","form-label"),r(te,"type","text"),r(te,"name","lastname"),r(te,"class","form-control"),r(te,"id","lastName"),r(te,"placeholder","Enter Lastname"),r(ae,"class","col-xxl-6"),r(Ce,"for","class"),r(Ce,"class","form-label"),be.disabled=!0,be.selected=!0,be.__value="",X(be,be.__value),we.__value=0,X(we,we.__value),Me.__value=1,X(Me,Me.__value),Ae.__value=2,X(Ae,Ae.__value),Ie.__value=3,X(Ie,Ie.__value),Ge.__value=4,X(Ge,Ge.__value),He.__value=5,X(He,He.__value),je.__value=6,X(je,je.__value),Re.__value=7,X(Re,Re.__value),Fe.__value=8,X(Fe,Fe.__value),Pe.__value=9,X(Pe,Pe.__value),le.__value=10,X(le,le.__value),ve.__value=11,X(ve,ve.__value),r(H,"class","form-select"),r(H,"name","class"),r(H,"id","class"),r(H,"aria-label","Default select example"),r(pe,"class","col-lg-12"),r(Be,"for","studentname"),r(Be,"class","form-label"),r(Oe,"type","text"),r(Oe,"name","nfc_id"),r(Oe,"class","form-control"),r(Oe,"id","nfc_id"),r(Oe,"placeholder","Enter Studentname name"),r(y,"class","col-lg-12"),r(ye,"class","form-check-input"),r(ye,"type","checkbox"),r(ye,"role","switch"),r(ye,"id","SwitchCheck1"),r(qe,"class","form-check-label"),r(qe,"for","SwitchCheck1"),r(Ye,"class","form-check form-switch col"),r(at,"class","row ps-3 g-3"),r(ze,"for","formFile"),r(ze,"class","form-label"),r(Qe,"class","form-control"),r(Qe,"name","file"),r(Qe,"type","file"),r(Qe,"id","formFile"),r(We,"type","button"),r(We,"class","btn btn-light fw-light"),r(We,"data-bs-dismiss","modal"),r(jt,"type","submit"),r(jt,"class","btn btn-primary waves-effect waves-light"),jt.value="Save",r(kt,"class","hstack gap-2 justify-content-end"),r(O,"class","row g-3"),r(h,"class","row g-3"),El(h,"d-none",n[4]),r(f,"class","modal-body"),r(s,"class","modal-content"),r(t,"class","modal-dialog modal-dialog-centered modal-lg"),r(e,"class","modal fade"),r(e,"id","addStudentModal"),r(e,"tabindex","-1"),r(e,"aria-labelledby","exampleModalgridLabel"),r(e,"aria-modal","true")},m(L,ke){P(L,e,ke),i(e,t),i(t,s),i(s,l),i(s,o),i(s,f),nt&&nt.m(f,null),i(f,_),i(f,h),Ne(g,h,null),i(h,I),Xe&&Xe.m(h,null),i(h,M),Ne(C,h,null),i(h,A),Ze&&Ze.m(h,null),i(h,j),Ne(k,h,null),i(h,U),et&&et.m(h,null),i(h,Y),Ne(F,h,null),i(h,$e),tt&&tt.m(h,null),i(h,q),i(h,ee),i(ee,O),i(O,me),i(me,B),i(B,E),i(B,b),i(B,D),i(B,G),ne&&ne.m(B,null),i(O,ue),i(O,ae),i(ae,x),i(x,se),i(x,Le),i(x,te),i(x,ht),ie&&ie.m(x,null),i(O,pt),i(O,pe),i(pe,Ce),i(pe,wt),i(pe,H),i(H,be),i(H,we),i(H,Me),i(H,Ae),i(H,Ie),i(H,Ge),i(H,He),i(H,je),i(H,Re),i(H,Fe),i(H,Pe),i(H,le),i(H,ve),n[24](H),i(pe,ft),re&&re.m(pe,null),i(O,W),i(O,y),i(y,Be),i(y,Tt),i(y,Oe),i(y,Vt),oe&&oe.m(y,null),i(O,Mt),i(O,at),i(at,Ye),i(Ye,ye),ye.checked=n[5],i(Ye,At),i(Ye,qe),i(O,Nt),i(O,xe),i(xe,ze),i(xe,Gt),i(xe,Qe),i(xe,Ke),ce&&ce.m(xe,null),i(O,Ht),i(O,kt),i(kt,We),n[26](We),i(kt,al),i(kt,jt),n[27](ee),Dt=!0,zt||(nl=[Ue(ye,"change",n[25]),Ue(ee,"submit",ns(n[14])),Ue(e,"hidden.bs.modal",n[15])],zt=!0)},p(L,[ke]){var Ct,z,Pt,ge,Ot,lt,St,Se,st;L[4]?nt||(nt=Ql(),nt.c(),nt.m(f,_)):nt&&(nt.d(1),nt=null);const w={};!S&&ke&1024&&(S=!0,w.resetParent=L[10],tl(()=>S=!1)),g.$set(w),(Ct=L[3])!=null&&Ct.father_id?Xe?Xe.p(L,ke):(Xe=Kl(L),Xe.c(),Xe.m(h,M)):Xe&&(Xe.d(1),Xe=null);const J={};!$&&ke&2048&&($=!0,J.resetSchool=L[11],tl(()=>$=!1)),C.$set(J),(z=L[3])!=null&&z.school_id?Ze?Ze.p(L,ke):(Ze=Wl(L),Ze.c(),Ze.m(h,j)):Ze&&(Ze.d(1),Ze=null);const bt={};ke&128&&(bt.schoolId=L[7]),!V&&ke&4096&&(V=!0,bt.resetYear=L[12],tl(()=>V=!1)),k.$set(bt),(Pt=L[3])!=null&&Pt.academic_year_id?et?et.p(L,ke):(et=Xl(L),et.c(),et.m(h,Y)):et&&(et.d(1),et=null);const he={};ke&128&&(he.schoolId=L[7]),!Z&&ke&8192&&(Z=!0,he.resetDivision=L[13],tl(()=>Z=!1)),F.$set(he),(ge=L[3])!=null&&ge.division_id?tt?tt.p(L,ke):(tt=Zl(L),tt.c(),tt.m(h,q)):tt&&(tt.d(1),tt=null),(Ot=L[3])!=null&&Ot.firstname?ne?ne.p(L,ke):(ne=es(L),ne.c(),ne.m(B,null)):ne&&(ne.d(1),ne=null),(lt=L[3])!=null&&lt.lastname?ie?ie.p(L,ke):(ie=ts(L),ie.c(),ie.m(x,null)):ie&&(ie.d(1),ie=null),(St=L[3])!=null&&St.class?re?re.p(L,ke):(re=ls(L),re.c(),re.m(pe,null)):re&&(re.d(1),re=null),(Se=L[3])!=null&&Se.nfc_id?oe?oe.p(L,ke):(oe=ss(L),oe.c(),oe.m(y,null)):oe&&(oe.d(1),oe=null),ke&32&&(ye.checked=L[5]),(st=L[3])!=null&&st.file?ce?ce.p(L,ke):(ce=as(L),ce.c(),ce.m(xe,null)):ce&&(ce.d(1),ce=null),(!Dt||ke&16)&&El(h,"d-none",L[4])},i(L){Dt||(de(g.$$.fragment,L),de(C.$$.fragment,L),de(k.$$.fragment,L),de(F.$$.fragment,L),Dt=!0)},o(L){_e(g.$$.fragment,L),_e(C.$$.fragment,L),_e(k.$$.fragment,L),_e(F.$$.fragment,L),Dt=!1},d(L){L&&u(e),nt&&nt.d(),De(g),Xe&&Xe.d(),De(C),Ze&&Ze.d(),De(k),et&&et.d(),De(F),tt&&tt.d(),ne&&ne.d(),ie&&ie.d(),n[24](null),re&&re.d(),oe&&oe.d(),ce&&ce.d(),n[26](null),n[27](null),zt=!1,Ol(nl)}}}function ga(n,e,t){let s,l,a,o,f,_=!1,h=!1,g="",S="",I="",M="",C,$,A,j;async function k(){t(4,_=!0),t(3,f={});let b=new FormData(a);g!=""&&b.set("father_id",g),S!=""&&b.set("school_id",S),I!=""&&b.set("academic_year_id",I),M!=""&&b.set("division_id",M),b.set("onhold",h);let D=await fetch(gs(),{headers:{Authorization:`${localStorage.getItem("SID")}`},method:"POST",body:b});if(Nl(D),D=await D.json(),t(4,_=!1),D.status=="success"){s.click();let G=`Added ${l} as a new student`;ds(G,"success"),os("students:refresh"),V()}else t(3,f=D.errors)}function V(){a.reset(),t(2,o.selectedIndex=0,o),t(3,f={}),C(),$(),A(),j(),t(5,h=!1),t(6,g=t(7,S=t(8,I=t(9,M=""))))}function U(b){C=b,t(10,C)}const Y=b=>t(6,g=b.detail.parentId);function F(b){$=b,t(11,$)}const Z=b=>t(7,S=b.detail.schoolId);function $e(b){A=b,t(12,A)}const q=b=>t(8,I=b.detail.yearId);function ee(b){j=b,t(13,j)}const O=b=>t(9,M=b.detail.divisionId);function me(b){mt[b?"unshift":"push"](()=>{o=b,t(2,o)})}function B(){h=this.checked,t(5,h)}function E(b){mt[b?"unshift":"push"](()=>{s=b,t(0,s)})}function N(b){mt[b?"unshift":"push"](()=>{a=b,t(1,a)})}return[s,a,o,f,_,h,g,S,I,M,C,$,A,j,k,V,U,Y,F,Z,$e,q,ee,O,me,B,E,N]}class ba extends cl{constructor(e){super(),dl(this,e,ga,va,ol,{})}}function Ca(n){let e,t='<i class="ri-add-line align-bottom me-1"></i> Add Student',s,l,a;return l=new ba({}),{c(){e=c("button"),e.innerHTML=t,s=p(),Ee(l.$$.fragment),this.h()},l(o){e=d(o,"BUTTON",{type:!0,"data-bs-toggle":!0,"data-bs-target":!0,class:!0,"data-svelte-h":!0}),T(e)!=="svelte-3ylrul"&&(e.innerHTML=t),s=v(o),Te(l.$$.fragment,o),this.h()},h(){r(e,"type","button"),r(e,"data-bs-toggle","modal"),r(e,"data-bs-target","#addStudentModal"),r(e,"class","btn btn-primary waves-effect waves-light")},m(o,f){P(o,e,f),P(o,s,f),Ne(l,o,f),a=!0},i(o){a||(de(l.$$.fragment,o),a=!0)},o(o){_e(l.$$.fragment,o),a=!1},d(o){o&&(u(e),u(s)),De(l,o)}}}function Sa(n){let e,t,s,l,a,o,f,_="All",h,g="Archived",S,I="Not Archived",M,C,$,A,j="All",k,V="Subscribed",U,Y="Not Subscribed",F,Z,$e,q,ee,O,me;s=new Ns({props:{type:"Student"}}),Z=new pa({props:{studentsList:n[4]}});const B=[n[3]];let E={};for(let N=0;N<B.length;N+=1)E=Is(E,B[N]);return q=new Ts({props:E}),{c(){e=c("div"),t=c("div"),Ee(s.$$.fragment),l=p(),a=c("div"),o=c("select"),f=c("option"),f.textContent=_,h=c("option"),h.textContent=g,S=c("option"),S.textContent=I,M=p(),C=c("div"),$=c("select"),A=c("option"),A.textContent=j,k=c("option"),k.textContent=V,U=c("option"),U.textContent=Y,F=p(),Ee(Z.$$.fragment),$e=p(),Ee(q.$$.fragment),this.h()},l(N){e=d(N,"DIV",{class:!0});var b=m(e);t=d(b,"DIV",{class:!0});var D=m(t);Te(s.$$.fragment,D),l=v(D),a=d(D,"DIV",{class:!0});var G=m(a);o=d(G,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var ue=m(o);f=d(ue,"OPTION",{"data-svelte-h":!0}),T(f)!=="svelte-13f2t2c"&&(f.textContent=_),h=d(ue,"OPTION",{"data-svelte-h":!0}),T(h)!=="svelte-1q69t1u"&&(h.textContent=g),S=d(ue,"OPTION",{"data-svelte-h":!0}),T(S)!=="svelte-aygy80"&&(S.textContent=I),ue.forEach(u),G.forEach(u),M=v(D),C=d(D,"DIV",{class:!0});var ae=m(C);$=d(ae,"SELECT",{class:!0,name:!0,id:!0,"aria-label":!0});var x=m($);A=d(x,"OPTION",{"data-svelte-h":!0}),T(A)!=="svelte-13f2t2c"&&(A.textContent=j),k=d(x,"OPTION",{"data-svelte-h":!0}),T(k)!=="svelte-1r4nn6a"&&(k.textContent=V),U=d(x,"OPTION",{"data-svelte-h":!0}),T(U)!=="svelte-17v6sc"&&(U.textContent=Y),x.forEach(u),ae.forEach(u),F=v(D),Te(Z.$$.fragment,D),$e=v(D),Te(q.$$.fragment,D),D.forEach(u),b.forEach(u),this.h()},h(){f.__value="all",X(f,f.__value),h.__value="archived",X(h,h.__value),S.__value="not archived",X(S,S.__value),r(o,"class","form-select"),r(o,"name","class"),r(o,"id","class"),r(o,"aria-label","Default select example"),n[0]===void 0&&kl(()=>n[7].call(o)),r(a,"class","col-xl-3 mb-3"),A.__value="all",X(A,A.__value),k.__value="subscribed",X(k,k.__value),U.__value="not subscribed",X(U,U.__value),r($,"class","form-select"),r($,"name","class"),r($,"id","class"),r($,"aria-label","Default select example"),n[1]===void 0&&kl(()=>n[8].call($)),r(C,"class","col-xl-3 mb-3"),r(t,"class","row"),r(e,"class","card-body")},m(N,b){P(N,e,b),i(e,t),Ne(s,t,null),i(t,l),i(t,a),i(a,o),i(o,f),i(o,h),i(o,S),il(o,n[0],!0),i(t,M),i(t,C),i(C,$),i($,A),i($,k),i($,U),il($,n[1],!0),i(t,F),Ne(Z,t,null),i(t,$e),Ne(q,t,null),ee=!0,O||(me=[Ue(o,"change",n[7]),Ue(o,"change",n[5]),Ue($,"change",n[8]),Ue($,"change",n[5])],O=!0)},p(N,b){b&1&&il(o,N[0]),b&2&&il($,N[1]);const D={};b&16&&(D.studentsList=N[4]),Z.$set(D);const G=b&8?ks(B,[Es(N[3])]):{};q.$set(G)},i(N){ee||(de(s.$$.fragment,N),de(Z.$$.fragment,N),de(q.$$.fragment,N),ee=!0)},o(N){_e(s.$$.fragment,N),_e(Z.$$.fragment,N),_e(q.$$.fragment,N),ee=!1},d(N){N&&u(e),De(s),De(Z),De(q),O=!1,Ol(me)}}}function $a(n){let e,t,s,l,a,o="Students Managment",f,_,h=JSON.parse(sessionStorage.getItem("permissions")).includes("students.store"),g,S=JSON.parse(sessionStorage.getItem("permissions")).includes("students.index"),I,M,C=h&&Ca(),$=S&&Sa(n);return{c(){e=c("div"),t=c("div"),s=c("div"),l=c("div"),a=c("h4"),a.textContent=o,f=p(),_=c("div"),C&&C.c(),g=p(),$&&$.c(),this.h()},l(A){e=d(A,"DIV",{class:!0});var j=m(e);t=d(j,"DIV",{class:!0});var k=m(t);s=d(k,"DIV",{class:!0});var V=m(s);l=d(V,"DIV",{class:!0});var U=m(l);a=d(U,"H4",{class:!0,"data-svelte-h":!0}),T(a)!=="svelte-c7i863"&&(a.textContent=o),f=v(U),_=d(U,"DIV",{class:!0});var Y=m(_);C&&C.l(Y),Y.forEach(u),U.forEach(u),g=v(V),$&&$.l(V),V.forEach(u),k.forEach(u),j.forEach(u),this.h()},h(){r(a,"class","card-title mb-0 flex-grow-1"),r(_,"class","flex-shrink-0"),r(l,"class","card-header align-items-center d-flex"),r(s,"class","card"),r(t,"class","col-lg-12"),r(e,"class","row ")},m(A,j){P(A,e,j),i(e,t),i(t,s),i(s,l),i(l,a),i(l,f),i(l,_),C&&C.m(_,null),i(s,g),$&&$.m(s,null),n[9](e),M=!0},p(A,[j]){S&&$.p(A,j)},i(A){M||(de(C),de($),A&&(I||kl(()=>{I=ws(e,As,{duration:200}),I.start()})),M=!0)},o(A){_e(C),_e($),M=!1},d(A){A&&u(e),C&&C.d(),$&&$.d(),n[9](null)}}}function Ia(n,e,t){let s,l,a;gl(n,Ls,C=>t(10,a=C));let{data:o}=e,f="all",_="all",h;$s(()=>{Vs(h);let C=a.url.searchParams.get("archived");C!=null&&t(0,f=C=="true"?"archived":"not archived"),C=a.url.searchParams.get("subscribed"),C!=null&&t(1,_=C=="true"?"subscribed":"not subscribed"),Ms()});function g(C){const $=new URL(a.url);$.searchParams.delete("page"),f=="all"?$.searchParams.delete("archived"):$.searchParams.set("archived",f=="archived"),_=="all"?$.searchParams.delete("subscribed"):$.searchParams.set("subscribed",_=="subscribed"),cs($)}function S(){f=Dl(this),t(0,f)}function I(){_=Dl(this),t(1,_)}function M(C){mt[C?"unshift":"push"](()=>{h=C,t(2,h)})}return n.$$set=C=>{"data"in C&&t(6,o=C.data)},n.$$.update=()=>{n.$$.dirty&64&&t(4,s=o.studentsResponse.data.students),n.$$.dirty&64&&t(3,l=o.studentsResponse.pagination)},[f,_,h,l,s,g,o,S,I,M]}class qa extends cl{constructor(e){super(),dl(this,e,Ia,$a,ol,{data:6})}}export{qa as component,Ya as universal};
