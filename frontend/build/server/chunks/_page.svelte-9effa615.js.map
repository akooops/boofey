{"version":3,"file":"_page.svelte-9effa615.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/admin/invoices/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, h as getContext, a as subscribe, e as escape, d as add_attribute, s as setContext, b as each, v as validate_component } from \"../../../../../chunks/ssr.js\";\nimport { P as Pagination } from \"../../../../../chunks/Pagination.js\";\nimport { S as SearchTable } from \"../../../../../chunks/SearchTable.js\";\nimport { w as writable } from \"../../../../../chunks/index2.js\";\nimport { n as navigating } from \"../../../../../chunks/stores.js\";\nconst InvoiceItem = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_invoiceStore;\n  let { invoice } = $$props;\n  let { invoiceStore } = getContext(\"invoiceStore\");\n  $$unsubscribe_invoiceStore = subscribe(invoiceStore, (value) => value);\n  if ($$props.invoice === void 0 && $$bindings.invoice && invoice !== void 0)\n    $$bindings.invoice(invoice);\n  $$unsubscribe_invoiceStore();\n  return `<tr scope=\"row\"><td data-svelte-h=\"svelte-1wqjv4e\"><div class=\"form-check\"><input class=\"form-check-input\" type=\"checkbox\" id=\"inlineCheckbox2\" value=\"option1\"></div></td> <td>${escape(invoice.id)}</td> <td>${invoice?.ref == null ? `<span class=\"badge bg-danger-subtle text-danger\" data-svelte-h=\"svelte-pp1ynj\">not found</span>` : `${escape(invoice.ref)}`}</td> <td>${invoice?.subscription?.ref == null ? `<span class=\"badge bg-danger-subtle text-danger\" data-svelte-h=\"svelte-pp1ynj\">not found</span>` : `${escape(invoice.subscription.ref)}`}</td> <td>${escape(invoice.generated_at)}</td> <td>${invoice?.subscription?.ref == null ? `<span class=\"badge bg-danger-subtle text-danger\" data-svelte-h=\"svelte-pp1ynj\">not found</span>` : `<div class=\"d-flex gap-2 align-items-center\"><div class=\"flex-shrink-0\"><img${add_attribute(\"src\", invoice.subscription.package.school.logo.full_path, 0)} alt=\"\" class=\"avatar-xs rounded-circle\"></div> <div class=\"flex-grow-1\">${escape(invoice.subscription.package.school.name)} - ${escape(invoice.subscription.package.name)}</div></div>`}</td> <td><div class=\"d-flex gap-2 align-items-center\"><div class=\"flex-shrink-0\"><img${add_attribute(\"src\", invoice.father.user.profile.image.full_path, 0)} alt=\"\" class=\"avatar-xs rounded-circle\"></div> <div class=\"flex-grow-1\">${escape(invoice.father.user.profile.fullname)}</div></div></td> <td>${invoice?.subscription?.ref == null ? `<span class=\"badge bg-danger-subtle text-danger\" data-svelte-h=\"svelte-pp1ynj\">not found</span>` : `<div class=\"d-flex gap-2 align-items-center\"><div class=\"flex-shrink-0\"><img${add_attribute(\"src\", invoice.subscription.student.image.full_path, 0)} alt=\"\" class=\"avatar-xs rounded-circle\"></div> <div class=\"flex-grow-1\">${escape(invoice.subscription.student.fullname)}</div></div>`}</td> <td><div class=\"hstack gap-3\">${JSON.parse(sessionStorage.getItem(\"permissions\")).includes(\"invoices.show\") ? `<a href=\"${\"/admin/invoices/\" + escape(invoice.id, true)}\" target=\"_blank\" class=\"fs-15\" data-bs-toggle=\"tooltip\" data-bs-original-title=\"Print\"><i class=\"ri-printer-line\"></i></a>` : ``}</div></td></tr>`;\n});\nconst InvoicesTable = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $navigating, $$unsubscribe_navigating;\n  $$unsubscribe_navigating = subscribe(navigating, (value) => $navigating = value);\n  let { invoicesList } = $$props;\n  setContext(\"invoiceStore\", { invoiceStore: writable({}) });\n  if ($$props.invoicesList === void 0 && $$bindings.invoicesList && invoicesList !== void 0)\n    $$bindings.invoicesList(invoicesList);\n  $$unsubscribe_navigating();\n  return `<div class=\"row pe-0\"><div class=\"table-responsive\"><table class=\"table align-middle table-nowrap mb-0 border-top\"><thead class=\"table-light\" data-svelte-h=\"svelte-1saike4\"><tr><th scope=\"col\" style=\"width: 25px;\"><div class=\"form-check\"><input class=\"form-check-input\" type=\"checkbox\" id=\"checkAll\" value=\"option1\"></div></th> <th scope=\"col\">ID</th> <th scope=\"col\">Invoice Reference</th> <th scope=\"col\">Subscription Reference</th> <th scope=\"col\">Generated at</th> <th scope=\"col\">Package</th> <th scope=\"col\">Father</th> <th scope=\"col\">Student</th> <th scope=\"col\">Action</th></tr></thead> ${$navigating == null || $navigating?.from?.route?.id != $navigating?.to?.route?.id ? `<tbody class=\"list\">${each(invoicesList, (invoice) => {\n    return `${validate_component(InvoiceItem, \"InvoiceItem\").$$render($$result, { invoice }, {}, {})}`;\n  })}</tbody>` : ``}</table> </div></div> ${$navigating?.from?.route?.id == $navigating?.to?.route?.id && $navigating ? `<div class=\"text-center\" data-svelte-h=\"svelte-2svhwp\"><lord-icon src=\"https://cdn.lordicon.com/xjovhxra.json\" trigger=\"loop\" colors=\"primary:#E16F28,secondary:#73dce9\" style=\"width:120px;height:120px\"></lord-icon></div>` : ``}`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let invoicesList;\n  let invoicesPagination;\n  let { data } = $$props;\n  let invoicesPage;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  invoicesList = data.invoicesResponse.data.invoices;\n  invoicesPagination = data.invoicesResponse.pagination;\n  return `<div class=\"row\"${add_attribute(\"this\", invoicesPage, 0)}><div class=\"col-lg-12\"><div class=\"card\"><div class=\"card-header align-items-center d-flex\" data-svelte-h=\"svelte-19bpzv3\"><h4 class=\"card-title mb-0 flex-grow-1\">Invoices Managment</h4> <div class=\"flex-shrink-0\"></div> </div> ${JSON.parse(sessionStorage.getItem(\"permissions\")).includes(\"invoices.index\") ? `<div class=\"card-body\"> <div class=\"row\"> ${validate_component(SearchTable, \"SearchTable\").$$render($$result, { type: \"Invoice\" }, {}, {})} ${validate_component(InvoicesTable, \"InvoicesTable\").$$render($$result, { invoicesList }, {}, {})} ${validate_component(Pagination, \"Pagination\").$$render($$result, Object.assign({}, invoicesPagination), {}, {})} </div>   </div>` : ``} </div></div> </div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}